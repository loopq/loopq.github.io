var Perf,globalLeft,deferredCanary;window._perfMarker&&window._perfMarker("TimeToJsBundleExecutionStart");define("jqBehavior",["jquery","viewport"],function(n){return function(t,i,r){function u(n){var t=n.length;return t>1?function(){for(var i=0;i<t;i++)n[i]()}:t?n[0]:f}function f(){}if(typeof t!="function")throw"Behavior constructor must be a function";if(i&&typeof i!="object")throw"Defaults must be an object or null";if(r&&typeof r!="object")throw"Exclude must be an object or null";return r=r||{},function(f,e,o){function c(n){n&&(typeof n.setup=="function"&&l.push(n.setup),typeof n.teardown=="function"&&a.push(n.teardown),typeof n.update=="function"&&v.push(n.update))}var h;if(o&&typeof o!="object")throw"Options must be an object or null";var s=n.extend(!0,{},i,o),l=[],a=[],v=[],y=!0;if(r.query){if(typeof f!="string")throw"Selector must be a string";c(t(f,s))}else h=n(f,e),r.each?c(t(h,s)):(y=h.length>0,h.each(function(){var i=n(this);c(t(i,r.data?s:n.extend(!0,{},s,i.data?i.data():{})))}));return y?{setup:u(l),teardown:u(a),update:u(v)}:null}}});define("trackInfo.tokens",{spinTimeout:"150",browserFilterTable:'{ "webkit": "530.0.0", "mozilla": "1.9.0" }',logSamplingRate:"0"});define("adCommon",["document","pageTime","classList","headData","viewAware"],function(n,t,i,r,u){function s(n,t,i){n&&typeof t=="function"&&i&&(i[n]?i[n].push(t):i[n]=[t])}function h(n,t,i,r){var f,u;t&&i&&(f=5,t.divid=t.divid||t.divName,t.msnSdkName=r,u=setInterval(function(){if(i[n]&&i[n].length){for(var r=0;r<i[n].length;r++)i[n][r](t);clearInterval(u)}else f--||clearInterval(u)},500))}function c(n,t,i){n&&t&&(typeof i=="string"||typeof i=="number")&&(n[t]=i)}function l(){var t=n.body,r;return t&&(r=i.contains(t,"startpage")?"homepage":i.contains(t,"ap")?"article":i.contains(t,"gp")?"gallery":i.contains(t,"homepage")?"vlp":i.contains(t,"structured")?"structured":(i.contains(t,"gfp")||i.contains(t,"afp"))&&i.contains(t,"fullscreen")?"fs_gallery":"NA"),r}function a(){return o("MUID")}function v(){var n=r.locale.split("-");return n.length>1?n[1].toUpperCase():null}function y(){return o("TOptOut")}function f(t,i){return i&&i.forcefulVisibilityInEffect?i.forceVisibilityOn:i&&i.options&&i.options.scrollInit?t&&(t.top||t.bottom||t.left||t.right)&&t.top<=(window.innerHeight||n.documentElement.clientHeight)&&t.bottom>=0&&t.left<=(window.innerWidth||n.documentElement.clientWidth)&&t.right>=0:!0}function p(t,r,u,f,e){var o=e||((n.getElementById(t)||{}).parentNode||{}).parentNode,s,h;o&&r&&(s=i.contains(o,"widead"),u||s)&&(o.style.display="",o.style.visibility="visible",s&&(h=o.querySelector(".outeradcontainer"),h&&(h.style.display="inline-block")))}function w(n,i,r,u){if(n&&i){var f=t();n[i]||(n[i]={});r?n[i].st=f:(n[i].en=f,u&&(n[i].r=u))}}function b(n,t){n&&(n.forcefulVisibilityInEffect||(n.clientRect=n.elem.getBoundingClientRect()),n.isVisible=f(n.clientRect,n),n.canBeDisplayed=e(n,t)&&!n.shouldHideAds,n.canBeDisplayed|=n.forceDisplayOn||n.canBeDisplayed)}function e(n,t){return t=t||u.currentView(),!!(t&n.allowedViews)}function o(t){var r=new RegExp("\\b"+t+"\\s*=\\s*([^;]*)","i"),i=r.exec(n.cookie);return i&&i.length>1?i[1]:""}function k(){return window.performance&&typeof window.performance.now=="function"?window.performance.now():(new Date).getTime()}function d(){var u=[],f=r.currentFlights,i,n,t;if(f)for(i=f.split(","),n=0;n<i.length;n++)t=i[n],t&&t.indexOf("adflt-")===0&&u.push(t);return u}return{addEventListener:s,callEventHandlers:h,eventTypes:{AdRequested:"AdRequested",BeforeAdRender:"BeforeAdRender",AdRefreshed:"AdRefreshed",ErrorOccurred:"ErrorOccurred",AdNoBid:"AdNoBid"},isPlacementVisible:f,setAdContainerDisplayState:p,updateElementData:c,isAllowedInView:e,recordTiming:w,checkAndSetAdVisibility:b,getPageType:l,getOptOut:y,getMuid:a,getCountryCode:v,getCurrentTime:k,getAdFlights:d,responseStatusCode:{Success:1,NoAd:2,OneByOneCollapsePixel:3,AdError:4,NullAdObject:5,Unknown:6}}});define("dap",["viewAware","document","adCommon","dapmgr","evaluate","classList","viewport","pageTime"],function(n,t,i,r,u,f,e){function s(s,y,d,et,ot,st){function ui(){var r=st&&st.forcefulVisibility,u=st&&st.forcefulDisplay,e=r===!0,o=u===!0,t,i,n;(c==undefined&&(c=st&&st.adaptiveRefresh===!0,c&&typeof st.adaptiveRefreshInterval=="number"&&(p=st.adaptiveRefreshInterval||p),c=!0),t=lt&&lt.parentNode&&lt.parentNode.parentNode,i=ut,t)&&(f.contains(t,"widead")?i=rt:f.contains(t,"groupad")&&(i=ft),n=b[et],typeof n!="number"&&(n=tt++,b[et]=n),ht={params:s,width:y,height:d,htmlid:et,options:st||{},allowedViews:si(),sizeCharacteristics:{},clientRect:lt.getBoundingClientRect(),isRendered:!1,isLoaded:!1,isVisible:!1,canBeDisplayed:!1,forcefulDisplayInEffect:o||u===!1,forceDisplayOn:o,forcefulVisibilityInEffect:e||r===!1,forceVisibilityOn:e,canDisplayAdChoices:!1,isMonitored:!1,elem:lt,adType:i,idx:v.length,telemetry:{},currentRefreshCount:n,friendlyId:"",pg:"",shouldHideAds:bt,completionCb:vi,refreshAd:gt,rd:p},ht.friendlyId=ht.htmlid.substr(0,it)+"_"+ht.idx,ht.pg=ci(s),v.push(ht),fi(),hi())}function fi(){o?(o.sub(e.scrollChangeEventName,at),o.sub("adrefresh",gt)):require(["mediator"],function(n){o=n;o.sub(e.scrollChangeEventName,at);st.enableAdRefresh&&o.sub("adrefresh",gt)})}function ei(){o?o.sub(e.scrollChangeEventName,at):require(["mediator"],function(n){o=n;o.sub(e.scrollChangeEventName,at)})}function ni(){o?o.unsub(e.scrollChangeEventName,at):require(["mediator"],function(n){o=n;o.unsub(e.scrollChangeEventName,at)})}function at(){vt()}function oi(){require(["adDetection"],function(n){ht.detectionObject=n(ht);ht.detectionObject.startDetection()})}function vt(){!ht||pt||ht.isRendered||(i.checkAndSetAdVisibility(ht,ct),i.setAdContainerDisplayState(ht.htmlid,ht.isVisible,ht.canBeDisplayed||ht.isRendered,ht.canDisplayAdChoices),ht.isVisible&&ht.canBeDisplayed)&&(r.sandboxOptions=ht.options.sandbox,r.useXDomainIframe=ht.options.useXDomainFrame,i.recordTiming(ht.telemetry,"dap",!0,null),r.renderAd(ht.htmlid,ht.params,ht.width,ht.height,!1,ht),i.recordTiming(ht.telemetry,"dap",!1,""),ht.st=i.getCurrentTime(),++k,ht.isRendered=!0,r.useXDomainIframe||oi(),ni(),h||(dt(),l=ti()),wt())}function ti(){var t=n.views;return ct&t.SIZE1COLUMN&&1||ct&t.SIZE2COLUMN&&2||ct&t.SIZE3COLUMN&&3||ct&t.SIZE4COLUMN&&4||0}function si(){var t,i;return lt&&(t=lt.getAttribute("data-adjs"),i=u(t).allowedViews,t)?n.views[i]||n.views.NONE:null}function hi(){ht&&vt()}function ci(n){return(ri.exec(n)||{})[1]||""}function wt(){if(ht){var n='{"w":'+a+',"h":'+w+',"c":'+l+',"v":'+(ht.isVisible?1:0)+',"d":'+(ht.canBeDisplayed?1:0)+',"r":'+(ht.isRendered?1:0)+',"s":'+yt+"}";ht.elem.setAttribute("data-ad",n)}}function dt(){var n=e.getDimensions(),i;h&&h.width==n.width||(h=n,i=t.getElementById(g),a=i?i.offsetWidth:n.width,w=n.height)}function gt(){ai();typeof ht.order=="number"?setTimeout(function(){vt()},ht.order):vt()}function li(){var t=ht.elem.querySelectorAll("iframe"),i,n;if(t&&t.length)for(n=t.length-1;n>=0;n--)try{t[n].src="about:blank";ii(t[n])}catch(r){}if(i=ht.elem.children,i&&i.length)for(n=i.length-1;n>=0;n--)ii(i[n])}function ii(n){n&&n.parentNode&&(typeof n.remove=="function"?n.remove():n.parentNode.removeChild(n))}function ai(){li();ht.isRendered=!1;ht.isLoaded=!1;ht.isVisible=!1;ht.canBeDisplayed=!1;ht.canDisplayAdChoices=!1;ht.sizeCharacteristics.adSizeType=nt;ht.alreadyCalled=!1;ni();ei()}function vi(){ht.isLoaded||(ht.isLoaded=!0,--k)}var ht,ct,yt,bt=!1,pt=!1,ri=/\bPG=([^&]*)/i,lt=t.getElementById(et),kt;(pt=st&&st.disableAds===!0,kt=st&&st.disableAdPlacement,bt|=pt,(bt||kt)&&(i.setAdContainerDisplayState(et,!0,!1,!1),pt||kt))||(n.listen(function(n){(ct=ct||n,ct!=n)&&(ct=n,l=ti(),dt(),wt(),vt())}),ui(),require(["scaledView"],function(n){yt=n.isScaled();wt();n.addListener(function(n){yt!=n&&(dt(),yt=n,wt())})}))}function d(){y.refreshAllAds()}var l,h,a,w,g="header-common",nt=0,o;r.enableUnblockingOnload&&r.enableUnblockingOnload(!0);var v=[],b={},tt=0,it=15,k=0,rt=0,ut=2,ft=3,c,y,p=3e3;return s.adPlacements=v,s.adLoadedEvent="adloaded",s.adRerenderedEvent="adrerendered",s.refresh=function(){y?d():require(["adRefresh"],function(n){y=n;d()})},s});define("adTelemetry",["window","pageTime","pageStart","logging","adCommon","requestAnimationFrame","trackInfo","pageInstance","headData","mediator"],function(n,t,i,r,u,f,e,o,s,h){function ft(n){c.elems&&c.elems.length===0||(n&&(c.repmech=n),d(c,!0))}function k(n,t,r){if(n&&t){var u={st:i,repmech:n,elems:[]};u.elems.push(t);d(u,!1,r)}}function et(){v=!1;c={elems:[],repmech:"",st:c.st};p();l=!1}function ot(n,t,i){var r,u;i=i||"adimpr_update";r=it(n,i);r.g=t?1:0;a.push(r);f(function(){g(a)});t&&(u={st:n.st,repmech:n.repmech,elems:[]},c=u)}function d(n,t,i){if(n){if(a.length>rt){r.error("adTelemetryMgr: exceeded max posting queue length.");return}if(t){if(l)return;l=!0}ot(n,t,i)}}function g(n){if(n.length!==0)for(var t;t=n.shift();)e.telemetryTracking.sendUpdate(t),t.global&&(l=!1)}function p(){v||(y.pageViewActivityId=o.getActivityId()||s.clientSettings.aid,v=!0)}function nt(n,t,i,r){return r=r||{},u.updateElementData(r,"ldmech",n),u.updateElementData(r,"id",t),u.updateElementData(r,"pg",i),r}function st(n,t,i,r,e){if(n&&n.telemetry){var o=n.telemetry;u.recordTiming(o,t,i,r);e&&f(function(){k("detcompl",o);n.telemetry=nt("visch",n.friendlyId,n.pg);c&&c.elems&&c.elems[n.idx]&&(c.elems[n.idx]=n.telemetry)},0)}}function ht(n,t){n&&t&&(u.updateElementData(n,"cid",t.CID),u.updateElementData(n,"asid",t.ASID))}function ct(n,t){var i=it(n,t);w?e.telemetryTracking.sendUpdate(i):b.push(i)}function tt(){w=!0;h.unsub("pageViewOnLoad",tt);g(b)}function it(n,t){return p(),{evt:t,rid:y.pageViewActivityId,di:e.sitePage.domainId,clid:e.client.clientId(),data:n}}var a=[],rt=7,l=!1,v=!1,w,b=[],ut=((n.performance||{}).timing||{}).responseStart||(n._timing||{}).start||+new Date,c={navst:i,rst:ut,repmech:"",elems:[]},y={pageViewActivityId:null};return h.sub("pageViewOnLoad",tt),{buildNewTelemetryObject:nt,pageStagingPayload:c,postTelemetryData:ft,postTelemetryDataForElement:k,sendOtfCall:ct,resetPageStagingTelemetryForRefresh:et,trackingData:y,updatePageViewActivityId:p,recordAdOperation:st,updateAdIdTelemetryData:ht}});define("adRefresh",["dap","mediator","adTelemetry","adCommon"],function(n,t,i,r){function c(n){if(n.norefresh===!0)return!1;var t=r.getCurrentTime()-n.st;return t>4e3||n.isRendered&&n.isLoaded&&t>2e3?!0:!1}function h(n){setTimeout(function(){u=!1;e=!1},n)}function f(n,t,r){if(r&&n.pg===a&&(n.norefresh=!0),!c(n))return!1;n.refreshEnabled=!0;i.pageStagingPayload&&i.pageStagingPayload.elems&&(n.telemetry=null,n.telemetry=i.buildNewTelemetryObject("refresh",n.friendlyId,n.pg),i.pageStagingPayload.elems.push(n.telemetry));n.isRendered&&n.detectionObject&&n.detectionObject.stopDetection();var u=n.elem.parentNode.parentNode,f=u.offsetHeight;return f&&(u.style.height=f+"px"),i.trackingData&&i.trackingData.pageViewActivityId&&(n.params=n.params.replace(/PVGUID=[^&]*/,"PVGUID="+i.trackingData.pageViewActivityId),n.options=n.options||{},n.options.rid=i.trackingData.pageViewActivityId),t===!0&&n.refreshAd(),!0}function v(n,t){var u,r,i;if(n&&n.length){for(r=0;u=n[r];r++)try{f(u,!0,t)}catch(e){}i=typeof t=="number"?t*o+n[0].rd:n[0].rd;i=s>i?i:s;h(i)}}function y(n,t){function r(o){var s,h;if(u===0||!(!o||u>=n.length||i&&o.htmlid!==i)){o&&(o.refreshCallback=null);s=n[u++];s.refreshCallback=r;try{if(i=s.htmlid,h=f(s,!0,t),!h){r(s);return}}catch(c){i=null}setTimeout(function(){r(s)},e)}}var u=0,i,e=typeof t=="number"?t*o+n[0].rd:n[0].rd,c=typeof t=="number"?t*o+s:s;r();h(c)}function p(t,r){e||u||n.adPlacements&&n.adPlacements.length&&(i.resetPageStagingTelemetryForRefresh(),u=!0,r?y(n.adPlacements):v(n.adPlacements,t))}function w(t,r){var l,v,s,a;if(!e&&!u&&(l=n.adPlacements,l&&l.length)&&(i.resetPageStagingTelemetryForRefresh(),e=!0,l&&l.length)){for(v=typeof r=="number"?r*o+l[0].rd:l[0].rd,a=0;s=l[a];a++)if(s.refreshCallback=null,t){if(s.htmlid===t){s.lastRefreshed=!0;f(s,!0);break}}else if(!s.lastRefreshed&&c(s)){if(s.lastRefreshed=!0,!f(s,!0,r))continue;break}else s.lastRefreshed=!1;h(v)}}function b(t){if(typeof t=="string"&&(!t.trim||t.trim()!=="")&&n.adPlacements&&n.adPlacements.length)for(var i,r=0;i=n.adPlacements[r];r++)i.options.prid=t}function k(r){var h,s,e,o,c,y,a,v;if(!r&&!u){for(u=!0,i.postTelemetryData("refresh"),i.resetPageStagingTelemetryForRefresh(),h=n.adPlacements,s={},c=0;o=h[c];c++)f(o,!1),o.adType===l?(e=s[o.htmlid],e||(e=[],s[o.htmlid]=e),e.push(o),h.splice(c--,1)):o.order=null;for(y in s)for(e=s[y],e.unshift(e.splice(-1,1)[0]),a=0;v=e[a];a++)v.order=a+10,h.push(v);t.pub("adrefresh");u=!1}}var l=3,e,u,o=600,s=6e3,a="TSTPRMUS32";return{refresh:k,refreshOneAd:w,refreshAllAds:p,updateAdsProviderId:b}});define("dapmgr",["appnexusAst","adCommon","logging"],function(n,t,i){function ut(i){n.onEvent(y,i,function(){});n.onEvent(p,i,function(n){t.callEventHandlers(t.eventTypes.AdRefreshed,n,r,e)});n.onEvent(w,i,function(n){if(!n){n={statusCode:t.responseStatusCode.NullAdObject,divid:i};s(n);return}n.divid=i;!n.height&&n.banner&&n.banner.height&&(n.height=n.banner.height);!n.width&&n.banner&&n.banner.width&&(n.width=n.banner.width);t.callEventHandlers(t.eventTypes.AdRefreshed,n,r,e)});n.onEvent(b,i,function(n){n=n||{divid:i};n.statusCode=t.responseStatusCode.AdError;s(n)});n.onEvent(k,i,function(n){n=n||{divid:i};n.statusCode=t.responseStatusCode.AdError;s(n)});n.onEvent(d,i,function(n){n=n||{divid:i};n.statusCode=t.responseStatusCode.OneByOneCollapsePixel;s(n)});n.onEvent(g,i,function(n){n=n||{};n.statusCode=t.responseStatusCode.NoAd;n.divid=i;t.callEventHandlers(t.eventTypes.AdNoBid,n,r,e)})}function ft(t){n.offEvent(y,t);n.offEvent(p,t);n.offEvent(w,t);n.offEvent(b,t);n.offEvent(k,t);n.offEvent(d,t);n.offEvent(g,t)}function s(n){t.callEventHandlers(t.eventTypes.ErrorOccurred,n,r,e)}function et(n,t){return(t.exec(n)||{})[1]||""}var h={},r=[],u,f,nt=/\bPROVIDERID=([^&]*)/i,v={LB:[[728,90],[620,400],[650,170],[750,200],[750,300],[760,100],[768,150],[800,250],[930,80],[930,100],[930,180],[940,180],[940,300],[960,180],[970,40],[970,90],[970,250],[980,120],[980,150],[980,240],[980,250],[980,300],[980,400],[994,118],[994,250],[1e3,90],[1e3,300],[1010,150],[1010,300],[1192,300],[1250,240],[1250,360],[1272,328],[1272,250]],RR:[[300,250],[300,600]]},e="appnexus",c,l,tt=t.getOptOut(),o,it=t.getMuid(),a,rt=t.getAdFlights(),y="adRequested",p="adAvailable",w="adLoaded",b="adError",k="adRequestFailure",d="adCollapse",g="adNoBid";return n.l||(n.l=!0),h.renderAd=function(r,e,s,h,y,p){u=p.options.prid||et(e,nt);s=p.options.adsVNextWidth||s;h=p.options.adsVNextHeight||h;o=o||p.options.apnId;ft(r);u||(u="EMPTYPIDAN",i.error("ProviderId is empty for PG="+p.pg));l||(l=t.getCountryCode());c||(c=t.getPageType());f=s==="LB"?v.LB:s==="RR"?v.RR:[s,h];var w={member:o,sizes:f,targetId:r,invCode:p.pg,extInvCode:l,allowSmallerSizes:!1,trafficSourceCode:"pg:"+p.pg+";p:"+u+";r:"+p.options.rid,keywords:{pagetype:c,optout:tt,flightIds:rt},rendererOptions:{playOnMouseover:p.options.playOnMouseover,audioOnMouseover:p.options.audioOnMouseover,playVideoVisibleThreshold:p.options.playVideoVisibleThreshold,nonViewableBehavior:p.options.nonviewablebehavior,playerTechnology:["flash","html5"],adText:p.options.adtext,showMute:p.options.showmute,showVolume:p.options.showvolume,showProgressBar:p.options.showprogressbar,allowFullscreen:p.options.allowfullscreen,vpaidTimeout:p.options.vpaidTimeout,terminateUnresponsiveVPAIDCreative:p.options.terminateUnresponsiveVPAIDCreative,enableInlineVideoForIos:p.options.enableInlineVideoForIos,delayExpandUntilVPAIDInit:p.options.delayExpandUntilVPAIDInit,delayExpandUntilVPAIDImpression:p.options.delayExpandUntilVPAIDImpression,disableTopBar:p.options.disableTopBar,preShow:{type:p.options.preShowType,url:p.options.preShowUrl},postShow:{type:p.options.postShowType,clickUrl:p.options.postShowClickUrl,url:p.options.postShowUrl},fallback:{type:p.options.fallbackType,clickUrl:p.options.fallbackClickUrl,url:p.options.fallbackUrl},skippable:{videoThreshold:p.options.videothreshold,videoOffset:p.options.videooffset,skipLocation:p.options.skiplocation,skipText:p.options.skiptext,skipButtonText:p.options.skipbuttontext}}};w.nobidIfUnsold=!0;a=a||{member:o,user:{externalUid:it},keywords:{rid:p.options.rid,provider_id:u}};n.setPageOpts(a);n.defineTag(w);n.loadTags();n.showTag(r);ut(r)},h.addEventListener=function(n,i){t.addEventListener(n,i,r)},h});define("adDetection",["document","pageTime","mediator","adCommon","perfPing","classList","dapmgr","adTelemetry","window"],function(n,t,i,r,u,f,e,o){function l(n){function y(){o.updatePageViewActivityId();n.telemetry=o.buildNewTelemetryObject("pgld",n.friendlyId,n.pg,n.telemetry);p()}function p(){if(!n.subscribed){var i=r.eventTypes;e.addEventListener(i.BeforeAdRender,function(n){u(n,"rad",!1,"1","ads log: "+t()+": Ad call completed.")});e.addEventListener(i.AdRefreshed,function(n){u(n,"adld",!1,"1","ads log: "+t()+": Ad creative loaded.",b,!0)});e.addEventListener(i.ErrorOccurred,function(n){u(n,"aderror",!1,"1","ads log: "+t()+": Ad creative error.",w,!0)});e.addEventListener(i.AdNoBid,function(n){u(n,"adNoBid",!1,"1","ads log: "+t()+": Ad no bid.",k,!0)});n.subscribed=!0}}function u(t,i,r,u,f,e,s){if(t&&n&&t.divid===n.htmlid){if(!s){o.recordAdOperation(n,i,r,u,s);return}n.alreadyCalled||(n.alreadyCalled=!0,typeof e=="function"&&e(t))}}function w(t){a(t);l(t,"aderror","error");typeof n.completionCb=="function"&&n.completionCb()}function b(t){n.height=t.height;n.width=t.width;n.anAdId=t.anAdId;n.anAuctionId=t.anAuctionId;a(t);v(t);l(t,"adld","successful");i.pub(s,n);typeof n.completionCb=="function"&&n.completionCb();setTimeout(function(){typeof n.refreshCallback=="function"&&n.refreshCallback(n)},500)}function k(t){n.height=t.height=1;n.width=t.width=1;v(t);l(t,"adnobid","nobid");i.pub(s,n);typeof n.completionCb=="function"&&n.completionCb()}function d(){}function a(t){if(t=t||{},n.canDisplayAdChoices=t.width>2&&t.height>2,n.canDisplayAdChoices){var i=n.elem.parentNode.querySelector(".adchoices,.adchoicesjs");f.add(i,"show")}}function v(t){n.elem.style.display="";n.elem.style.visibility="visible";var i=((n.elem||{}).parentNode||{}).parentNode;i&&(i.style.height="",t.width>2&&t.height>2?(f.remove(i,c),f.add(i,h)):(f.remove(i,h),f.add(i,c)),t.anAdId&&n.elem.setAttribute("data-anAdId",t.anAdId))}function l(t,i,u){t=t||{};r.updateElementData(n.telemetry,"w",n.width);r.updateElementData(n.telemetry,"h",t.height);r.updateElementData(n.telemetry,"status",t.statusCode);r.updateElementData(n.telemetry,"anAd",t.anAdId);r.updateElementData(n.telemetry,"seqid",t.seqId);r.updateElementData(n.telemetry,"timestamp",t.timeStamp);r.updateElementData(n.telemetry,"sdk",t.msnSdkName);o.recordAdOperation(n,i,!1,u,!0)}return{startDetection:y,stopDetection:d}}var s="adloaded",h="non-empty-ad",c="ad-1x1";return l});define("adLoad",["viewAware","classList","evaluate","mediator","pageTime","document","imgSrc","c.dom"],function(n,t,i,r,u,f,e){function o(n,t){var i,r;if(n&&n.length)for(i=0;r=n[i];++i)r.nodeType==1&&t(r)}function s(u,f){function y(n){var i,c,h,f;if(n.htmlid==a||n.id==a){if(i=s.offsetHeight,c=s.getAttribute("ad-loaded-height"),c)try{h=parseInt(c);!isNaN(h)&&i<h&&(i=h)}catch(l){return}t.contains(u,"layout-large")?t.remove(u,"layout-large"):t.contains(u,"layout-medium")?t.remove(u,"layout-medium"):t.contains(u,"layout-small")?t.remove(u,"layout-small"):t.contains(u,"layout-none")?t.remove(u,"layout-none"):t.contains(u,"no-ad")&&t.remove(u,"no-ad");i<=2?f="layout-none":v?i>=550?f="layout-large":i>=200?f="layout-medium":i>=50&&(f="layout-small"):i>299?f="layout-large":i>99&&(f="layout-small");f&&(t.add(u,f),o(u.querySelectorAll("img"),function(n){e.checkLoad(n)}),r.pub("invalidate-layout",u),r.pub("truncate"))}}var h,v,l,c,s,a,p;if(u&&u.querySelectorAll&&(f=f||".showcasead,.ad300x250,.ad",h=u.querySelectorAll(f),v=u.className.indexOf("today")>=0,h.length)){if(h.length==1)l=h[0];else switch(n.currentView()){case n.views.SIZE1ROWSIZE4COLUMN:case n.views.SIZE2ROWSIZE4COLUMN:l=h[h.length-1];break;default:l=h[0]}(l.style.display="block",s=l.querySelector(".adcontainer"),s&&(c=i(s.getAttribute("data-adjs"))))&&(a=s.id,v&&(p=s.getAttribute("ad-loaded-height"),p&&y(s)),require(["dap"],function(n){r.sub(n.adLoadedEvent,y);r.sub(n.adRerenderedEvent,y);c.dap&&n(c.dap,c.width,c.height,a,c.iaf,c.option)}))}}var h=f.querySelectorAll(".today1,.todaymodule,.todaystripe,.skyline,.pagingsection .newlist,.tabsection .newlist,.pagingsection .list,.tabsection .list, .flexgp #maincontent");return o(h,s),{loadSectionAd:s}});define("implicitPersonalizationTracker",["headData","getCookie","setCookie","classList","window","document","jquery","c.onload"],function(n,t,i,r,u,f,e){function ot(n){return it[n]||c}function y(n,t,i){n[t]||(n[t]={});var r=n[t];typeof r[i]=="number"?r[i]+=1:r[i]=1}function st(n){n&&(n._v=ct,i(p,JSON.stringify(n),180,i.topDomain,"/"))}function vt(n){(typeof n[g]!="number"||n[g]<w)&&delete n[lt]}function yt(n){var t=new Date;ht(n,t)&&(h(n[s],tt),h(n[k],tt),h(n[d],at))}function h(n,t){var i,r,u;if(n&&typeof t=="number")for(i in n)n.hasOwnProperty(i)&&(r=n[i],typeof r=="number")&&(u=Math.floor(r*t),u==0?delete n[i]:n[i]=u)}function ht(n,t){var i,r;return!n||!t?!1:(i=n[nt],typeof i=="undefined"&&(i=-1),r=Math.floor((t.getDate()+t.getMonth()*30)/7),i!=r)?(n[nt]=r,!0):!1}function pt(){var f=[c,it.homepage],r=c,u=0,t=o[s],n,i;if(t)for(n in t)i=t[n],t.hasOwnProperty(n)&&typeof i=="number"&&i>u&&f.indexOf(n)==-1&&(u=i,r=n);return r}function wt(){var i=0,n=o[s],t;if(n)for(t in n)n.hasOwnProperty(t)&&typeof n[t]=="number"&&(i+=n[t]);return i}var p="ipt",w=3,ct=w,b=e("body").hasClass("toolspage"),s="v",k="pt",lt="ct",d="bk",g="_v",c="U",nt="_t",tt=.85,at=.9,it={news:"A",weather:"B",entertainment:"C",movies:"C",games:"C",music:"C",tv:"C",sports:"D",finance:"E",lifestyle:"F",health:"G",foodanddrink:"H",travel:"I",autos:"J",video:"K",homepage:"L"},rt={ap:"a",gp:"b",vp:"c",sp:"d",hp:"e"},ut={v:{},pt:{},bk:{}},l="",o=ut,v;if(!b){if(n.clientSettings==null)return 1;var ft=ot(n.clientSettings.vk),et=n.clientSettings.cat,a="u";for(v in rt)if(r.contains(f.body,v)){a=rt[v];break}}if(l=t(p),l)try{o=JSON.parse(l)}catch(bt){}return!b&&o&&(vt(o),yt(o),y(o,s,ft),et&&y(o,d,et),y(o,k,a),st(o)),{getCookieFormat:ut,getIptCookie:o,getTopVerticalId:pt,getTotalVerticalViewCount:wt,getVerticalId:ot,pageType:a,saveIptCookie:st,values:o,verticalName:ft,shouldDecayCookie:ht,decayCounts:h}});define("afire",["image"],function(n){return function(t){if(t){var i=new n;i.onload=i.onerror=function(){i.onload=i.onerror=null};i.src=t.replace(/&amp;/gi,"&")}}});define("track.generic",["track","extend","trackInfo"],function(n,t,i){function r(n){this.defaultOpts=t(!0,{},u,n);this.samplingRate=this.defaultOpts.samplingRate}var u={base:"",samplingRate:100,eventAlias:{submit:"click",mouseenter:"click",mouseleave:"click",click_nonnav:"click",mouseenter_nav:"click",contextmenu:"click"}};return r.prototype={getEventTrackingUrl:function(t){var u=this.defaultOpts,r,f;return(t||(t=(i.event||{}).type),r=u[t],!r&&u.eventAlias&&(r=u[u.eventAlias[t]]),r)?(f=u.base+(r.url?r.url:""),n.generateUrl(f,u.common,u.commonMap,r.param,r.paramMap)):""},getPageViewTrackingUrl:function(){return this.getEventTrackingUrl("impr")}},r});define("visibility",["window","document"],function(n,t){function e(){function r(){var r,u;if(t){for(r=[],u=0;u<n.length;u++)try{n[u](i)}catch(f){r.push(f)}if(n=[],r.length)throw r;}}function u(){t=!0;i=arguments;r()}function f(){return{then:function(t){n.push(t);r()},always:function(){return this.then(arguments)}}}var n=[],t=!1,i=null;return{promise:f,resolve:u}}function c(){var r=["webkit","moz","ms","o"],n,i;if(typeof t.hidden!="undefined")return"hidden";for(n=0;n<r.length;n++)if(i=r[n]+"Hidden",i in t)return i}function f(){return i?t[i]:!1}function h(){f()?(r=new e,o||(u=!0)):r.resolve()}function l(){return u?1:0}function a(i,r,u,e){var s,h,c;if(f()||!i)return!1;if(e=e||n.innerHeight,r=r||n.innerWidth,u||u===0||(u=0,s=t.getElementById("content"),s&&(h=s.getBoundingClientRect(),r=h.right,u=h.left)),c=!1,define.is("jquery")&&i instanceof jQuery){if(!i.length)return!1;i=i[0]}var o=i.getBoundingClientRect(),l=(o.top>=0||o.bottom>=0)&&(o.top<e||o.bottom<e),a=(o.left>=u||o.right>u)&&(o.left<r||o.right<=r);return c=o.height!==0||o.width!==0,c&&l&&a}function v(){return r.promise()}var r=new e,i=c(),o=!1,u,s;return n.addEventListener&&n.addEventListener("beforeunload",function(){o=!0}),u=!1,i&&(s=i.replace(/[H|h]idden/,"")+"visibilitychange",t.addEventListener(s,h)),h(),{isHidden:f,notifyWhenPageVisible:v,isElementTrulyVisible:a,wasBrowserHiddenAtLeastOnce:l}});define("trackInfo",["trackInfo.tokens","dom","pageInstance","getCookie","screen","window","document","viewAware","deviceGroup","logging","visibility","extend","evaluate"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function ot(n,t){this.element=n;this.visible=t;this.visible&&(this.compress=function(){var n=this.element.getAttribute("data-m");try{return JSON.parse(n)}catch(t){return n}})}function ut(){g=f.innerWidth||e.documentElement.clientWidth;nt=f.innerHeight||e.documentElement.clientHeight}function ft(n){if(n){var i=it(n),r=d(i,"data-aop")||d(i,"data-region"),t;return(t=ft(i),t&&r)?[t,r].join(v.cmSeparator):r||t}}function et(n){if(n){var r=it(n),i=d(r,"data-region"),t;return(t=et(r),t&&i)?[t,i].join(v.cmSeparator):i||t}}function st(){return f.innerHeight||e.documentElement.clientHeight||e.body.clientHeight||0}function ht(){return f.pageYOffset||e.body.scrollTop||e.documentElement.scrollTop||0}function ct(){return Math.max(e.body.scrollHeight||0,e.documentElement.scrollHeight||0,e.body.offsetHeight||0,e.documentElement.offsetHeight||0,e.body.clientHeight||0,e.documentElement.clientHeight||0)}function lt(){try{return a(n.browserFilterTable)}catch(t){return null}}function at(){var n={};return f&&f.adsEnabled!=null&&(n.adoni=+f.adsEnabled),n}function vt(n,t,i){return i?t?[t,i].join(n):i:t}function yt(n,t,i){var s,r,h,e,l,u,o;if(!i)return t?t:"";if(!t)return i?i:"";var f={},c=!1,a=i.split(n);for(s=0;s<a.length;s++)if(r=a[s].split(":"),r[0]){if(!c&&r[0]&&t.indexOf(r[0])!=-1){for(h=t.split(n),e=0;e<h.length;e++)h[e]&&(l=h[e].split(":"),f[l[0]]=l[1]);c=!0}f[r[0]]=r[1]}u="";for(o in f)o&&(u+=o,f[o]&&(u+=":"+f[o]),u+=n);return c||(u+=t),u}function pt(n,t){var i;i=new XMLHttpRequest;i.open("POST",n,!0);i.setRequestHeader("Content-type","application/json; charset=utf-8");i.onreadystatechange=function(){};i.send(t)}var d=t.attr,it=t.parent,p,rt,g,nt,y,tt={},k=[],w="",b={},v={notrack:"notrack",cmSeparator:">",defaultModule:"body",defaultFormHeadline:"[form submit]",piitxt:"data-piitxt",piiurl:"piiurl",wrapperId:"wrapper",defaultConnectionType:"LAN",smpCookie:"Sample",smpExp:182,MUIDCookie:"MUID",spinTimeout:parseInt(n.spinTimeout)||150,trackTcm:"tcm",trackAop:"aop",curAop:"",trackRegion:"region",gestureKey:"touch_gesture",gestureType:{tap:"tap",rightclick:"rightclick"},eventTypes:{click:"click",nonNavClckEvt:"click_nonnav",submit:"submit",contextmenu:"contextmenu",mouseenter:"mouseenter"},imprUpdateMechanisms:{load:"load",scroll:"scroll",auto:"auto",tap:"tap",resize:"resize",swipe:"swipe",partial:"partial"},curRegion:"",event:{},sitePage:{},userStatic:{},overrideClientParams:{},customTags:at()||{},oobWaitTime:150,enableOOB:1,bwVerTable:lt(),trackingDisabled:!1,getCurrentTime:function(){return+new Date},timeToInteract:function(n){var t;return t=n?n:v.getCurrentTime(),t&&f.performance&&f.performance.timing&&f.performance.timing.navigationStart?t-f.performance.timing.navigationStart:void 0},telemetryModuleTypes:{Undefined:0,Header:1,Footer:2,topNavBar:3,navBar:4,dropDown:5,Section:6,Carousel:7,Module:8,searchBox:9,inputBox:10,actionButton:11,Interaction:12,Headline:13,Navigation:14,Entity:15,structuredData:16,appStore:17,appLaunch:18,cmsPromotions:19,microsoftWebStore:20,xboxStore:21,officeStore:22,appInstall:23,PartnerLinks:24,SponsoredContent:25},contentPlacedBySource:{Editorial:0,PersonalizationAlgo:1,BingAlgo:2,Taboola:3,Outbrain:4},telemetryDataAttribute:"data-m",telemetryHLAttribute:"data-hl",client:{resetClientId:function(){p=r(v.MUIDCookie)||v.sitePage.requestId||""},clientId:function(){return p||p===""||(p=r(v.MUIDCookie)||v.sitePage.requestId||""),p},getMuid:function(){return r(v.MUIDCookie)},OTFTelemetry:function(n){require(["binding","c.deferred"],function(){var t,o,s,h,c,l,r,u,i;typeof n=="undefined"?n=v.imprUpdateMechanisms.load:n==null&&(n="");k=[];t=e.body.querySelectorAll("[data-m]");o=f.innerHeight;s=f.innerWidth;h=0;c=e.getElementById("content");c&&(l=c.getBoundingClientRect(),s=l.right,h=l.left);var y=e.body.querySelector(".ip")||e.body.querySelector(".mip")||e.body.querySelector(".sip"),p=y&&v.telemetryTracking.isVisible(y,s,h,o),a=[];for(r=0;r<t.length;r++)t[r].getAttribute("data-otfUseViewportForVisibility")=="true"?a.push(v.telemetryTracking.isVisible(t[r],f.width,0,o,p)):a.push(v.telemetryTracking.isVisible(t[r],s,h,o,p));for(u=0;u<t.length;u++)k.push(new ot(t[u],a[u]));i=v.telemetryTracking.formatModules();i&&(i.e&&i.e.length>0||i.vc&&i.vc.length>0)&&v.telemetryTracking.sendImprUpdateEvent(n,i,v)})},OTFSpecialSection:function(){},colorDepth:u.colorDepth,connectionType:function(){return v.defaultConnectionType},cookieSupport:function(){return e.cookie?"Y":"N"},height:function(){return nt||ut(),nt},pageUrl:function(){return f.location.href},referrer:function(){return e.referrerOverride||e.referrer},screenResolution:function(){return[u.width,u.height].join("x")},width:function(){return g||ut(),g},timezone:function(){var i=new Date,r=new Date,n,t;return r.setMonth(i.getMonth()+6),n=Math.round(i.getTimezoneOffset()/60)*-1,t=Math.round(r.getTimezoneOffset()/60)*-1,n<t?n:t},viewType:function(){return(s.isTmx||s.isMidlevel)&&!y&&o.listen(function(n){n&o.views.SIZE1COLUMN?y="size1column":n&o.views.SIZE2COLUMN?y="size2column":n&o.views.SIZE3COLUMN?y="size3column":n&o.views.SIZE4COLUMN&&(y="size4column")}),y},isIE:function(){return f.ActiveXObject?!0:!1},frameData:function(){if(f._pageTimings&&f._pageTimings.frameMarkerData)return f._pageTimings.frameMarkerData},wasBrowserHiddenAtLeastOnce:function(){return c.wasBrowserHiddenAtLeastOnce()}},userDynamic:{anid:function(){return r("ANON")},isHomePage:function(){var n=e.documentElement,t=0;if(n.addBehavior&&(rt||n.addBehavior("#default#homePage"))){rt=1;try{t=n.isHomePage(f.location.href)?"Y":"N"}catch(i){}}return t},timeStamp:function(){return v.getCurrentTime()},AOP:function(){return v.curAop!=null&&v.curAop==""&&(v.curAop=ft(t.getTarget(v.event))||""),v.curAop},Region:function(){return v.curRegion!=null&&v.curRegion==""&&(v.curRegion=et(t.getTarget(v.event))||""),v.curRegion},slideType:function(){for(var n=v.event.target,i="halfpane";n&&t.name(n)!="SECTION";){if(t.name(n)=="LI"&&t.containsClass(n,i))return i;n=t.parent(n)}return null},eventNumber:0},custom:{addCustomTags:function(){var n=v.customTags;return n=l({},v.customTags,tt),tt={},JSON.stringify(n)},addCustomTagsForClickEvent:function(){var n="",t;if(typeof b=="object")for(t in b){n=JSON.stringify(b);break}return b={},n}},telemetryTracking:{setupParameters:function(n){var t=v.sitePage;return{evt:n,rid:i.getActivityId()||t.requestId,di:t.domainId,clid:v.client.clientId()}},sendImprUpdateEvent:function(n,t){if(t!=undefined&&(!(t.e==undefined||t.e.length<=0)||!(t.vc==undefined||t.vc.length<=0))){var i=this.setupParameters("impr_update");i&&(i.mech=n,i.winht=st(),i.docht=ct(),i.scrollOff=ht(),i.wbh=c.wasBrowserHiddenAtLeastOnce(),i.e1=t,i.tmpl=v.sitePage.templ,i.mkt=v.sitePage.localeCode,n===v.imprUpdateMechanisms.scroll&&(i.TTI=v.timeToInteract()),f&&f.adsEnabled!=null&&(i.adoni=+f.adsEnabled),this.sendUpdate(i))}},isVisible:function(n,t,i,r){return n?c.isElementTrulyVisible(n,t,i,r):!1},formatModules:function(){var n=[],r,t,u,i;for(r in k)t=k[r],t&&t.compress&&(u=t.compress(),n.push(u));return i={},n&&n.length>0&&(i.e=n),i},sendUpdate:function(n){var t,i,u;if(!v.trackingDisabled&&n){if(!w&&(w=(v.sitePage||{}).otfURL,!w)){h.error("[telemetryTracking.sendUpdate] BaseUrl was empty or undefined in sitePage.");return}if(JSON&&JSON.stringify){try{t=JSON.stringify([n])}catch(r){h.error("[telemetryTracking.sendUpdate] Error in using JSON.stringify.",r);return}if(t&&t!="[{}]")try{if(v.testHook){v.testHook();return}i=!1;u=!1;i&&(!i||u)||pt(w,t)}catch(r){h.error("[telemetryTracking.sendUpdate] Error in generating the XDomainRequest or XMLHttpRequest","BaseUrl = "+w,r);return}}}}},updateTemplValue:function(n){v.updateSitePage(n)},updateSitePage:function(n,t,i){var r=v.sitePage,u;r||(r=v.sitePage={});u=r.flightId;t&&(!u||u.indexOf(t)<0)&&(r.flightId=vt(",",u,t));r.templ=yt(";",r.templ,n);i&&(r.requestId=i)},setCustomTagsForClickEvent:function(n,t){n&&t&&t!=undefined&&(b[n]=t)},trackCustomProperty:function(n,t){n&&t!=undefined&&(n=n.toLowerCase(),tt[n]=t)}};return v});define("c.track.mobi",["track","trackInfo","pageInstance","screen","navigator","dom","events","document","window"],function(n,t,i,r,u,f,e,o,s){function y(n){var i=l.exec(n),t=i[i.length-1].split("."),r=t.length;return r>1&&(t=t.slice(r-2)),t.join(".")}function p(i,r,u,f,e,o,s,h){if(i){i[t.gestureKey]=r;u=u&&u.length>0?u:a;var c=n.createEvent(null,u,i);n.trackEvent(c,i,f,e,o,s,h)}}var a="click_nonnav",h=!1,c=0,v=1e3,l;return n.extend({client:{scrW:function(){return r.width},scrH:function(){return r.height},orientation:function(){return r.width>r.height?"landscape":"portrait"},userAgent:function(){return u.userAgent},hourOfDay:function(){return(new Date).getUTCHours()},linkDomain:function(){var n=t.report?t.report.destinationUrl:null;return n&&n.length?y(n):null},pageTitle:function(){return o.title},gesture:function(){var n=f.getTarget(t.event);if(n&&n[t.gestureKey])return n[t.gestureKey];if(t.event){if(t.event.originalEvent&&t.event.originalEvent=="contextmenu"||t.event.ctrlKey||t.event.shiftKey)return t.gestureType.rightclick;if((t.event.type=="click"||t.event.type=="click_nonnav"||t.event.type=="submit")&&h==!0&&t.sitePage.device)return t.gestureType.tap}return""}},userDynamic:{requestId:function(){var n=i.getActivityId()||t.sitePage.requestId;return n?n:s.console&&console.error("No requestID passed in from the server or generated via guidGen.js, please check the trackInfo.sitePage.requestId or pageInstance.js")}}}),l=/^(\w+:\/\/)?([^:\/]*)/,u.pointerEnabled||u.msPointerEnabled?e.bind(o,u.pointerEnabled?"pointerup":"MSPointerUp",function(n){h=n.pointerType==n.MSPOINTER_TYPE_TOUCH||n.pointerType=="touch"?!0:!1}):(e.bind(o,"mouseup",function(){var n=(new Date).getTime();n>c+v&&(h=!1)}),e.bind(o,"touchend",function(){h=!0;c=(new Date).getTime()})),n.trackGesture=p,1});define("track",["trackInfo","extend","dom","getCookie","setCookie","events","window","document","mediator","navigation","headData","pageInstance","evaluate","escape","trackingHelper","trackInfo.tokens","webStorage","afire"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function st(t){var r,c,u,i,o,s,f;for(wt(),ft.incrementEventNumber(),c=h.getParamsFromUrl(e.location.href),u=0;u<g.length;u++){if(r=g[u],i=r.defaultOpts,i.disableOnAutoRefresh){for(o=i.disableOnAutoRefresh.split(";"),s=!1,f=0;f<o.length;f++)if(o[f]==i.id){s=!0;break}if(s&&c.AR){i.isGeneratedEarly=!1;continue}}i.isGeneratedEarly?i.isGeneratedEarly=!1:r&&r.samplingRate>=d&&ht(r[t]())}n.curAop="";n.curRegion=""}function ht(t){!n.trackingDisabled&&t&&b(t)}function wt(){if(-1==d){var t=n.smpCookie;d=parseInt(r(t));d=isNaN(d)?Math.floor(Math.random()*100):d%100;u(t,d,182,u.topDomain,"/")}return d}function ct(n,t,i){var u=ut(n)||[],r=0,f;for(t=t||"alt";r<u.length;r++)if(f=k(u[r],t)||ct(u[r],t,i),f&&!(i==u[r].localName))return f}function bt(t){if(t){var u=it(t),i=k(u,"id"),r;return n.wrapperId==i?void 0:(r=bt(u),r&&i)?[r,i].join(n.cmSeparator):i||r}}function kt(n){if(n){var u=it(n),i,t=0,r=0;if(!k(u,"id"))if(t=kt(u),t)t--;else return 0;for(i=ut(u)||[];r<i.length;r++){if(i[r]==n){t++;break}t+=dt(i[r])}return t}}function dt(t){var i=0,r=0,u;if(t&&!k(t,"id"))for(u=ut(t)||[],k(t,"href")&&!k(t,n.notrack)&&i++;r<u.length;r++)i+=dt(u[r]);return i}function lt(n,t,i){var u,r,e,f;if(i&&n&&t){if(n.tagName==t)return n;for(u=ut(n)||[],r=0,e=u.length;r<e;r++){if(u[r].tagName==t)return u[r];if(f=lt(u[r],t,i-1),f)return f}}return null}function si(n){if(n)for(var t,i=0;i<g.length;i++)if(t=g[i],t.defaultOpts.id===n){ht(t["getPageViewTrackingUrl"]());break}}function hi(){var n=e.location.protocol+"//"+e.location.host+"/pv.xml";ht(n)}function ci(n){var u;if(n){var t=n.errId,i=w.getItem(t,!0),r=(new Date).getTime();i&&r-i<=oi||(u=function(){li(n);st("getEventTrackingUrl");w.setItem(t,r,!0)},u())}}function li(t){var i;n.event={type:"app_error"};i=n.report={errId:t.errId,errMsg:t.errMsg,errSource:t.errSource};nr(JSON.stringify(i),!0)}function gt(t,i,r,u,f,e,s){function h(){return(!i&&t&&(i=t.target),!i||k(i,n.notrack))?!1:i.id==="srchfrm"}function c(){var n=o.getElementById("q");if(n)return n.value}h()&&(u=c());tt(t,i,r,u,f,e,s)}function tt(t,r,u,f,e,o,s){var l,y,p,g,w,b,v,d;if(!r&&t&&(r=t.target),r&&!k(r,n.notrack)){r.jquery&&(r=r[0]);t=t||{};t.target=r;n.event=t;l=r.href||k(r,"href");l=="#"&&(l=r.href);u=u||k(r,n.piiurl)||l||k(r,"action")||"";y=k(r,"data-hl")||"";f||y||(p=lt(r,"H4",2)||lt(r,"H3",2),p&&(f=i.text(p)));typeof f!="string"&&(f=y||k(r,n.piitxt)||("FORM"==vt(r)?n.defaultFormHeadline:k(r,"title")||ct(r,"title","img")||i.text(r)||k(r,"alt")||ct(r,"alt")||""));f.trim!=undefined&&(f=f.trim());e=e||bt(r)||n.defaultModule;o=o||(k(r,"id")?1:kt(r));g=r.className||k(r,"class");s=s||(/GT1-(\d+)\b/i.exec(g)?RegExp.$1:"")||(/[?&]GT1=(\d+)\b/i.exec(l)?RegExp.$1:"");var c="",nt="",tt="",rt=n.cmSeparator,ut;if(t&&(t.type==n.eventTypes.click||t.type==n.eventTypes.nonNavClckEvt||t.type==n.eventTypes.submit||t.type==n.eventTypes.contextmenu||t.type==n.eventTypes.mouseenter)){w="data-m";c=k(r,w);c||(b=it(r),c=b?k(b,w):"");try{c=JSON.stringify(a(c))}catch(et){c=null}v=ki(r);v&&(nt=v.nameLineage.reverse().join(rt),tt=v.ordinalLineage.reverse().join(rt));ut=t.time}d=h.getHostName(u);d&&d.toLowerCase().indexOf("bing.com")>-1&&(u=ft.filterUrlParams(u,["q","pq"]),f="");n.report={destinationUrl:u,headline:f,contentModule:e,contentElement:o,campaignId:s,module:c,sourceIndex:r.sourceIndex||"",nodeName:r.nodeName||"",nLineage:nt,oLineage:tt,timeToInteract:n.timeToInteract(ut)};st("getEventTrackingUrl",t?!t.noSpin:1)}}function ai(n){var i=[],r,t;if(n&&n.querySelectorAll)for(r=n.querySelectorAll("[data-m]"),k(n,"data-m")&&i.push(n),t=0;t<r.length;t++)i.push(r[t]);return i}function ni(n,t){var i=k(n,t);if(i)try{return a(i)}catch(r){return null}return null}function ti(n,t){if(t.indexOf)return t.indexOf(n)!==-1;for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}function vi(t,i,r){var h,f,e,c,o,s,u,l;if(t){for(t.jquery&&(t=t[0]),h=ai(t),f=[],e=0;e<h.length;e++)(c=h[e],!i||n.telemetryTracking.isVisible(c))&&(o=ni(c,"data-m"),s=o?o.i:undefined,s===undefined||ti(s,ot)||(ot.push(s),f.push(o)));u={};f&&f.length>0&&(u.e=f);u&&u.e&&u.e.length>0&&(l=r?r:n.imprUpdateMechanisms.partial,n.telemetryTracking.sendImprUpdateEvent(l,u))}}function yi(){ot=[]}function pi(n){var t=new RegExp(ei).exec(n);return t&&t.length&&t[1]||null}function wi(t){var r=null,u,i;return t&&(t.indexOf(pt)==-1?(u=t.substring(0,t.indexOf("#")).toLowerCase(),i=e.location.href.toLowerCase(),(i==u||i.substring(0,i.indexOf("#"))==u)&&(r=n.eventTypes.nonNavClckEvt)):r=pi(t)),r}function at(n,t,i){var r=null;return nt.createEvent?(r=nt.createEvent("Events"),r.initEvent(t,!1,!0,i||e,0,0,0,0,0,!1,!1,!1,!1,0,null)):nt.createEventObject&&(r=nt.createEventObject(n),r.type=t),r&&(r.customTarget=i,r.originalEvent=n&&n.type),r}function bi(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function ii(n){ui(n)}function ri(n){2!=n.button&&ui(n)}function ki(n){for(var i={},r=[],u=[],t;n;)t=ni(n,"data-m"),t&&(t.n&&r.push(t.n),t.o&&u.push(t.o)),n=it(n);return i.nameLineage=r,i.ordinalLineage=u,i}function di(n){try{if(n&&rt&&rt===n)return!0;rt=n;setTimeout(function(){rt=null},fi)}catch(t){return rt=null,!1}return!1}function ui(t){var r,e,o,s,f,u,h;try{t.time=n.getCurrentTime();t.customTarget&&t.customTarget.useMap&&(t.customTarget=t.customTarget.document.activeElement,t.target=t.customTarget)}catch(c){}for(r=i.getTarget(t);r&&!k(r,"href")&&r.nodeName!="BUTTON"&&r.nodeName!="MENUITEM";)r=it(r);if(!r||!di(r)){if(t&&t.customTags&&(e=t.customTags,typeof e=="object"))for(o in e)o&&(s=e[o],s&&s!="undefined"&&n.setCustomTagsForClickEvent(o,s));if(r&&!r.form)if(f=t,t.type==n.eventTypes.contextmenu&&(f=at(t,n.eventTypes.click,r)),u=r.href,u&&u.length){if(u.indexOf("#")==u.length-1||u.indexOf(pt)>=0)if(t.type==n.eventTypes.click)h=wi(u),h&&(f=at(t,n.eventTypes.nonNavClckEvt,r));else if(t.type==n.eventTypes.contextmenu)return;f.type==n.eventTypes.nonNavClckEvt&&bi(t);y.addOcidToHref(u,r,f);f.isPropagationStopped||tt(f,r)}else t.type!=n.eventTypes.contextmenu&&tt({type:n.eventTypes.nonNavClckEvt,target:r})}}function gi(n,t){var r,i,u;if(n&&t&&(r=n.split("?"),r.length>1)){var f=r[0]+"?",e=r[1],o=h.getParams(e);if(e){for(i=0;i<t.length;i++)t[i]=t[i].toLowerCase();for(u in o)ti(u.toLowerCase(),t)||(f=f+u+"="+o[u]+"&")}return f.slice(0,-1)}return n}function nr(n,t){var u=new Date,f=u+": "+ +new Date+" "+n,i=et.console,r;i&&(r=t?i.error:i.log,r&&r.call(i,f))}var k=i.attr,vt=i.name,it=i.parent,ut=i.children,g=[],d=-1,yt,et=e,nt=o,rt=null,fi=500,pt="tevt=",ei=/#tevt=([A-Za-z0-9]+_[A-Za-z0-9]+)(;*)/g,ot=[],oi=p.logSamplingRate||3e5,ft={onContextMenu:ii,onClick:ri,trackEvent:tt,trackFormSubmitEvent:gt,trackAppErrorEvent:ci,createEvent:at,sendPageViewCandidate:hi,sendSinglePageViewBeacon:si,trackPartialImpression:vi,clearImpressionCache:yi,filterUrlParams:gi,trackPage:function(t){var i;delete n.event;delete n.userStatic.requestId;delete n.overrideClientParams;n.overrideClientParams=t;c&&c.clientSettings&&c.clientSettings.static_page&&(i=n.sitePage.requestId=l.getActivityId(),n.sitePage.isStaticPage="True",require(["c.deferred"],function(){var r=o.body.querySelector("#maincontent"),t,u,n;if(r)for(t=r.querySelectorAll("a[href*='www.bing.com']"),u=t.length,n=0;n<u;n++)t[n].href=h.mergeQueryStringParams(t[n].href,{refig:i})}));st("getPageViewTrackingUrl");yt?s.pub("pageView"):(yt=1,s.pub("pageViewOnLoad"));delete n.overrideClientParams},trackThirdPartyUpdate:function(){s.pub("thirdPartyTrackingUpdate")},register:function(){for(var t=0,n;n=arguments[t++];)isNaN(n.samplingRate)&&(n.samplingRate=99),g.push(n)},incrementEventNumber:function(){n.userDynamic.eventNumber++},isSampled:function(n){return!(wt()>n)},generateUrl:function(i,r,u,f,e){var h,c,o,s,l=[];f=t({},r,f);e=t(!0,{},u,e);for(h in e)if(n[h]){c=e[h];for(o in c)o&&n.overrideClientParams&&n.overrideClientParams[o]!==undefined?s=n.overrideClientParams[o]:(s=n[h][c[o]],typeof s=="function"&&(s=s())),s!=null&&(f[o]=s)}for(o in f)l.push(v.urlPart(o)+"="+v.urlPart(f[o]));return i+l.join("&").replace(/%20/g,"+")},extend:function(i){t(!0,n,i)},form:function(n){n&&n.length||(n=[n]);for(var t,i=0;t=n[i++];)"FORM"!=vt(t)||k(t,"data-customformtrack")||f.bind(t,"submit",gt)},preventBeacon:function(n){var t,i;if(n)for(n=n.toLowerCase(),t=0;t<g.length;t++)if(i=g[t].defaultOpts,n===i.id.toLowerCase()){i.isGeneratedEarly=!0;break}}};return f.bind(nt,"click",ri),f.bind(et,"load",tt),f.bind(et,"unload",tt),f.bind(nt,"contextmenu",ii),require(["c.dom"],function(){ft.form(i.getElementsByTagName("form"))}),s.sub("ViewabilityUpdatedEvent",n.client.OTFTelemetry),ft});define("elementTrackingDecorator",["trackingConstants","jquery","evaluate","track","window","extend"],function(n,t,i,r,u,f){function v(){n&&n.trackingData&&y(n.trackingData.lastIndex)&&n.trackingData.lastIndex>1?e=n.trackingData.lastIndex:u&&u.console&&u.console.error("Tracking constants were not supplied in DOM.",n)}function w(n){return n&&n.length!==0}function b(n,t){var i=n.closest(o),r=i.length>0?i.eq(0):null,u;r&&n.attr(s)&&(r=i.length>1?i.eq(1):n.parent(o));t&&(!r||r.length===0)&&(i=t.closest(o),r=i.length>0?i.eq(0):null);r&&(u=r.attr(s),u&&y(u)&&(this.p=u))}function k(n,i){n.find(o).each(function(r,u){var e=t(u),f;e.parent(o)[0]==n[0]&&(f=h(e),f&&f.p!=i.i&&(f.p=i.i,c.call(e,f)))})}function h(n){var t=n.attr(a);if(t)try{return i(t)}catch(r){return null}return{}}function c(n){n.i&&(this.attr(a,JSON.stringify(n)),this.attr(s,n.i))}function d(n){return this&&(!this.i||n==!0)&&e?(e++,this.i=e,!0):!1}function g(n){var t=n.parent().children();t.length>1?nt.call(t,this,n):this.o=1}function nt(n,i){var r=0;this.each(function(u,e){if(r++,e===i[0])n.o=r;else{var o=t(e),s=f(h(o),{o:r});c.call(o,s)}})}function y(n){return!isNaN(parseFloat(n))&&isFinite(n)}function p(n){var t=n?n.defaults:null;return f({},{n:"client",y:12},t||{})}function l(n,i,r,u,e){var o=t(n),l=h(o),s=f({},r,l),a=d.call(s,e);e||g.call(s,o);b.call(s,o,i);u&&u(o,s);c.call(o,s);a&&k(o,s)}var e=0,a="data-m",s="data-id",o="["+s+"]";return{setTrackingForSingleElement:function(i,u,f,o){var s,h;return v(),s=p(f),l(i,t(u),s,f&&f.elementOverride,f&&f.overrideIndexOnly),n.trackingData.lastIndex=e,o||(h=f&&f.visibilityCheck!=undefined?f.visibilityCheck:!0,r.trackPartialImpression(i,h)),i},setTrackingAttrs:function(i,u,f,o){var k;if(v(),i&&i.find){var s=f&&f.selector||"li",h=i.find(s),c=p(f),a=f?f.elementOverride:null,y=u&&!u.jquery?t(u):u,b=f?f.overrideIndexOnly:!1;i.each(function(n,i){t(i).is(s)&&l(i,y,c,a,b)});w(h)&&(k=t(h),k.each(function(n,t){l(t,y,c,a,b)}))}return n.trackingData.lastIndex=e,o||r.trackPartialImpression(i,!0),i}}});define("trackingHelper",["trackInfo","navigation","pageInstance","location","evaluate","ajax","getCookie","setCookie","trackingHelper.tokens","format","window"],function(n,t,i,r,u,f,e,o,s,h,c){function ht(t,i,r){var f,c,e,a,u;if(t&&i){nt||(nt=n.sitePage.msnocid);l||(l=n.sitePage.storeocid);var v=t.indexOf("://"),y=t.indexOf(ft),w=v>0&&y>=0&&y<v,b=t.match(g),o=t.match(p),s=b&&b[1],k=o&&o[1],h;if(s&&k){f=t;c=t.match(/[&?]ocid=(ems\.)/i);h=c&&c[1];h&&!f.match(/[=_]emsadid\./i)&&(f=d(f.replace(p,""),o[1]));w&&ut(f,r,i);return}(e=t.indexOf("#"),a="",s||l)&&w&&(e>=0&&(a=t.substring(e,t.length),t=t.substring(0,e)),u=t,s||(u+="&ocid="+l),u=d(u,h),i.href=u+a,ut(u,r,i))}}function d(t,r){var h=t.match(p),l=h&&h[1],f=t.indexOf("#"),c="",e,u,o,s;return l?t:(f>=0&&(c=t.substring(f,t.length),t=t.substring(0,f)),e=t,e+="&ccid=",u=[],r&&u.push("emsadid."+r),o=i.getActivityId()||n.sitePage.requestId,o&&u.push("webig."+o),s=n.client.clientId(),s&&u.push("muid."+s),e+u.join("_")+c)}function ct(){}function ut(t,i,o){var s,c,y;if((!i||i.originalEvent!=="contextmenu")&&!w){var p=t.match(g),d=t.match(/[&?]tduid=([^&]+)/i),nt=new RegExp(b,"i");if(p&&p[1]&&(!d||!d[1])&&!nt.test(t.match(nt))){if(s=l,o.attributes&&o.attributes["data-m"]&&(c=o.attributes["data-m"].value,c&&(s=u(c).n)),a=n.sitePage.pageId+"_"+n.sitePage.localeCode+"_"+n.sitePage.vertical+"_"+s,k=a,y=e(k),y){t+=h(tt,y,rt,it,a);o.href=t;return}v=o;v.href=t;i.stopPropagation();i.preventDefault();i.isPropagationStopped=!0;w=!0;r.origin||(r.origin=r.protocol+"//"+r.hostname+(r.port?":"+r.port:""));f.get({url:h(st,r.origin,n.sitePage.localeCode,n.sitePage.channel,a),dataType:ot,success:at,error:function(n,i){lt("The TradeDoubler ajax call failed: "+i+" Status code: "+n);o.href=t+b;o.click()}})}}}function lt(n){c.console&&c.console.log&&console.log(n)}function at(n){n?(o(k,n,13,o.topDomain,et),v.href+=h(tt,n,rt,it,a)):v.href+=b;w=!1;v.click()}function vt(n,t){return t?n+"_succeeded":n+"_failed"}var y=r.host.split(".").reverse(),yt=y.length>1?y[1]+"."+y[0]:r.host,ft="ms-windows-store",g=/[&?]ocid=([^&]+)/i,p=/[&?]ccid=([^&]+)/i,nt=n.sitePage.msnocid||"",l=n.sitePage.storeocid||"",w=!1,et="/",ot="text/html",a="",b="&notduid=true",tt="&tduid=({0})({1})({2})({3})()",k="",it=s.tradeDoublerMarketId,rt=s.tradeDoublerProgramId,v,st=s.tradeDoublerAjaxUrlFormat;return{addOcidToHref:ht,attachTaglineClickHandler:ct,addCcidToStoreUrl:d,getActionResult:vt}});define("binding",["viewAware","mediator","window"],function(n,t,i){function s(t,r,u){this.behaviorName=t;this.selector=r;this.context=u;this.views=n.views.NONE;this.timeout=i.setTimeout(function(){throw'binding("'+t+'", "'+r+'") was not followed with an all(), view(), or fallback() call!';},0)}function h(t){return this.view(n.views.ALL&~this.views,t)}function l(n){var i=n.args[0],t,f,c,u;if(typeof i=="string")t=i;else if(typeof i.selector=="string")t=i.selector;else try{t=JSON.stringify(i)}catch(a){t="{unserializableSelector}"}var o=e[t]||(e[t]={}),s=o[n.behaviorName]||(o[n.behaviorName]={}),h=s[n.view]||(s[n.view]={}),l=n.args[1],r;try{r=JSON.stringify(l||"{defaultContext}")}catch(a){r="{unserializableContext}"}f=h[r]||(h[r]={});c=n.args[2];try{u=JSON.stringify(c||"{defaultOptions}")}catch(a){u="{unserializableOptions}"}return f[u]?!1:(f[u]=n,!0)}function c(n,t){for(var u=null,i=0;i<r.length;i++)if(r[i].behaviorName==n&&r[i].args[0]==t){u=r[i];break}return u}function a(n){var t,u,i;for(f=n,i=0;i<r.length;i++)t=r[i],u=t.view&f,t.active&&(u?t.update():(t.teardown(),t.active=0));for(i=0;i<r.length;){if(t=r[i],u=t.view&f,u&&!t.active&&!o(t)){r.splice(i,1);continue}++i}}function o(n){if(!n.setup){var t=n.behavior.apply(null,n.args);t&&(n.setup=t.setup,n.teardown=t.teardown,n.update=t.update)}return n.setup?(n.setup(),n.active=1,!0):!1}var r=[],e={},f,u;return n.listen(a),s.prototype={view:function(n,t){var e=this.behaviorName,s=[this.selector,this.context,t],u={active:0,args:s,behaviorName:this.behaviorName,view:n};return this.views|=n,i.clearTimeout(this.timeout),l(u),require([e],function(t){u.behavior=t;var i=!0;n&f&&(i=o(u));i&&r.push(u)}),this},fallback:h,all:h,get:c},u=function(n,t,i){return new s(n,t,i)},u.views=n.views,i.binding=u,i.binding.get=c,u.refreshBindings=function(n,t){var i=e,h,c,l,a,u,f,s,r;i=i[n]||{};t&&(i={behaviorName:i[t]||{}});for(h in i){u=i[h];for(c in u){f=u[c];for(l in f){s=f[l];for(a in s)r=s[a],r.setup&&(delete r.setup,delete r.teardown,delete r.update,o(r))}}}},u});define("webStorage",["window"],function(n){function h(){try{return u in n&&t!==null&&f in n&&i!==null}catch(r){return!1}}function e(n,u){if(r){var f=u?i:t;return f.getItem(n)}}function c(n,t){var i=e(n,t);try{return typeof i=="string"?JSON.parse(i):i}catch(r){console.log(r)}return i}function o(n,u,f){if(r)try{typeof u=="object"&&(u=JSON.stringify(u));var e=f?i:t;e.setItem(n,u)}catch(o){console.log(o)}}function s(n,u){if(r){var f=u?i:t,e=f.getItem(n);return e!==null&&f.removeItem(n),e}}var u="localStorage",f="sessionStorage",t=n[u],i=n[f],r=h();return{supported:r,getItem:e,getObject:c,setItem:o,setObject:o,removeItem:s,removeObject:s}});define("getCookie",function(){return function(n){var i=new RegExp("\\b"+n+"\\s*=\\s*([^;]*)","i"),t=i.exec(document.cookie);return t&&t.length>1?t[1]:""}});define("setCookie",["location","headData","logging"],function(n,t,i){function r(n,r,u,f,e,o){var b,v,y,c,k,l,h,a;if(u>0&&t&&t.clientSettings&&t.clientSettings.functionalonly_cookie_experience){var p=n.toLowerCase(),s=!1,w="";if(t.clientSettings.functional_cookies?w=t.clientSettings.functional_cookies.toLowerCase():(i.error("Functional Cookies List Is Empty"),s=!0),b=w.split(","),b.indexOf(p)!==-1&&(s=!0),!s)for(v="",t.clientSettings.functional_cookie_patterns?v=t.clientSettings.functional_cookie_patterns.toLowerCase():(i.error("Functional Cookie Patterns List Is Empty"),s=!0),y=v.split(","),c=0;c<y.length;c++)if(k=new RegExp(y[c]),k.test(p)){s=!0;break}if(!s)return}h=[n,"=",r];-1==u?l="Fri, 31 Dec 1999 23:59:59 GMT":u&&(a=new Date,a.setTime(a.getTime()+u*864e5),l=a.toUTCString());l&&h.push(";expires=",l);f&&h.push(";domain=",f);e&&h.push(";path=",e);o&&h.push(";secure");document.cookie=h.join("")}return r.topDomain=(n.hostname.match(/[^.]+\.[^.\d]+$/)||{})[0]||"",r});define("dom",function(){var n=document,t=/[\n\t]/g,i=/(^\s+)|(\s+$)/mg;return{attr:function(n,t){return n&&(n.getAttribute?n.getAttribute(t,2):n[t])||""},name:function(n){return n&&n.nodeName||""},text:function(n){return(n&&(n.textContent||n.innerText)||"").replace(i,"")},children:function(n){return n&&n.children||[]},parent:function(n){return n&&n.parentNode},getElementsByTagName:function(t){return n.getElementsByTagName(t)},create:function(t){return n.createElement(t)},containsClass:function(n,i){return n&&(" "+(n.className||n.getAttribute("class"))+" ").replace(t," ").indexOf(" "+i+" ")>-1},getTarget:function(n){return n&&(n.customTarget||n.target||n.srcElement)||document}}});define("commonElements",["document","c.dom"],function(n){return{head:n.getElementsByTagName("head")[0],body:n.getElementsByTagName("body")[0],main:n.getElementById("main")}});define("events",function(){function n(n,t,i){n.addEventListener&&n.addEventListener(t,i,!1)}function t(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}return{bind:n,unbind:t}});define("extend",function(){function n(){var f=arguments,t=f[0]||{},e=1,i,r,o,u;for((typeof t=="boolean"||typeof t=="number")&&(o=!!t,t=f[1],e=2);e<f.length;e++){r=f[e];for(i in r)r[i]!==undefined&&(o&&typeof r[i]=="object"?(u=t[i],typeof u!="object"&&(u={}),n(!0,u,r[i]),t[i]=u):t[i]=r[i])}return t}return n});define("format",function(){function t(t,i,r){for(var u=0;u<r.length-i;++u)t=t.replace(n[u]||(n[u]=new RegExp("\\{"+u+"\\}","g")),r[u+i]);return r.length?t:t.toString()}var n=[];return String.prototype.format=function(){return t(this,0,arguments)},function(n){return(typeof n=="function"&&(n=n.apply(n,Array.prototype.slice.call(arguments,1))),n==null)?"":(typeof n!="string"&&(n=n.toString()),n)?t(n,1,arguments):""}});define("refreshDeferredModules",["jquery","refreshModules"],function(n,t){function i(){return t(n("[data-module-deferred]:not([data-sso-dependent])"))}return i});define("pointerEvents",["navigator"],function(){return window.PointerEvent?{enabled:!0,down:"pointerdown",up:"pointerup",cancel:"pointercancel",move:"pointermove",over:"pointerover",out:"pointerout",enter:"pointerenter",leave:"pointerleave"}:window.MSPointerEvent?{enabled:!0,down:"MSPointerDown",up:"MSPointerUp",cancel:"MSPointerCancel",move:"MSPointerMove",over:"MSPointerOver",out:"MSPointerOut",enter:"MSPointerOver",leave:"MSPointerOut"}:{enabled:!1,down:"mousedown",up:"mouseup",cancel:"mouseup",move:"mousemove",over:"mouseover",out:"mouseout",enter:"mouseenter",leave:"mouseleave"}});define("promise",["window"],function(n){function t(n,e){function y(n){s==i&&(o=n,s=u,v())}function a(n){s==i&&(o=n,s=f,v())}function p(n){for(var t=0;t<h.length;t++)h[t](n)}function v(){for(var n=0;n<c.length;n++)l(c[n])}function l(n){switch(s){case i:c.push(n);break;case u:n.complete();break;case f:n.error()}}if(typeof n!="function")throw"promise must take an init function as the first parameter";var s=i,o,c=[],h=[];this.addEventListener=function(){throw"not implemented";};this.cancel=function(){s==i&&(e&&(e(),e=null),a(new Error("Cancel")))};this.dispatchEvent=function(){throw"not implemented";};this.done=function(n,i,r){function u(n){if(t.onerror)t.onerror(n);else throw n;}l({complete:function(){if(n)try{n(o)}catch(t){u(t)}},error:function(){if(i)try{i(o)}catch(n){u(n)}else u(o)}});r&&h.push(r)};this.removeEventListener=function(){throw"not implemented";};this.then=function(n,i,u){var f,e,s,c=new t(function(n,t,i){f=n;e=t;s=i});return l({complete:function(){var i,u=1;if(n)try{i=n(o);typeof i=="undefined"&&(i=o)}catch(s){u=0;e(r(s))}else i=o;u&&(t.is(i)?i.then(f,e):f(i))},error:function(){var n,u=0;if(i)try{n=i(o);typeof n=="undefined"?n=o:u=1}catch(s){n=r(s)}else n=o;u?t.is(n)?n.then(f,e):f(n):e(n)}}),u&&h.push(u),c};n(y,a,p)}function r(n){return n&&n.name==e||(n=new Error(n)),n}var i=1,u=2,f=3,e="Error";return t.any=function(n){function u(){r()}for(var r,f=new t(function(n){r=n}),i=0;i<n.length;i++)n[i].then(u,u);return f},t.as=function(n){if(n){if(n.name==e)return t.wrapError(n);if(t.is(n))return n}return t.wrap(n)},t.is=function(n){return n&&typeof n.then=="function"},t.join=function(n){function u(){--f||r()}for(var f=n.length,r,e=new t(function(n){r=n}),i=0;i<n.length;i++)n[i].then(u,u);return e},t.theneach=function(){throw"not implemented";},t.timeout=function(i,r){function f(){u=1}var u;return r&&r.done(f,f),new t(function(t){function f(){u||(r&&r.cancel(),t())}i===0&&n.setImmediate?n.setImmediate(f):n.setTimeout(f,i)})},t.wrap=function(n){return new t(function(t){t(n)})},t.wrapError=function(n){return new t(function(t,i){i(r(n))})},t});define("scrollLeft",["dir.tokens","device"],function(n,t){var i,r;if(!n.ltr){if(r=t.capability("RtlScrollLeftAdjustment"),r=="fromLeft")return i=function(n,t){return t?n.scrollLeft=n.scrollWidth-n.clientWidth-t:n.scrollWidth-n.clientWidth-n.scrollLeft},i.adjustValue=function(n,t){return n.scrollWidth-n.clientWidth-t},i;if(r=="negativeValue")return i=function(n,t){return t?n.scrollLeft=t*-1:Math.abs(n.scrollLeft)},i.adjustValue=function(n,t){return t*-1},i}return i=function(n,t){return t?n.scrollLeft=t:n.scrollLeft},i.adjustValue=function(n,t){return t},i});define("sso",["headData","trackInfo","getCookie"],function(n,t,i){return function(r,u){var o=n.sso,f,a;if(r=r||function(){},u=u||window,!o||n.clientSettings&&n.clientSettings.static_page||i("eso")=="1"){r({signedIn:!1,closed:!1});return}o=o.replace(/amp;/g,"&");f=u.document.createElement("IFRAME");f.id="sso_frame";f.style.width="1px";f.style.height="1px";f.style.position="absolute";f.style.visibility="hidden";f.style.left="0px";f.style.bottom="0px";f.src=o;u.document.body.appendChild(f);var s=null,l=0,h,e,c=function(n){var t=n.data;t&&(t.ssoStatus==="sso_completed"||t.ssoStatus==="sso_failed")&&(s=t.ssoStatus,define("ssoData",t))};u.addEventListener?(e="message",u.addEventListener(e,c,!1),h=u.removeEventListener):(e="onmessage",u.attachEvent(e,c),h=u.detachEvent);a=u.setInterval(function(){if(s||l>=5){var i={signedIn:s==="sso_completed",closed:!!s};u.clearInterval(a);h.call(u,e,c);u.document.body.removeChild(f);r(i);i.signedIn&&(t.client.OTFSpecialSection("sso-success"),define("c.sso",n.signedin=1))}else l++},1e3)}});window.Modernizr=function(n,t){function r(){try{return t.createEvent("TouchEvent"),!0}catch(n){return!1}}var i=r();return Function.prototype.bind||(Function.prototype.bind=function(n){var i=Array.prototype.slice,t=this,r,u;if(typeof t!="function")throw new TypeError;return r=i.call(arguments,1),u=function(){var e,o,f;return this instanceof u?(e=function(){},e.prototype=t.prototype,o=new e,f=t.apply(o,r.concat(i.call(arguments))),Object(f)===f)?f:o:t.apply(n,r.concat(i.call(arguments)))},u}),{csstransforms:!0,csstransforms3d:!0,csstransitions:!0,touch:i,prefixed:function(n){return n}}}(this,this.document);window.Modernizr.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};window.Modernizr.animEndEventNames={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",transition:"animationend"};define("modernizr",window.Modernizr);define("refreshPdpModules",["jquery","refreshModules","trackInfo"],function(n,t,i){function r(){var r=n("[data-pdp-dependent]"),u=t(r,{pfr:1});u.done(function(){i.client.OTFSpecialSection("PdpReady");define("c.pdpready",1)})}return r});define("refreshSigninModule",["jquery","refreshModules","binding"],function(n,t,i){function r(){var r=n("[data-sso-dependent]");t(r).done(function(){i("flyout","#username").all({eventOrigin:"#username>a,#username>figure"});i("flyout","#settings").all({eventOrigin:"#settings>a"});i.get("marketDropdown","#site-market").teardown();i("marketDropdown","#site-market").all();i("marketDropdown",".marketswitch").all({triggerEvent:"click"});i("marketDropdown",".langtoggle").all({triggerEvent:"click"});require(["meControlBootstrap"],function(n){n()})})}return r}),function(n){function u(){return Math.round(r())}function e(n){var t={hasFired:!1},r={},f=n.send||function(i){var r=n.url,f=r.indexOf("?")>=0?"&":"?",u=new Image;t.onsent&&(u.onload=t.onsent);u.src=encodeURI(r+f+"DATA="+i)},i;t.mark=function(n,i){var o=typeof n,e,f;if(o==="string")for((i===null||i===undefined)&&(i=u()),e=n.split("."),f=r,f[n]=i;e.length;)n=e.shift(),e.length>0?f=f[n]=f[n]||{}:f[n]=i;else if(o==="object"){i=n;for(n in i)i.hasOwnProperty(n)&&t.mark(n,i[n])}return i};t.fire=function(){var i=t.onbeforefire,n;i&&i();this.payload=JSON.stringify(r);r={};n=t.onfire;n&&n();t.hasFired=!0};for(i in n)!t.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(t[i]=n[i]);return t}var i="now",f=window,t=f.performance,r;n.timing=t&&t.timing;n.navigation=t&&t.navigation;r=t&&t[i]&&t[i].bind(t)||Date[i]||function(){return(new Date).getTime()};n.now=u;n.Beacon=e}(Perf||(Perf={}));window.pp=new window.Perf.Beacon({}),function(n,t){function r(){var r={},e="navigationStart",u=t[e],n,i,f,o,s;if(u===null||u===undefined||u<0)return r;for(n in t)n!==e&&(i=t[n],i>-1)&&(i>=u&&(i-=u),o=(f=n.lastIndexOf("End"))>0&&1||(f=n.lastIndexOf("Start"))>0&&0,f!==-1?(n=n.substr(0,f),s=r[n]||(r[n]=[-1,-1]),s[o]=i):r[n]=i);return r}if(t){var i=n.onbeforefire;n.onbeforefire=function(){i&&i();n.mark("w3c",r())}}}(pp,Perf.timing);define("w3cTimer",function(){return window.pp});define("guidGen",function(){return function(){function t(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t=="x"?i:i&7|8).toString(16)}var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t)}});define("pageInstance",["mediator","guidGen","document"],function(n,t,i){var r,u="updatePageInstance";return n.sub(u,function(){var u,f,e,n;if(r=t().replace(/-/g,""),u=i.body.querySelector("#srchfrm"),u)for(f=u.querySelectorAll("input[name='refig']"),e=f.length,n=0;n<e;n++)f[n].value=r}),{getActivityId:function(){return r},setActivityId:function(n){r=n},eventName:u}});define("animate",["window","jquery","promise"],function(n,t,i){function f(n){return new i(function(t){n.one(r.endEvent,t)})}function e(n){if(n.length==1)return f(n);var r=[];return n.each(function(){r.push(f(t(this)))}),i.join(r)}function u(n,t,f){return n.css(f),new i(function(i){if(n.css(t),r.enabled){var o=setTimeout(function(){i("timeout")},u.timeout);e(n).then(function(){clearTimeout(o);f.transitionProperty&&n.css("transitionProperty","");f.transitionDuration&&n.css("transitionDuration","0s");i()})}else i()})}var r={enabled:!1};return(n.PointerEvent||n.MSPointerEvent)&&(r={enabled:!0,endEvent:"transitionend",timeout:400}),u.timeout=r.timeout,u});define("refreshModules",["jquery","navigation","headData","window","location","promise","requestAnimationFrame","imgSrc","mediator","escape"],function(n,t,i,r,u,f,e,o,s,h){function k(t,i,r,u,f,e){n.ajax({url:t,dataType:"html",data:{pagerequest:JSON.stringify(i)},crossDomain:!0,method:"GET",xhrFields:{withCredentials:!1}}).done(function(t){a(r,t,null,e);u(t);r.each(function(){var t=n(this).data("moduleId");t&&s.pub("moduleRefreshed-"+t)})}).fail(function(){f(arguments)})}function d(t,i,r,u,f,e){var o=!1,h={};!/^https/.test(t)&&i&&i.Regions&&i.Regions.length&&g(i.Regions)&&(t="https"+t.substring(4),o=!0,h={withCredentials:!0});n.ajax({url:t,dataType:"html",data:JSON.stringify(i),method:"POST",contentType:"application/json",crossDomain:o,xhrFields:h}).done(function(t){a(r,t,null,e);u(t);r.each(function(){var t=n(this).data("moduleId");t&&s.pub("moduleRefreshed-"+t)})}).fail(function(){f(arguments)})}function g(n){for(var t=0;t<n.length;t++)if(n[t].type==="meStripe")return!0;return!1}function nt(){var t,n,i;if(c&&c.deferLoadedItems){for(t=c.deferLoadedItems.split(","),n=0,i=t.length;n<i;n++)t[n]&&c.removeItem(t[n]);c.removeItem("deferLoadedItems")}}function tt(t,i){if(!c||!t||!i)return null;var r,u=c.getItem(t);try{r=JSON.parse(u)}catch(f){return null}return r&&r.data&&r.lastUpdatedTime&&n.now()-r.lastUpdatedTime<i?r.data:null}function it(t,i){c&&(c.deferLoadedItems||(c.deferLoadedItems=""),c.deferLoadedItems+=","+t,c.setItem(t,JSON.stringify({lastUpdatedTime:n.now(),data:i})))}function a(t,i,r,u){var f,e,o,s;i&&(f=n("<data>"+n.trim(i)+"<data>"),ut(f),e=f.find("[data-module-id]"),u=u||{},o=u.loadEmptyContent,t.each(function(){var h=n(this),t,i=h.data("moduleId");if(t=e.filter("[data-module-id='"+i+"']"),t.length){var u=n("[data-module-id='"+i+"']"),c=v[i]||u.html(),f=t.html(),l=f===c;(o||f&&f.trim())&&(y||!l)&&(v[i]=f,rt(t,u),t.insertAfter(u.first()),u.remove(),s=!0);!r&&h.data("cache-duration")&&it(i,t[0].outerHTML)}}))}function rt(t,i){n("img[data-src]",t).each(function(){o.force(this,i)||o.go(this)})}function ut(t){var i=t.children("link[rel=stylesheet]");i.length&&i.each(function(){var t=this.getAttribute("href");p[t]||((w||(w=n("head"))).append(this),p[t]=!0)})}var l=i.moduleapi,b=i.cdnmoduleapi,v={},y,p={},w,c;try{c=r.localStorage}catch(ft){c=null}return l?function(e,o,s,c,v,p,w,g,it){var ft,ut,st,rt,et,ot,ht;return(i.signedin||nt(),!e||e.length===0)?new f(function(n){n()}):(e instanceof n||(e=n(e)),typeof o=="string"&&(o=t.getParams(o)),p&&(l=p),(s===undefined||s===null)&&(s=!1),y=v,ft=n.extend(t.getParamsFromUrl(u.href),o),s&&delete ft.ocid,w&&ft.locale&&(ft.locale=w),ut=n.param(ft),st=l.split("?")[0]+(ut?"?"+ut:""),st+=(st.indexOf("?")===-1?"?":"&")+"ou="+h.urlPart(u.href),rt={RequestUri:u.href.split("?")[0]+(ut?"?"+ut:""),ExperienceId:g&&i.kernelXd?i.kernelXd:i.xdid||null,CacheDuration:null},et=null,s&&(et=b.split("?")[0]+(ut?"?"+ut:""),et+=(et.indexOf("?")===-1?"?":"&")+"devicegroup="+i.dg,c!==undefined&&c!==null&&(rt.CacheDuration=c.toString())),it=n.extend({loadEmptyContent:!1},it),ot={},ht=[],e.each(function(){var i=n(this).data("moduleId"),r,u,t;if(i){if(r=n(this).data("cache-duration"),u=r?tt(i,r):null,u){ht.push(u);return}if(t=i.split("|"),t.length==5){var o={key:t[3],type:t[4]},f={key:t[1],type:t[2],Modules:[o]},e=f.key+f.type;ot[e]?ot[e].Modules.push(o):ot[e]=f;rt.Type||(rt.Type=t[0])}}}),ht.length&&a(e,ht.join(""),!0,it),rt.Regions=n.map(ot,function(n){return n}),rt.Regions!=null&&rt.Regions.length>0?new f(function(n,t){s?k(et,rt,e,n,t,it):d(st,rt,e,n,t,it)}):(r.console&&r.console.log&&console.warn("Regions were empty or null"),new f(function(n){n()})))}:(r.console&&console.log("moduleApiEndpoint is missing from header, ajax module update will exit."),n.noop)});define("safeCss",["jquery"],function(n){function r(n){var t={},i="";this.css=function(r,u){if(u)t[r]=i;else if(typeof r=="object")for(var f in r)t[f]=i;return n.css.apply(n,arguments),this};this.hide=function(){throw"not implemented";};this.show=function(){throw"not implemented";};this.toggle=function(){throw"not implemented";};this.reset=function(){n.css(t);t={}}}var t=1,i=".";return{createGroup:function(){function e(t){var h=[],s,e;return t.each(function(){var i=n(this),t=i.data(f);t||(t=o++,i.data(f,t));h.push(t)}),s=h.join(i),e=u[s],e||(e=new r(t),u[s]=e),e}var f="safeCssId"+t++,o=1,u={};return e.reset=function(){for(var n in u)u[n].reset()},e}}});define("touchGestures",["jquery","modernizr","window","deviceGroup"],function(n,t,i,r){function c(n){n.originalEvent&&n.originalEvent.preventManipulation&&n.originalEvent.preventManipulation();n.preventDefault();n.stopPropagation()}function p(n){var t=n.originalEvent,i=t.changedTouches||t.touches;return i||(i=[{identifier:t.pointerId,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,force:t.pressure,target:t.target}]),i&&i.length?i:[n]}function w(n,t){var i=t,r=n.y/n.x;return!isNaN(r)&!(n.y<s.minimumDistanceForMove&&n.x<s.minimumDistanceForMove)&&(i=n.x&&Math.abs(Math.atan(r))<v?h:y),i}function l(n,t){return n&&t?{x:n.x/t,y:n.y/t}:{x:0,y:0}}function e(n,t){return n&&t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}function o(t,i,r){n.each(f[i],function(n,u){t.bind(u,function(n){r(n,i)})})}function b(t,i){n.fn[t]=function(n,i){return n?this.bind(t,i,n):this.trigger(t,i)};n.event.special[t]={setup:function(t,r){i(n(this),t,r)}}}var s={direction:"all",maximumDistanceForClick:20,maximumTimeForClick:250,distanceBeforeDirectionDetection:10,minimumTimeForSwipe:.02,maximumTimeForThrow:1200,minimumLastThrowSpeed:1,maximumTimeForSwipe:400,minimumDistanceForSwipe:30,directionChangeBuffer:5},v=Math.PI/4,a=n(i),u={eventName:"gesture",start:"start",move:"move",stop:"stop",cancel:"cancel",tap:"tap",swipeUp:"swipeUp",swipeRight:"swipeRight",swipeDown:"swipeDown",swipeLeft:"swipeLeft",throwUp:"throwUp",throwRight:"throwRight",throwDown:"throwDown",throwLeft:"throwLeft"},h="horizontal",y="vertical",f={pointer:{start:["pointerdown"],stop:["pointerup"],move:["pointermove"],cancel:["pointercancel","pointerleave"],touchSupported:!0,type:"pointer"},mspointer:{start:["MSPointerDown"],stop:["MSPointerUp"],move:["MSPointerMove"],cancel:["MSPointerCancel","MSPointerLeave"],touchSupported:!0,type:"mspointer"},touch:{start:["touchstart","touchenter"],stop:["touchend","touchleave"],move:["touchmove"],cancel:["touchcancel"],touchSupported:!0,type:"touch"},mouse:{start:["mousedown"],stop:["mouseup"],move:["mousemove"],cancel:["mouseleave"],touchSupported:!1,type:"mouse"}};return f=!t.touch||r.isPc&&typeof InstallTrigger!="undefined"?navigator.pointerEnabled?f.pointer:navigator.msPointerEnabled?f.mspointer:f.mouse:f.touch,b(u.eventName,function(t,i){function it(){tt=r=v=k=d=g=0}function nt(t,i){if(f.type=="mouse"||(f.type=="pointer"||f.type=="mspointer")&&t.originalEvent.pointerType=="mouse")b=!0;else{b=!1;var e=p(t);(tt||d&&r.totalDistance>=y.maximumDistanceForClick)&&(tt=!0,c(t));(r||i==u.start)&&n.each(e,function(n,r){rt(n,r,t,i)})}}function rt(i,f,o,s){var p,rt,ot,st,tt;if(ft(f),p={touchType:s,coord:{x:f.pageX,y:f.pageY},screenCoord:{x:f.screenX,y:f.screenY},scrollCoord:{x:a.scrollLeft(),y:a.scrollTop()},count:v?v.count+1:0,time:(new Date).getTime()},s==u.start&&(it(),b=!1,r=n.extend({totalDistance:0},p),v=n.extend({},p)),p.delta=e(p.coord,v.coord),p.screenDelta=e(p.screenCoord,v.screenCoord),p.duration=p.time-v.time,p.speed=l(p.delta,v.duration),r.delta=e(p.coord,r.coord),r.screenDelta=e(p.screenCoord,r.screenCoord),r.totalDistance+=Math.sqrt(Math.pow(p.delta.x,2)+Math.pow(p.delta.y,2)),rt=y.direction==h,v&&v.speed&&(ot=rt?p.delta.x:p.delta.y,st=rt?v.delta.x:v.delta.y,ot*st<0&&(r.movecoord=p.coord,r.movetime=p.time)),r.movecoord&&(r.movechange=e(p.coord,r.movecoord),r.moveduration=p.time-r.movetime,r.movespeed=l(r.movechange,r.moveduration)),r.duration=p.time-r.time,r.speed=l(r.delta,r.duration),k=w(r.delta,y.direction),!g&&r.totalDistance>y.distanceBeforeDirectionDetection&&y.direction!="all"&&!d&&(r.direction=k,y.direction!=k?(g=!0,p.touchType=u.cancel):(c(o),d=!0)),p.touchType==u.stop){var ut=(r.movechange||r.delta).x,et=(r.movechange||r.delta).y,ht=r.moveduration||r.duration,nt=k==h,lt=nt?Math.abs(r.speed.x):Math.abs(r.speed.y),at=nt?Math.abs(p.speed.x):Math.abs(p.speed.y),vt=nt?Math.abs(v.speed.x):Math.abs(v.speed.y),ct=Math.max((at+vt)/2,lt);r.duration<y.maximumTimeForClick&&r.totalDistance<y.maximumDistanceForClick?(b=!0,p.touchType=u.tap):(p.distance=Math.abs(nt?ut:et),ct>y.minimumTimeForSwipe&&(ht<y.maximumTimeForSwipe?p.touchType=nt?ut>0?u.swipeRight:u.swipeLeft:et>0?u.swipeDown:u.swipeUp:ht<y.maximumTimeForThrow&&ct>y.minimumLastThrowSpeed&&(p.touchType=nt?ut>0?u.throwRight:u.throwLeft:et>0?u.throwDown:u.throwUp)))}(v.touchType!=p.touchType||v.coord.x!=p.coord.x||v.coord.y!=p.coord.y)&&(g&&p.touchType!=u.cancel&&p.touchType!=u.tap||(tt=n.Event(u.eventName,{current:p,last:v,start:r,direction:k,originalEvent:o,allowClick:b}),t.trigger(tt),b=tt.allowClick!==!1,tt.isDefaultPrevented()&&o.preventDefault(),tt.isPropagationStopped()&&o.stopPropagation(),tt.isImmediatePropagationStopped()&&o.stopImmediatePropagation()));s==u.stop||s==u.cancel?it():v=p}function ut(n){return b||c(n),b}function ft(n){n.pageX||n.originalEvent&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY,n.screenX=n.originalEvent.screenX,n.screenY=n.originalEvent.screenY,n.pointerId=n.originalEvent.pointerId,n.identifier=n.originalEvent.identifier)}var r,v,k,d,tt,g,b=!0,y=n.extend({},s,i);it();t.addClass("unselectable").find("A, [onclick]").not(".mobilead").bind("click",ut);o(t,u.start,nt);o(t,u.move,nt);o(t,u.stop,nt);o(t,u.cancel,nt)}),{types:u,settings:f}});define("touchDataManager",["jquery"],function(n){function o(){var c=.85,l=.1,h,o,u,r,n;this.reset=function(t){h=t;o=+new Date;u=o;r=h;n=0};this.input=function(t){var e=+new Date,i=e-u,f;i=i>0?i:1;u=e;r+=n*i;f=t-r;r+=c*f;n+=l*f/i};this.getPosition=function(){return r};this.getVelocity=function(){return n};this.getDelta=function(){return r-h};this.getDuration=function(){return 220};this.getTouchDuration=function(){return u-o};this.getDrift=function(t,i){var e=this.getDelta(),l,s;e<0&&(e=-e);var h=1-e/t,c=.2,r=t*(h>c?h:c),f=n*150,a=u-o<300&&(n>.3||n<-.3);return a?(l=i,s=l-e,f=(n>0?1:-1)*(s<r?s:r)):f>r?f=r:f<-r&&(f=-r),f};this.getTimingFunction=function(){return"cubic-bezier(0,"+e(n)+",.58,1)"};this.ensureJQueryEase=function(){var r=e(n);r=Math.round(r/f)*f;i[r]||(i[r]=s(r));t=i[r]};this.reset(0)}function e(n){var t=n>0?n:-n;return t*.3}function s(n){for(var f=[],t,e,o,i,u=r.length;u--;)t=r[u],i=1-t,o=i*t*t*.58+t*t*t,e=i*i*t*n+i*t*t+t*t*t,f[u]={x:e,t:o};return f}for(var i={},f=.1,t,r=[],u=0;u<=1;u+=.01)r.push(u);return n.easing.cubicBezier=function(n){if(n==1)return 1;for(var r,o,u,s,i,f=t.length-1,e=0;f--&&!e;)i=t[f],r=i.t,r<=n&&(u=i.x,i=t[f+1],o=i.t,s=i.x,e=(n-r)/(o-r)*(s-u)+u);return e},n.easing.cubicBezierQuint=function(n){return 1-Math.pow(1-n,5)},o});define("carouselManager",function(){return function(){var n=[],t=0;this.load=function(t){n=t};this.getItem=function(i){if(!n.length)return null;var r=(t+i)%n.length;return n[r<0?r+n.length:r]};this.setIndex=function(n){t=n};this.changeIndex=function(n){t+=n}}});globalLeft="left";define("dir.tokens",{ltr:globalLeft=="left",left:"left",paddingLeft:"padding-left",paddingRight:"padding-right",marginLeft:"margin-left",marginRight:"margin-right"});define("socialPlugins.tokens",{twitterLang:"en",facebookLang:"en_US",loadDelay:"1000"});define("truncate.tokens",{truncateEllipsis:""});define("webApp.tokens",{appVersion:"2.0.6351.222"});define("flyout",["jquery","jqBehavior","document","mediator"],function(n,t,i,r){function u(n){n.preventDefault()}function e(t,u){function w(n){var t=f[0],i;d(n);t.el.hasClass(t.cls)?(i=c?c[0]:!1,u.allowToggleOff&&l(n,o),i!==n.target&&e.filter(n.target).length===1&&p(n,s)):p(n,s);r.subChannel("closeFlyoutFinal","flyoutBehavior",o)}function b(i){var r=t.find(u.contentEventOrigin),f;r.length||(r=t);f=u.skipContentOriginEventTargetCheck?!(n.contains(r[0],i.target)===!0||e[0]===i.target):!(r[0]===i.target||n.contains(r[0],i.target)===!0||e[0]===i.target);f&&(u.disableEventBubbling&&i.preventDefault(),l(i,o))}function o(t,i){for(var u,r=0;r<f.length;r++)u=f[r],u.el.removeClass(u.cls).attr("aria-hidden",!0);for(r=0;r<f.length;r++)u=f[r],u.el.removeClass(u.cls);v.off(y,b);c=!1;n.isFunction(i)&&i!==s&&i()}function k(n){t.find("."+u.toggleClass).length&&l(n,o)}function s(t,i){var r,u;for(c=n(t.target),r=0;r<f.length;r++)u=f[r],u.el.addClass(u.cls).attr("aria-hidden",!1);for(r=0;r<f.length;r++)u=f[r],u.el.addClass(u.cls);v.on(y,b);n.isFunction(i)&&i!==s&&i()}var v=n(i),e=t.find(u.eventOrigin),a;e.length||(e=n(u.eventOrigin));var y=u.outsideEvent,h=u.toggleTargets,d=u.eventPreventDefaultDelegate,c=!1,p=n.isFunction(u.openFlyoutDelegate)?u.openFlyoutDelegate:s,l=n.isFunction(u.closeFlyoutDelegate)?u.closeFlyoutDelegate:o,f=[];if(typeof h!="object")h===!0&&f.push({el:t,cls:"show"});else for(a in h)f.push({el:t.find(a),cls:h[a]});return{setup:function(){e.on(u.triggerEvent,w)},update:function(){k()},teardown:function(){k();e.off(u.triggerEvent,w)}}}var f={allowToggleOff:!0,eventOrigin:".flyout > button",toggleTargets:!0,triggerEvent:"click",outsideEvent:"mousedown touchstart scroll",openFlyoutDelegate:!1,eventPreventDefaultDelegate:u,skipContentOriginEventTargetCheck:!1,closeFlyoutDelegate:!1};return t(e,f)});define("marketDropdown",["jquery","jqBehavior","window","headData","track","location"],function(n,t,i,r,u,f){function o(t,i){function o(){t.on(i.triggerEvent,r)}function r(){var r,n,o;t[0].tagName=="SELECT"?(o=t.find("option:selected"),r=o.data("mkt"),n=o.data("mktUrl")):(r=i.mkt,n=i.mktUrl);n+=f.search;n&&r&&(u.trackEvent({type:"click_nonnav",target:t},"","",n),h(e,n,r))}function s(){t.off(i.triggerEvent,r)}function h(t,i,r){var u=JSON.stringify({Market:r,SuppressPrompt:!0}),e=[{Path:"MSNHomePage/MarketConfiguration",Operation:"Update",Payload:u}];n.ajax({url:t,dataType:"html",data:JSON.stringify(e),method:"POST",contentType:"application/json"}).done(function(){f.href=i}).fail(function(){f.href=i})}return{setup:o,teardown:s}}var e=r.pdpdeltaupdateapi;return t(o,{triggerEvent:"change"})});define("navArrowScroll",["jquery","jqBehavior","modernizr","device","window","dir.tokens","touchGestures","perfMarker","remToPixel","requestAnimationFrame"],function(n,t,i,r,u,f,e,o,s){function v(t,i){function pt(){for(var e,i=0,s=r[0].scrollWidth,h=o.width(),u=s-h,t=f.ltr?-1:1,n=0,c=a.length;n<c;n++)l.push(t*i),u>i?(e=parseInt(a[n].getAttribute(p),10),i+=e,n!==0&&(l[n]-=t*yt)):l[n]=t*u+t*yt}function ti(){ht.on("click",tt);rt.on("click",it);wi(r);hi();ii();pt();w();st()&&pi()}function ii(){et();st()&&(g=!0,kt())}function ri(){ht.off("click",tt);rt.off("click",it);w()}function ui(){b=0;v=0;ft(0);w();l=[];pt()}function wt(n){et();at=fi(n);ft(at)}function ft(n){c?(n=h.replace("{0}",n),r.css("transform",n)):r.css(h,n)}function et(){if(ct=o.width(),g)y=r[0].scrollWidth;else{y=0;for(var n=0,t=r.length;n<t;n++)y+=r[n].scrollWidth;y+=ni}vt=r.position().left-b}function fi(n){var r=o.width(),t=r-rt.width(),i=n==1?ei(t,a,v):oi(t,a,v);return v=i.index,i.moveDistance}function ei(n,t,i){var f=n,u=i,r,e;if(ot(u))for(r=t.length-1;r>=0;r--)if(e=parseInt(a[r].getAttribute(p),10),f-=e,f<0){u=r+1;break}for(f=n,r=u-1;r>=0;r--)if(e=parseInt(a[r].getAttribute(p),10),f-=e,f<0)return u=r+1,{moveDistance:l[u],index:u};return u=0,{moveDistance:l[u],index:u}}function oi(n,t,i){for(var e,f=n,r=i,u=r,o=l.length;u<o;u++)if(e=parseInt(a[u].getAttribute(p),10),f-=e,f<0&&(r=u>0?u:0,!ot(r)))return{moveDistance:l[r],index:r};return{moveDistance:l[r],index:r}}function ot(n){return n<l.length?n===l.length-1||l[n]==l[n+1]:!1}function si(n){return l[n]}function hi(){for(var t,n=0,i=a.length;n<i;n++)t=a.eq(n),a[n].setAttribute(p,t.outerWidth(!0)),t.hasClass(dt)&&(ut=n,v=ut)}function bt(){f.ltr||(b=r.position().left,vt=r.position().left-b)}function w(){et();st()?(g=!0,kt(),v==0?(o.addClass(d).removeClass(k),bt()):ot(v)?o.addClass(k).removeClass(d):o.addClass(lt)):(g=!1,o.removeClass(lt),ci(),bt())}function kt(){for(var t=r[1].children.length,n=0;n<t;n++)r[1].children[0].id="mylink_"+n,r[0].appendChild(r[1].children[0])}function ci(){for(var t=r[0].children.length,n=0;n<t;n++)!r[0].children["mylink_"+n]||r[1].appendChild(r[0].children["mylink_"+n])}function tt(){wt(1);w()}function it(){wt(-1);w()}function li(){f.ltr?it():tt()}function ai(){f.ltr?tt():it()}function vi(){return f.ltr&&o.hasClass(d)||!f.ltr&&o.hasClass(k)}function yi(){return f.ltr&&o.hasClass(k)||!f.ltr&&o.hasClass(d)}function pi(){var n=si(ut);ft(n)}function st(){return y>ct}function wi(n){e.settings.touchSupported&&n.gesture(bi,{direction:"horizontal"})}function bi(t){if(t.direction)switch(t.current.touchType){case e.types.throwRight:case e.types.swipeRight:yi()&&ai();break;case e.types.throwLeft:case e.types.swipeLeft:vi()&&li();break;case e.types.stop:case e.types.tap:var i=t.originalEvent.originalEvent,r=i.target,f=document.createEvent("MouseEvent");f.initMouseEvent("click",!1,!1,u,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,null);r.tagName!=="A"&&(r=n(r).parentsUntil("LI","A")[0]);r&&r.dispatchEvent(f)}}var o=t,r=o.children(i.navSelector),a=r.children(),ht=o.find("button").first(),rt=o.find("button").last(),b=r.position().left,v=0,ct=0,y=0,k="show-left",d="show-right",lt="show-left show-right",dt="current",at=0,vt=0,p="data-width",ut=0,g=!1,yt=s(1.2),nt=o.children(".mylink"),gt=f.ltr?r[nt.index()-1].offsetLeft:o.width()-(r[nt.index()-1].offsetLeft+r[nt.index()-1].offsetWidth),ni=nt.children().length!=0&&r!=null?gt-r.first().width():0,l=[];return{setup:ti,teardown:ri,update:ui}}var h="left",c=!1,a,l;return i.csstransforms&&r.isCapable("AllowTransform2d")&&(h="translateX({0}px)",c=!0),a=n(u),l={navSelector:"ul",navItemSelector:"ul > li"},t(v,l)});define("scrollStop",["jquery","jqBehavior","touchGestures"],function(n,t,i){function f(t,f){function o(){e===!1?e=!0:clearTimeout(s);s=setTimeout(a,l)}function h(){e&&o()}function a(){e=!1;t.trigger("scrollStop")}var c=n.extend({},u,f),l=c.delay,e,s;return{setup:function(){e=!1;t.on("scroll",o);if(i.settings.touchSupported)t.on(r,h)},teardown:function(){t.off(r,h);t.off("scroll",o)}}}var u={delay:100},e=i.settings.start.join(" "),r=i.settings.move.join(" ");return t(f,{})});define("searchBing",["jquery","jqBehavior","track","device"],function(n,t,i,r){return r.capability("SupportFixedPosition")!=="false"&&r.capability("SupportFixedPosition")||n("body>.head").addClass("unfixposition"),t(function(t){function e(){var n=t.attr("action"),r=t.attr("target"),e=u.length?u.val():null;i.trackEvent({type:"submit",target:t[0]},null,f,e);t.attr("action",f).attr("target","_blank").submit().attr("action",n).attr("target",r)}var r=n("button[name='bingSearch']",t),u=n("#q",t),o=n("body>.head"),f=t.data("bing-action-uri");return{setup:function(){r.on("click",e)},teardown:function(){r.off("click",e)}}})});define("searchTargetSelf",["jqBehavior"],function(n){function u(n){return i=n.attr(t),{setup:function(){n.attr(t,r)},teardown:function(){n.attr(t,i)}}}var t="target",r="_self",i;return n(u)});define("socialPlugins",["jquery","jqBehavior","format","escape","socialPlugins.tokens"],function(n,t,i,r,u){function o(n,t){function e(){if(t.facebookLikeUrl&&t.facebookButtonWidth){var e="//www.facebook.com/plugins/like.php?locale="+r.urlPart(u.facebookLang)+"&href="+r.urlPart(t.facebookLikeUrl)+"&amp;send=false&amp;layout=button_count&amp;width=450&amp;show_faces=false&amp;font&amp;colorscheme=light&amp;action=like&amp;height=21";n.find(t.facebookSelector).append(i(f,e,t.facebookButtonWidth))}}function o(){var e,o;t.twitterFollowScreenName&&t.twitterButtonWidth&&(e="//platform.twitter.com/widgets/follow_button.html?show_screen_name="+t.twitterShowScreenName+"&screen_name="+r.urlPart(t.twitterFollowScreenName)+"&show_count=false&lang="+r.urlPart(u.twitterLang),n.find(t.twitterSelector).append(i(f,e,t.twitterButtonWidth)),t.twitterShowScreenName&&(o=t.twitterButtonWidth,typeof InstallTrigger!="undefined"&&(o=parseFloat(t.twitterButtonWidth)+.3+"rem"),n.find(t.twitterBreakingNewsSelector).append(i(f,e,o))))}window.setTimeout(function(){require(["c.scrolled"],function(){e();o()})},t.delay)}var e={facebookSelector:"#fbcount",twitterSelector:"#twcount",twitterBreakingNewsSelector:"#bnewstwcount",delay:u.loadDelay},f='<iframe src="{0}" scrolling="no" frameborder="0" allowTransparency="true" allowTransparency="true" style="width:{1};"><\/iframe>';return t(o,e)});define("truncate",["jquery","jqBehavior","mediator","requestAnimationFrame","measure","format","truncate.tokens","perfMarker"],function(n,t,i,r,u,f,e){function l(t,e){function st(){var i,f,e,o,r;if(it){for(it=!1,i=l;i--;){for(f="",e=0,r=t[i].firstChild;r!=null;)r.nodeType==1?(++e,o=r):r.nodeType==3&&(f+=r.nodeValue),r=r.nextSibling;e==1&&n.trim(f)==""&&(p[i]=o)}for(i=l;i--;)w[i]=u(t[i]),v[i]=(p[i]||t[i]).innerHTML,nt[i]=t[i].title}else ot();for(i=l;i--;)rt(i),b[i]=v[i],y[i]=!0;ut()}function ht(){for(var n=l;n--;)rt(n),y[n]=t[n].scrollHeight>a[n];ut()}function rt(n){var i=t[n];if(i&&i.parentNode){var r=w[n],o=i.getAttribute("data-truncate-lines")||e.truncateLines,u=parseFloat(r("paddingTop")),s=parseFloat(r("paddingBottom")),h=r("lineHeight"),f=parseFloat(r("maxHeight"));o?(a[n]=parseFloat(h)*o+s,a[n]>f&&(a[n]=f),a[n]+=u):a[n]=(f||i.clientHeight)+u;a[n]=a[n]+.5|0;tt[n]=i.clientWidth;g[n]=u+2*parseFloat(h)+s+.5|0}else w[n]=p[n]=null,y[n]=d[n]=!1}function ut(){for(var f=!0,e=1e3,i,r,u;f&&--e;){for(f=!1,i=l;i--;)if(y[i])if(d[i]=t[i].scrollHeight>a[i],d[i]){if(k[i]=!0,t[i].scrollHeight<g[i]){ft(i);continue}r=b[i];r.slice(-s)==o&&(r=r.slice(0,-s));u=c.exec(r);u&&u[0]!=r?(f=!0,t[i].scrollHeight>a[i]*2&&(r=r.substr(0,r.length/2)),b[i]=r.substr(0,r.length-u[0].length)+o):ft(i)}else y[i]=!1;for(i=l;i--;)d[i]&&((p[i]||t[i]).innerHTML=b[i])}for(i=l;i--;)k[i]&&(t[i].title=n.trim(n("<span>"+v[i]+"<\/span>").text()))}function ft(n){var t=tt[n]-parseInt(w[n]("paddingLeft"))-parseInt(w[n]("paddingRight"));b[n]=t>0?f(h,v[n],t+"px"):v[n];y[n]=!1}function et(){r(st)}function ot(){for(var n=l;n--;)k[n]&&((p[n]||t[n]).innerHTML=v[n],t[n].title=nt[n],k[n]=!1)}var l=t.length,p=new Array(l),w=new Array(l),g=new Array(l),v=new Array(l),nt=new Array(l),tt=new Array(l),b=new Array(l),a=new Array(l),y=new Array(l),k=new Array(l),d=new Array(l),it=!0;return i.sub("truncate",function(){r(ht)}),{setup:et,teardown:ot,update:et}}var h='<span style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:{1}">{0}<\/span>',o=e.truncateEllipsis,s=o.length,c=/(?:\s|[,!\.\?:;])*([\u3000-\u30ff\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]|[^\s\u3000-\u30ff\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]+)(?:\s|[,!\.\?:;])*$/;return t(l,null,{each:1})});define("twitterComments",["jquery","jqBehavior","window"],function(n,t,i){function r(t){function r(t){t.preventDefault();i.open(n(this).attr("href"),"Twitter","status=0,toolbar=0,location=0,resizable=1,scrollbars=1,left="+(i.screen.width-250)/2+",top="+(i.screen.height-350)/2+",width=500,height=450")}return{setup:function(){t.find(".twitteractions > a").on("click",r)},teardown:function(){t.find(".twitteractions > a").off("click")}}}return t(r)});require(["window","jquery","device","mediator"],function(n,t,i,r){var f,u=t("meta[name=viewport]"),e=i.capability("Viewport_Landscape"),s=u.attr("content"),o=function(){n.innerHeight>n.innerWidth?u.attr("content",s):u.attr("content",e);r.pubChannel("update","mediaQuery")};u.length&&e&&(o(),t(n).resize(function(){clearTimeout(f);f=setTimeout(o,50)}))});require(["jquery","navigation","headData","webApp.tokens"],function(n,t,i,r){var u=/(\?|&)ver=[\d\.]+(&|$)/gi;n.ajaxPrefilter(function(n){var f;if(n=n||{},f=n.url,i.ssl===!0&&f.substr(0,7).toLowerCase()=="http://"&&(f="https://"+f.substr(7)),!n.notVersioning&&f&&t.isLocal(f)&&!f.match(u)){var e=f.split("#"),o=e[0],s=e[1]?"#"+e[1]:"";n.url=o+(o.indexOf("?")>-1?"&":"?")+"ver="+r.appVersion+s}})});location&&(location.getAbsoluteUrl=function(){var n;return function(t){return n=n||document.createElement("a"),n.href=t||"",n.href}}(),location.origin||(location.origin=location.protocol+"//"+location.host));require(["jquery","getCookie","setCookie","navigation","location","c.onload"],function(n,t,i,r,u){var f="ocid",e="hp",o="homepage",s="sky2",h=15;(function(){var c="",v=r.getParamsFromUrl(u.href);v&&v[f]&&(c=v[f].toLowerCase());var y=(c.indexOf(e)!=-1||c.indexOf(o)!=-1)&&c.indexOf(s)===-1,a=t(f),l=n("#user-profile").data("dhp_cookie_days");l=l!=undefined?l:h;y&&!a?i(f,c,l,i.topDomain,"/"):l>0&&!y&&a&&(a.indexOf(e)!=-1||a.indexOf(o)!=-1)&&i(f,"",-1,i.topDomain,"/")})()});define("trackingHelper.tokens",{tradeDoublerMarketId:"2811339",tradeDoublerProgramId:"235167",tradeDoublerAjaxUrlFormat:"{0}/{1}/{2}/tduidajax?epi={3}"});define("ajax",[],function(){function n(n){if(!n||!n.url){n.error&&n.error("Missing Url. Invalid parameters");return}var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState==4){if(t.status!=200&&n.error){n.error(t.status,t.statusText);return}n.success&&n.success(t.response)}};t.open("GET",n.url);n.dataType&&t.setRequestHeader("Content-Type",n.dataType);n.timeout>0&&(t.timeout=n.timeout);n.ontimeout&&(t.ontimeout=function(){n.ontimeout("Request timeout")});t.send()}return{get:n}});define("msnNativeAds",["jquery","jqBehavior","pageInstance","headData","getCookie","window","afire","mediator"],function(n,t,i,r,u,f,e,o){function c(t,i){function v(n){var t=n?n.elem:null;y(t)&&(r(),setTimeout(function(){o.unsub(h,v)},200))}function y(i){return i&&i.length&&n.contains(i[0],t[0])}function p(){var n=a.find("li").first();return y(n)}function r(){try{if(l)return;e&&s(e);c&&s(c);l=!0}catch(n){f.console&&f.console.log("error sending native trackers"+n.message)}}var u=i.ct,e=i.impr,c=i.eimpr,l=!1,a=t.parents(".ip");u&&t.click(function(){s(u)});a.length?p()?r():o.sub(h,v):r()}function s(n){e(n)}var h="infopane_navigation";return t(c)});deferredCanary="c.deferred";deferredCanary="c.postdeferred";require(["document",deferredCanary],function(n){var t=n.createElement("iframe");t.src="//ib.adnxs.com/async_usersync_file";t.width=0;t.height=0;t.style="position:absolute;overflow:hidden;clip:rect(0 0 0 0);margin:0;padding:0;border:0;";n.body.appendChild(t)});require(["binding","c.dom"],function(n){require(["c.deferred"],function(){require(["jquery","imgSrc"],function(n,t){n("#user-profile img").each(function(){t.go(this)})});n("twitterComments","#breakingnews").all();n("marketDropdown","#site-market").all();n("marketDropdown",".marketswitch").all({triggerEvent:"click"});n("marketDropdown",".langtoggle").all({triggerEvent:"click"});require(["window","c.onload"],function(t){t.setTimeout(function(){n("socialPlugins","#social-plugins").all()},8e3);n("socialPlugins","#bnewssocial-plugins").all()})});n("poll",".pollcontainer").all();n("flyout",".megamenu").all({eventOrigin:"#header-common>h1>.vertical, #header-common>.h1>.vertical",skipContentOriginEventTargetCheck:!0});require(["jquery"],function(){n("flyout","#username").all({eventOrigin:"#username>a,#username>figure"});n("flyout","#settings").all({eventOrigin:"#settings>a"})});n("flyout","#language-toggle").view(n.views.SIZE34COLUMN,{eventOrigin:"#language-toggle>button"});n("searchBing","#srchfrm").all();n("tabScroll",".head").all();n("navArrowScroll",".navinner").all();require(["c.onload"],function(){n("msnNativeAds","a.nativead").all()})});require(["sso","document","c.deferred"],function(n,t){n();var i=t.getElementsByTagName("head")[0];i&&i.getAttribute("data-pdp-stale")&&define("c.pdp",1)});define("touchEvents",["jquery","modernizr","window"],function(n,t,i){function p(){return"ontouchstart"in i}function a(n){return f(n),!1}function f(n){n.originalEvent&&n.originalEvent.preventManipulation&&n.originalEvent.preventManipulation();n.preventDefault();n.stopPropagation()}function w(n){var t=n.originalEvent.changedTouches||n.originalEvent.touches;return t&&t.length?t:[n]}function b(n){return n.x&&Math.abs(Math.atan(n.y/n.x))<y?s:l}function h(n,t){return n&&t?{x:n.x/t,y:n.y/t}:{x:0,y:0}}function e(n,t){return n&&t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}function o(t,i,r){n.each(u[i],function(n,u){t.bind(u,function(n){r(n,i)})})}function k(t,i){n.fn[t]=function(n,i){return n?this.bind(t,i,n):this.trigger(t,i)};n.event.special[t]={setup:function(t,r){i(n(this),t,r)}}}var v={direction:"all",preventDefaultOnStart:!0,maximumDistanceForClick:20,maximumTimeForClick:300,distanceBeforeDirectionDetection:0,maximumTimeForThrow:1200,minimumLastThrowSpeed:1,maximumTimeForSwipe:400,minimumDistanceForSwipe:30,directionChangeBuffer:5},y=Math.PI/4,c=n(i),r={touch:"touch",start:"start",move:"move",stop:"stop",cancel:"cancel",tap:"tap",swipeUp:"swipeUp",swipeRight:"swipeRight",swipeDown:"swipeDown",swipeLeft:"swipeLeft",throwUp:"throwUp",throwRight:"throwRight",throwDown:"throwDown",throwLeft:"throwLeft"},s="horizontal",l="vertical",u={touch:{start:["touchstart","touchenter"],stop:["touchend","touchleave"],move:["touchmove"],cancel:["touchcancel"],preventDefaultOnStart:!1,mimickBrowserScroll:!1},mouse:{start:["mousedown"],stop:["mouseup"],move:["mousemove"],cancel:["mouseleave"],preventDefaultOnStart:!1,mimickBrowserScroll:!1}};return n.each({touch:t.touch||p(),mouse:!0},function(n,t){return t&&(u=u[n]),!t}),k(r.touch,function(t,y){function ft(){ut=p=k=g=it=nt=0}function rt(o,a){var v=w(o);u.preventDefaultOnStart&&f(o);(ut||it&&p.totalDistance>=d.maximumDistanceForClick)&&(ut=!0,f(o));(p||a==r.start)&&n.each(v,function(v,y){var w,ot,ct,lt,ut;if(et(y),w={touchType:a,coord:{x:y.pageX,y:y.pageY},screenCoord:{x:y.screenX,y:y.screenY},scrollCoord:{x:c.scrollLeft(),y:c.scrollTop()},count:k?k.count+1:0,time:(new Date).getTime()},a==r.start&&(ft(),tt=!1,p=n.extend({totalDistance:0},w),k=n.extend({},w)),w.delta=e(w.coord,k.coord),w.screenDelta=e(w.screenCoord,k.screenCoord),w.duration=w.time-k.time,w.speed=h(w.delta,k.duration),p.delta=e(w.coord,p.coord),p.screenDelta=e(w.screenCoord,p.screenCoord),p.totalDistance+=Math.sqrt(Math.pow(w.delta.x,2)+Math.pow(w.delta.y,2)),ot=d.direction==s,k&&k.speed&&(ct=ot?w.delta.x:w.delta.y,lt=ot?k.delta.x:k.delta.y,ct*lt<0&&(p.movecoord=w.coord,p.movetime=w.time)),p.movecoord&&(p.movechange=e(w.coord,p.movecoord),p.moveduration=w.time-p.movetime,p.movespeed=h(p.movechange,p.moveduration)),p.duration=w.time-p.time,p.speed=h(p.delta,p.duration),g=b(p.delta),p.totalDistance>d.distanceBeforeDirectionDetection&&d.direction!="all"&&!it&&!nt&&(p.direction=g,d.direction!=g?(nt=!0,w.touchType=r.cancel):p.totalDistance>d.maximumDistanceForClick&&(it=!0,f(o))),w.touchType==r.stop){var st=(p.movechange||p.delta).x,ht=(p.movechange||p.delta).y,at=p.moveduration||p.duration,rt=g==s,yt=rt?Math.abs(p.speed.x):Math.abs(p.speed.y),pt=rt?Math.abs(w.speed.x):Math.abs(w.speed.y),wt=rt?Math.abs(k.speed.x):Math.abs(k.speed.y),vt=Math.max((pt+wt)/2,yt);p.duration<d.maximumTimeForClick&&p.totalDistance<d.maximumDistanceForClick?(tt=!0,w.touchType=r.tap):(w.distance=Math.abs(rt?st:ht),vt>.3&&(at<d.maximumTimeForSwipe?w.touchType=rt?st>0?r.swipeRight:r.swipeLeft:ht>0?r.swipeDown:r.swipeUp:at<d.maximumTimeForThrow&&vt>d.minimumLastThrowSpeed&&(w.touchType=rt?st>0?r.throwRight:r.throwLeft:ht>0?r.throwDown:r.throwUp)))}(k.touchType!=w.touchType||k.coord.x!=w.coord.x||k.coord.y!=w.coord.y)&&(nt&&w.touchType!=r.cancel||(ut=n.Event(r.touch,{current:w,last:k,start:p,direction:g,originalEvent:o}),t.trigger(ut),tt=ut.allowClick!==!1,ut.isDefaultPrevented()&&o.preventDefault(),ut.isPropagationStopped()&&o.stopPropagation(),ut.isImmediatePropagationStopped()&&o.stopImmediatePropagation()));nt&&u.mimickBrowserScroll&&g==l&&(p.scrollCoord.y-=w.screenDelta.y,n(i).scrollTop(p.scrollCoord.y));a==r.stop||a==r.cancel?ft():k=w})}function et(n){n.pageX||n.originalEvent&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY,n.screenX=n.originalEvent.screenX,n.screenY=n.originalEvent.screenY,n.pointerId=n.originalEvent.pointerId,n.identifier=n.originalEvent.identifier)}var p,k,g,it,ut,nt,tt=!1,d=n.extend({},v,y);ft();t.find("*").addBack().each(function(){n(this).attr("draggable",!1).attr("selectable",!1).bind("ondragstart",a).bind("drag",a).not(".mobilead").not(".ip,.ip *").bind("click",function(n){return tt||f(n),tt});this.onselectstart!==undefined?this.onselectstart=function(){return!1}:this.style.MozUserSelect!==undefined&&(this.style.MozUserSelect="none")});o(t,r.start,rt);o(t,r.move,rt);o(t,r.stop,rt);o(t,r.cancel,rt)}),r});define("jqueryPlus",["jquery","modernizr","device","screen","requestAnimationFrame","deviceGroup"],function(n,t,i,r,u,f){function k(n){var t=n.match(v);return t&&t.length>2?t[2].split(","):[]}function y(n){var t=k(n),i=t.length;return parseFloat(i==6?t[4]:i==16?t[12]:0)}function p(n){return parseFloat(n.css("font-size"))||12}function d(){var u,t,i,n,r;for(u in o){t=o[u];for(i in t)i.indexOf("$")!=0&&(n=t[i],n&&(r=(new Date).getTime()-n.animation.startTime,r>=n.animation.options.duration?b(t,n):g(t,n,r)))}w()}function w(){s.length?(a=!0,u(function(){d()})):a=!1}function g(t,i,r){var h=i.animation.options.easing||"swing",e=n.easing[h],o=i.animation.options.step,u,f,s;o&&(i=o(i));u=i.startValue;e&&(f=i.animation.options.duration,s=e(r/f,r,0,1,f),u=i.startValue+s*(i.endValue-i.startValue)||i.startValue);t.$element.css(i.name,u)}function b(t,i,r){var f=i.name,u;r||t.$element.css(f,i.endValue);u=i.animation;delete o[t.$element.uniqueId()];delete u.properties[f];delete t[i];u.properties.length||(u.options.complete&&u.options.complete(),n.inArray(u,s)+1&&s.splice(n.inArray(u,s),1))}var h=t.prefixed("transform")||"transform",e,c,v,l,o,s,a;return(n.fn.innerHeight=function(){var n=this[0];return n&&n.innerHeight?n.innerHeight:this.height()},e={},Number.prototype.mod=function(n){return e[this]||(e[this]={}),e[this][n]||(e[this][n]=(this%n+n)%n),e[this][n]},c=t.csstransforms3d&&i.isCapable("AllowTransform3d"),c=t.csstransforms3d,t.translateXCss=c?"translateX3d":t.csstransforms&&i.isCapable("AllowTransform2d")?"translateX":"left",v=new RegExp("matrix(3d)?\\(([0-9-., ]*)\\)","i"),n.cssHooks.translateX={get:function(t){var i=n(t).css(h);return y(i)},set:function(t,i){n(t).css(h,i===""?i:"translateX("+i+")")}},n.fx.step.translateX=function(t){n.cssHooks.translateX.set(t.elem,t.now+t.unit)},n.cssHooks.translateX3d={get:function(t){var i=n(t).css(h);return y(i)},set:function(t,i){n(t).css(h,i?"translate3d("+i+",0,0)":"")}},n.fx.step.translateX3d=function(t){n.cssHooks.translateX3d.set(t.elem,t.now+t.unit)},n.extend(n.easing,{easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i}}),n.fn.pxToEm=function(n,t){if(!n)return 0;var i=p(t||this);return parseFloat(n)/i+"em"},n.fn.toPx=function(n,t){var i=0;return n&&(i=parseFloat(n),n.indexOf("em")!=-1&&(i*=p(t||this))),i},l=0,n.fn.uniqueId=function(){var t=n(this).data("uniqueId");return t||(l++,t=l,n(this).data("uniqueId",t)),t},o={},s=[],f.isPc)?n:(n.fn.animate=function(t,i){for(var f,r,l,v,y=(new Date).getTime(),e=0;e<this.length;e++){var h=n(this[e]),c=h.uniqueId(),u=o[c];u||(u=o[c]={$element:h});i.step&&typeof i.step!="function"&&(i.step=null);f={properties:t,options:i,startTime:y};s.push(f);for(r in t)u[r]&&b(u,u[r],!0,f),l=t[r],v=h.css(r),u[r]={name:r,startValue:v,endValue:l,animation:f}}return a||w(),n(this)},n.fn.stop=function(){return n(this)},n)});define("tabKeyPressed",["jquery"],function(n){var t=!1;n(document).on("keydown",function(n){n.keyCode==9&&(t=!0)}).on("keyup",function(n){n.keyCode==9&&(t=!1)});return function(){return t}});require(["jquery","window","mediator","classList","c.deferred"],function(n,t,i,r){function l(){s.scrollTop()?u.addClass(f):u.removeClass(f)}var u=n("body>.head"),s=n(t),f="scrolled",h=n("body")[0],c=r.contains(h,"flexgp")&&r.contains(h,"fullwidth"),e,o;c&&(e=n("article .gallery"),o=e.offset().top+e.height());i.sub("viewport_scroll_change",l)});require(["jquery","binding","c.dom"],function(n,t){var i=n("html");require(["c.deferred"],function(){i.addClass("loaded")});n(".ad a.adchoices").removeClass("adchoices").addClass("adchoicesjs");t("searchTargetSelf","#srchfrm").view(t.views.SIZE12COLUMN);t("searchScope","#search-scope").view(t.views.SIZE3COLUMN|t.views.SIZE4COLUMN);t("truncate",".truncate").all()});define("adMonitoring",["adTelemetry","adCommon","document","window"],function(n,t,i,r){var u;return function(f,e,o){function g(){if(h=p(f.elem,"div",k),a=h&&h.id&&h.id.substr(d),!a)return!1;var n=new RegExp("[a-zA-Z0-9]+_"+a);return(y=s&&p(s,"div",n),!y)?!1:!0}function l(i){var nt=!u||u.length==0,p,g,k,d,h,s,y,a;if(++c,nt){for(u=[],p=i&&i.elem&&i.elem.querySelectorAll("div"),s=0;h=p[s];++s)g={id:h.id,w:h.offsetWidth,h:h.offsetHeight},u.push(g);v=r.addEventListener?setInterval(l.bind(this,i),e<<1):setInterval(function(){l(i)},e<<1);return}if(p=i&&i.elem&&i.elem.querySelectorAll("div"),k=!1,d=!1,u&&u.length>0)for(s=0;h=p[s];++s)(y=u[s],a={id:h.id,w:h.offsetWidth,h:h.offsetHeight},y&&y.id==a.id)&&(k=y.w!=a.w||y.h!=a.h,k&&(u[s].w=a.w,u[s].h=a.h),d|=k);(!d&&c>b||c==w)&&(clearInterval(v),c=0,u=[],typeof o=="function"&&o(!0,!0),t.setAdContainerDisplayState(f.htmlid,f.isVisible,f.canBeDisplayed||f.isRendered,f.canDisplayAdChoices),n.recordAdOperation(i,"usrszch",!1,i.sizeCharacteristics.adSizeType,!1),t.updateElementData(i.telemetry,"w",i.sizeCharacteristics.actualWidth),t.updateElementData(i.telemetry,"h",i.sizeCharacteristics.actualHeight))}function p(n,t,i){var f,r,u;if(n&&n.querySelectorAll)for(f=n.querySelectorAll(t),u=0;r=f[u];++u)if(i.test(r.id))return r;return null}var a,h,y,c=0,v,w=5,b=3,k=/ebDiv[0-9]+/i,d=5,s;(s=i.getElementById("eyeDiv"),f&&!f.isMonitored&&g(f))&&(r.addEventListener?(s.addEventListener("mousedown",l.bind(this,f)),f.isMonitored=!0):r.attachEvent?(s.attachEvent("onmousedown",function(){l(f)}),f.isMonitored=!0):f.isMonitored=!1)}});define("arrowScroll",["jquery","jqBehavior","imgSrc","remToPixel","scrollLeft","dir.tokens","elementTrackingDecorator","perfMarker","requestAnimationFrame"],function(n,t,i,r,u,f,e,o,s){function h(t,o){function tt(){d=o.reduceScrollAmount?r(o.reduceScrollAmount):0;o.reposition&&l[0]&&(a=u(l[0]));h.on(w,et);c.on(w,ot);s(function(){k()});l.on("scroll",k)}function it(){h.off(w,et);c.off(w,ot);l.off("scroll",k)}function st(){it();tt()}function k(){if(ht(),!y){lt();return}p>=0&&p<=nt?(f.ltr?ft:ut)():p>nt&&p<y?at():p===y&&(f.ltr?ut:ft)()}function rt(n){l.animate({scrollLeft:u.adjustValue(l[0],ct(n))},{queue:!1,duration:220,complete:function(){k()}})}function ht(){var n=l[0];n&&(b=n.clientWidth,p=u(n),y=n.scrollWidth-b-o.scrollOffset,i.loadInViewport&&i.loadInViewport(t[0]))}function ct(n){return f.ltr||(n*=-1),n==-1?a>0&&(a-=b-d+o.scrollOffset,a<0&&(a=0)):n==1&&a<y&&(a+=b-d+o.scrollOffset,a>y&&(a=y)),a}function lt(){h.removeClass(v);c.removeClass(v)}function at(){h.addClass(v);c.addClass(v)}function ut(){c.removeClass(v);h.addClass(v)}function ft(){h.removeClass(v);c.addClass(v)}function et(){rt(-1)}function ot(){rt(1)}function vt(){h=n('<button class="stripearrow" aria-hidden="true"><\/button>');e.setTrackingForSingleElement(h,l,{defaults:{n:"prevStripArrow"}});c=n('<button class="stripearrow" aria-hidden="true"><\/button>');e.setTrackingForSingleElement(c,l,{defaults:{n:"nextStripArrow"}});l.before(h).after(c)}var h,c,g="button",w="click",l=o.scrollRegion?t.find(o.scrollRegion):t.children("div"),p=0,nt=1,y=0,v="show",a=0,b,d;return o.addArrowButtons?vt():(h=t.find(g).first(),c=t.find(g).last()),{setup:tt,update:st,teardown:it}}return t(h,{addArrowButtons:!1,reduceScrollAmountForArrows:!1,scrollOffset:0,reposition:!1})});define("meTwitter",["jquery","jqBehavior","navigation","meModule","meModule.Tokens","getCookie","window","document","track","mediator","headData"],function(n,t,i,r,u,f,e,o,s,h,c){function nt(t,i){function d(){e.twttr=function(n,t,i){var u,o=n.getElementsByTagName(t)[0],f=e.twttr||{},r=f.impressions||{};return(r._e=r._e||[],r.ready=r.ready||function(n){r._e.push(n)},f.impressions=r,n.getElementById(i))?f:(u=n.createElement(t),u.id=i,u.src="//platform.twitter.com/impressions.js",o.parentNode.insertBefore(u,o),f)}(o,"script","twitter-impressionsjs")}function v(n,f){var o=n.signedIn&&f!=="USER_AUTH_FAILED",s=n.error,e={},h;o?(c.twitterimpenabled&&d(),h=u.tile.twitter[1],s?e.showError=!0:f&&f.trim()?e.content=f:e.showNoContent=!0):e.signedOutImageUrl=y;r.updateFlyout(t,"twitter",e,o,r.selector.tasks[2],p);o?nt():r.attachSignInPopupWindow(t,a,i.popupWidth,i.popupHeight);g()}function g(){if(e.twttr&&e.twttr.impressions){var n=t.find(r.selector.contentList).get();n&&n.length&&e.twttr.impressions.ready(function(t){t.impressions.logTweets(n)})}}function p(t){t.preventDefault();n.get(b).always(v.bind(null,{signedIn:!1,error:!1}))}function nt(){var i,u,f;t.find(r.selector.contentItem).off(l).on(l,function(t){var i=n(this).data("landingurl"),r=t.target||t.srcElement;i&&r&&r.tagName.toLowerCase()==="p"&&(e.open(i,"_blank"),s.trackEvent({type:"click",target:this}))});t.find(".tweetactions a").off(l).on(l,function(n){var t=n.target||n.srcElement;t&&t.href&&(n.preventDefault(),tt(t.href))});i=t.find(r.selector.contentList);u=i.length?i.data("meurl"):null;u&&(f=t.find(r.selector.tasks[1]),f.length&&(f[0].href=u))}function tt(n){var i=550,t=420,r=screen.height,u=screen.width,f=Math.round(u/2-i/2),o=r>t?Math.round(r/2-t/2):0;e.open(n,"intent","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+i+",height="+t+",left="+f+",top="+o)}return e.populateTweets=function(){h.unsub("TwitterFlyoutVisible",e.populateTweets);r.updateFlyout(t,"twitter",{showProgress:!0},!0,r.selector.tasks[1],p);n.ajax({url:w,type:"GET",cache:!1,timeout:i.timeout,crossDomain:!0,xhrFields:{withCredentials:!0}}).fail(function(n,t){r.logAjaxError(t,"Twitter","get tweets");v({signedIn:!0,error:!0})}).done(v.bind(null,{signedIn:!0,error:!1}))},{setup:function(){y||(y=t.find(r.selector.contentDiv).data("signedout-image-url"));f(k)?r.deferredFlyoutOnHover(t,"TwitterFlyoutVisible",e.populateTweets):r.attachSignInPopupWindow(t,a,i.popupWidth,i.popupHeight)}}}var d={popupWidth:500,popupHeight:500,timeout:u.tile.twitter[1].requestTimeout},l="click",p=r.info.origin+"/"+r.info.locale+"/homepage/",g=r.info.httpsOrigin+"/"+r.info.locale+"/homepage/",w=g+"Twitter/Tweets",a=p+"Twitter/Authorize",v=location.href.split("?")[1],b,k,y;return typeof v!="undefined"&&(w+="?"+v,a+="?"+v),b=p+"Twitter/SignOut",k="TwitterSignedIn",t(nt,d)});define("meOffice",["jquery","jqBehavior","mediator","refreshModules","headData","webStorage","window"],function(n,t,i,r,u,f,e){function o(t,o){function v(n){var r=e.localStorage,i,t,u;if(r&&r.deferLoadedItems)for(i=r.deferLoadedItems.split(","),t=0,u=i.length;t<u;t++)if(i[t]&&i[t].indexOf(n)!==-1){f.removeItem(i[t]);break}}function a(){var i=t.find("section li time");i.each(function(){var t=new Date(n(this).attr("datetime"));t&&n(this).html(t.toLocaleString())})}function p(){c=t.find("[data-module-id]").eq(0);c.length&&(h=c.data("moduleId"),h&&(l="moduleRefreshed-"+h,i.sub(l,a)))}function y(){i.unsub(o.eventName,y);r(s).done(function(){a();p()})}var s,c,h,l;return u.signedin||(t.hasClass("office")?v("meOffice"):t.hasClass("onenote")&&v("meOneNote")),{setup:function(){s=t.find("[data-module-deferred-hover], [data-module-deferred]").not("[data-sso-dependent]");s.length&&s.data("module-deferred-hover")&&s.html("<p class='meloading'><\/p>");i.sub(o.eventName,y)},teardown:function(){h&&i.unsub(l,a)}}}return t(o)});define("loadMeImages",["jquery","jqBehavior","imgSrc"],function(n,t,i){function r(t,r){function e(){u.length==0&&r.selectOnHover&&(u=n(r.imagesToLoad));u.each(function(){i.go(this)});r.selectOnHover&&n(r.flyout).addClass("lzy")}var u=n(r.imagesToLoad),o=navigator.pointerEnabled||navigator.msPointerEnabled?"pointermove MSPointerMove":"mousemove",f=o+" touchstart MSPointerDown pointerdown";return{setup:function(){t.one(f,e)},teardown:function(){t.off(f,e)}}}return t(r)});define("outlookInbox",["jquery","jqBehavior","outlookModel","outlookInbox.tokens","format","headData","meModule","meModule.Tokens","setCookie","location","trackInfo","track","perfMarker"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v=o.tile.mail[1],y=function(t,r){function u(){function h(n){a("TimeToOutlookReturn",!0);u&&l(n);c(n)}function c(n){var i=n.unre;e.updateNotifications(t,".mail",0,v,{count:i,updateInTile:!0,updateInTask:!1,displayNotification:i>0})}function l(n){var i=n&&n.msgs?p(n.msgs):null;i?e.updateFlyout(t,"mail",{content:i},!0):s()}function p(t){var i="",r=o.tile.mail[1].piiText,u=o.tile.mail[1].piiUrl;return n.each(t,function(n,t){var f=new Date(t.date),e="<li "+k(t)+'><a href="'+t.murl+'" target="_blank" data-piitxt="'+r+'" piiurl="'+u+'"><span class="from">'+t.name+"<\/span><p>"+t.subj+'<\/p><time datetime="'+f.toISOString()+'">'+f.toLocaleString()+"<\/time><\/a><\/li>";i+=e}),i&&(i="<ul>"+i+"<\/ul>"),i}function w(){e.updateFlyout(t,"mail",{showProgress:!0},!0)}function b(){u&&s()}function s(){var n="<span>"+v.refreshPageErrorMessage+"<\/span><span>"+v.viewInboxErrorMessage+"<\/span> <a href='"+v.headerUrl+"' target='_blank'> "+v.tileTitle+"<\/a>";e.updateFlyout(t,"mail",{showError:!0,errorMessage:n},!0)}function k(n){return n.read?"":'class="unread"'}if(!f.signedin){require(["c.sso"],y.bind(null,t,r));return}var u=i.isPcDeviceGroup();w();i.getOutlookData().done(h,b)}u()};return t(y)});define("meIntegratedSkype",["jquery","jqBehavior","headData","meModule","meModule.Tokens","skypeConversationsUtility","skypeContactsUtility","skypeRenderUtility","skypeUtility","mediator","window","touchGestures","escape"],function(n,t,i,r,u,f,e,o,s,h,c,l){function g(t,u){function st(){f.init(s,a);e.init(s);o.init(s,a);r.updateFlyout(t,a.integratedSkypeClass,{showProgress:!0},!0);ct()}function ut(){d?(a.$recentConversations.is(":hidden")&&w.click(),c()):(d=!0,f.fetchOnlineStatus(ft),a.useAbch&&e.fetchContacts(vt))}function ht(){p.blur()}function ct(){f.fetchRecentConversations(lt)}function lt(){if(s.isError){yt();return}at();o.renderConversationSkypeIcons();pt();kt();dt();et();ni();ti();bt()}function at(){var i=o.getContactsMarkup()+o.getRecentConversationsMarkup();r.updateFlyout(t,a.integratedSkypeClass,{content:i},!0);a.$recentConversations=n(".recentconversations")}function ft(){o.renderConversationOnlineStatus();s.isLongPollFinished||f.fetchNextOnlieStatus(ft)}function vt(){var n,t;y&&y.is(":visible")&&(n=p.val(),n.length?(t=e.searchContacts(n),nt(t)):nt(s.contacts,!0));o.renderConversationContacts()}function nt(n,t){var i;s.searchContactsSkypeButtons.length=0;s.searchContactsUsersIndex.length=0;s.isFetchingContacts?(i=o.getFetchingContactsMarkup(),y.html(i)):n.length?(i=o.getSearchContactsMarkup(n),y.html(i),o.renderSearchContactsSkypeIcons(),o.renderSearchContactsOnlineStatus(),wt(n),gt()):t?y.html(""):(i=o.getSearchContactsEmptyMarkup(),y.html(i))}function yt(){var n=o.getErrorMarkup();r.updateFlyout(t,a.integratedSkypeClass,{content:n},!0)}function pt(){r.updateNotifications(t,"."+a.integratedSkypeClass,0,k,{maxNotifications:a.maxNotifications,count:s.missedConversations,updateInTile:!0,updateInTask:!1,displayNotification:s.missedConversations>0})}function wt(n){b=n.length>a.defaultCount?!0:!1;b?a.$skypeContacts.find("> div:last-child").css("overflow-y","scroll"):a.$skypeContacts.find("> div:last-child").css("overflow-y","hidden")}function bt(){var r,t,i;i=n(".mestripescrollfix ."+a.integratedSkypeClass);t=i.data(a.abchEnabled);r=i.data(a.firstRun);typeof t!="undefined"&&(a.useAbch=t);(r||n(".integratedskype .signin").is(":visible"))&&ut();h.sub(a.flyoutVisibleEvent,ut);h.sub(a.flyoutClosedEvent,ht)}function kt(){a.$skypeContacts=n(".skypecontacts");w=a.$skypeContacts.find("> div:nth-child(2) button");p=a.$skypeContacts.find("> div:nth-child(2) input");ot()}function dt(){if(a.$recentConversations.find("li").hover(function(){v.touchOnly||(v.hover=!0,c(),tt(this,!0))},function(){v.touchOnly||v.conversationElement||tt(this,!1)}),l.settings.touchSupported)a.$recentConversations.find("li").on(v.touchStopEvents,function(){v.hover?v.conversationElement=this:(v.touchOnly=!0,v.conversationElement&&c(),v.conversationElement=this,tt(this,!0))})}function gt(){if(n(".searchresultcontacts li").hover(function(){v.touchOnly||(v.hover=!0,c(),it(this,!0))},function(){v.touchOnly||v.contactElement||it(this,!1)}),l.settings.touchSupported)n(".searchresultcontacts li").on(v.touchStopEvents,function(){v.hover?v.contactElement=this:(v.touchOnly=!0,v.contactElement&&c(),v.contactElement=this,it(this,!0))})}function et(){p.bind(a.focus,function(){n(this).val("");n(this).unbind(a.focus);c();ii()})}function ni(){p.bind("change paste keyup",function(){var t,i;t=n(this).val();i=t.length>0?e.searchContacts(t):s.contacts;nt(i)})}function ti(){w.click(function(){w.hasClass(a.searchClearClass)&&(ot(),ri(),et())})}function tt(t,i){var u,f,e,r;r=n(t);u=n("> :nth-child(2)",r);f=n("> :nth-child(3)",r);e=n("> :nth-child(4)",r);i?(r.css(a.background,a.conversationSelectedColor),f.hide(),u.css(a.width,"12.3rem"),e.show()):(r.css(a.background,a.conversationNotSelectedColor),e.hide(),u.css(a.width,"25.2rem"),f.show())}function it(t,i){var f,e,o,u,r;r=n(t);f=n("> :nth-child(2)",r);e=n("> :nth-child(3)",r);o=n("> :nth-child(4)",r);i?(u=b?"10.1rem":"12.3rem",e.hide(),r.css(a.background,a.conversationSelectedColor),f.css(a.width,u),o.show()):(u=b?"26.5rem":"28.7rem",r.css(a.background,a.conversationNotSelectedColor),o.hide(),f.css(a.width,u),e.show())}function ot(){p.val(k.searchContactsText);p.blur()}function ii(){y=a.$skypeContacts.find("> :nth-child(3)");a.$recentConversations.hide();y.show();w.addClass(a.searchClearClass);nt(s.contacts,!0)}function ri(){w.removeClass(a.searchClearClass);y.hide();a.$recentConversations.show();y=null}function c(){v.conversationElement&&(tt(v.conversationElement,!1),v.conversationElement=null);v.contactElement&&(it(v.contactElement,!1),v.contactElement=null)}function rt(){if(!(this instanceof rt))return new rt;this.isError=!1;this.isOnlineStatusError=!1;this.isContactError=!1;this.isLongPollFinished=!1;this.isFetchingContacts=!1;this.conversations=[];this.contacts=[];this.usersStatus=[];this.skypeButtons=[];this.searchContactsSkypeButtons=[];this.usersIndex=[];this.searchContactsUsersIndex=[];this.missedConversations=0}if(!i.signedin){require(["c.sso"],g.bind(null,t,u));return}var s=new rt;st()}var k=u.tile.integratedskype[1],y=null,b=!1,d=!1,p=null,w=null,v={touchStopEvents:"touchend MSPointerUp pointerup",conversationElement:null,contactElement:null,touchOnly:!1,hover:!1},a={integratedSkypeClass:"integratedskype",defaultPhotoClass:"defaultphoto",defaultUserPhotoClass:"defaultuserphoto",linkSkypeAccountClass:"linkskypeid",birthdayClass:"hasbirthday",userPhotoClass:"userphoto",searchClearClass:"clearsearch",flyoutVisibleEvent:"SkypeFlyoutVisible",flyoutClosedEvent:"SkypeFlyoutClosed",conversationNotSelectedColor:"white",conversationSelectedColor:"#f1f1f1",hideLinkSkypeCookie:"HideLinkSkype",firstRun:"firstrun",abchEnabled:"abchenabled",background:"background",color:"color",width:"width",focus:"focus",defaultCount:4,maxNotifications:99,cookieExpiryDays:365,useAbch:!0,$recentConversations:null,$skypeContacts:null};return t(g)});define("skypeConversationsUtility",["jquery","meModule.Tokens","skypeUtility"],function(n,t,i){function c(){if(!(this instanceof c))return new c;this.userId=null;this.name=null;this.photo=null;this.message=null;this.missed=!1;this.birthday=!1}function g(n,t){u=n;y=t;r.conversations=r.conversations+r.conversationsQueryString;r.subscription=r.subscription+r.subscriptionQueryString;r.endpoint=r.endpoint+r.endpointQueryString}function nt(n){s=n;l()}function tt(n){e=n;h(r.endpoint,{},ft,et)}function it(n){e=n;h(r.longpoll,{},b,k)}function l(){wt(r.conversations,rt,ut)}function rt(n,t,i){a(i);ct(n);u.isError=!1;s()}function ut(n){n.status==404?(bt(n),a(n),l()):n.status==401&&w==!1?(w=!0,i.updateLiveCookies(ht)):n.status==500&&n.responseJSON!=null&&n.responseJSON.errorCode==1&&n.responseJSON.message=="Getting linked skype id failed."?(u.isError=!1,s()):(i.logError("[skypeConversationUtility.js] API call to get skype conversation failed. "+JSON.stringify(n)),u.isError=!0,s())}function ft(n,t,i){a(i);h(r.subscription,{channelType:"httpLongPoll",template:"raw",interestedResources:["/v1/users/ME/contacts/ALL"]},ot,st)}function et(n){i.logError("[skypeConversationUtility.js] API call to create endpoint failed. "+JSON.stringify(n));u.isOnlineStatusError=!0;u.isLongPollFinished=!0;e()}function ot(n,t,i){r.longpoll=i.getResponseHeader("Location")+"/poll";h(r.longpoll,{},b,k)}function st(n){i.logError("[skypeConversationUtility.js] API call to create subscription failed. "+JSON.stringify(n));u.isOnlineStatusError=!0;u.isLongPollFinished=!0;e()}function b(n){dt(n);u.isLongPollFinished=n.length==0?!0:!1;u.isOnlineStatusError=!1;e()}function k(n){i.logError("[skypeConversationUtility.js] API call for long polling failed. "+JSON.stringify(n));u.isOnlineStatusError=!0;u.isLongPollFinished=!0;e()}function ht(){l()}function ct(n){var t,r;n.conversations&&n.conversations.length!==0&&(t=lt(n.conversations),i.printSortedConversations(n.conversations,t),r=vt(n.conversations,t),at(n.conversations),yt(r),i.printRecentConversations(u))}function lt(n){for(var t,r=[],i=0;i<n.length;i++)t=n[i],t.lastMessage&&t.lastMessage.originalarrivaltime&&(t={index:i,originalArrivalTime:new Date(t.lastMessage.originalarrivaltime)},r.push(t));return r.sort(function(n,t){return t.originalArrivalTime-n.originalArrivalTime}),r}function at(n){for(var i,t=0;t<n.length;t++)i=n[t],i.id!==p&&d(i)&&u.missedConversations++}function vt(n,t){for(var r,f=[],e=0,u,i=0;i<t.length&&e<y.defaultCount;i++)u=t[i].index,r=n[u],r.lastMessage&&r.lastMessage.type&&r.id!==p&&(f.push(n[u]),e++);return f}function yt(n){for(var i,t=0;t<n.length;t++)i=new c,i.userId=n[t].id.substring(2,n[t].id.length),i.name=kt(n[t].id),i.missed=d(n[t]),n[t].lastMessage.messagetype==="Text"||n[t].lastMessage.messagetype==="RichText"?i.message=pt(n[t].lastMessage.content):n[t].lastMessage.messagetype==="Event/Call"?i.message=f.callMessageText:n[t].lastMessage.messagetype==="RichText/UriObject"||n[t].lastMessage.messagetype==="RichText/Files"?i.message=f.fileMessageText:n[t].lastMessage.messagetype==="Event/SkypeVideoMessage"?i.message=f.videoMessageText:n[t].lastMessage.messagetype==="RichText/Contacts"&&(i.message=f.contactMessageText),u.conversations.push(i)}function d(n){var i,r,t,u,f;return n.properties&&n.properties.consumptionhorizon&&(t=n.properties.consumptionhorizon.split(";"),t.length&&(i=parseInt(t[1],10))),n.lastMessage&&(u=new Date(n.lastMessage.originalarrivaltime),f=new Date(u.toUTCString()),r=+f),r>i?!0:!1}function pt(n){var t=n.indexOf("<"),i=n.indexOf(">");return t==-1&&i==-1?n:""}function wt(t,i,r){var f={},u={clientInfo:v};o?u.RegistrationToken=o:(f.withCredentials=!0,u.BehaviorOverride="redirectAs404");n.ajax({type:"GET",url:t,crossDomain:!0,headers:u,xhrFields:f,success:function(n,t,r){typeof i=="function"&&i(n,t,r)},error:function(n,t,i){typeof r=="function"&&r(n,t,i)}})}function h(t,i,r,u){var f={clientInfo:v,RegistrationToken:o};n.ajax({type:"POST",url:t,data:JSON.stringify(i),contentType:"application/json",crossDomain:!0,headers:f,success:function(n,t,i){typeof r=="function"&&r(n,t,i)},error:function(n,t,i){typeof u=="function"&&u(n,t,i)}})}function bt(n){var i,u,t;i=n.getResponseHeader("Location");u=i.indexOf("/v1");t=i.substring(0,u);r.conversations=t+r.conversationsQueryString;r.endpoint=t+r.endpointQueryString;r.subscription=t+r.subscriptionQueryString}function a(n){var t=n.getResponseHeader("Set-RegistrationToken");t&&(o=t)}function kt(n){var t=n.split(":");return t.length?t[t.length-1]:n}function dt(n){var t,f,r;if(n.eventMessages&&n.eventMessages.length!==0){for(f=gt(n.eventMessages),r=ni(f),t=0;t<r.length;t++)u.usersStatus.push(r[t]);i.printOnlineStatus(u)}}function gt(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],i.resourceType==="UserPresence"&&r.push(i);return r}function ni(n){for(var i,r,u=[],t=0;t<n.length;t++)i=n[t],i.resource&&(r={userId:ti(i.resource.selfLink),status:i.resource.status},u.push(r));return u}function ti(n){var i,t=null;return n?(i=n.split("/"),i.length>5&&(t=i[5]),t.substring(2,t.length)):t}var f=t.tile.integratedskype[1],r={conversationsQueryString:"/v1/users/ME/conversations?startTime=1&pageSize=100&view=msnp24Equivalent&targetType=Skype",endpointQueryString:"/v1/users/ME/endpoints",subscriptionQueryString:"/v1/users/ME/endpoints/SELF/subscriptions",conversations:f.chatServiceUrl,endpoint:f.chatServiceUrl,subscription:f.chatServiceUrl,longpoll:""},v="os=windows; osVer=8; proc=x86; lcid=en-us; deviceType=10; country=us; clientName=msn; clientVer=1.0",o=null,s=null,e=null,u=null,y=null,p="8:echo123",w=!1;return{init:g,fetchRecentConversations:nt,fetchOnlineStatus:tt,fetchNextOnlieStatus:it}});define("skypeContactsUtility",["jquery","skypeUtility","window"],function(n,t,i){function e(){if(!(this instanceof e))return new e;this.userId=null;this.name=null;this.photo=null;this.birthday=!1}function s(t){var u,e;r=t;e="https://"+i.location.hostname;u=n("html").attr("lang").toLowerCase()||"en-us";f.addressBook=e+"/"+u+f.addressBook}function h(n){u=n;r.isFetchingContacts=!0;y(f.addressBook,l,o)}function c(n){for(var i,u=[],t=0;t<r.contacts.length;t++)i=r.contacts[t].name.toLowerCase().indexOf(n.trim().toLowerCase()),i!=-1&&u.push(r.contacts[t]);return u}function l(n){if(n&&n.Error){o(n);return}a(n.Contacts);r.isContactError=!1;r.isFetchingContacts=!1;u()}function o(n){t.logError("[skypeContactsUtility.js] API call to get user skype contacts. "+JSON.stringify(n));r.isContactError=!0;r.isFetchingContacts=!1;u()}function a(n){var u,i,f=[];if(n)for(u=0;u<n.length;u++)if(i=new e,i.userId=n[u].ObjectId,i.name=n[u].OrderedName,i.photo=n[u].AvatarUrl,i.birthday=v(n[u]),i.userId!=null&&i.name!=null)if(i.userId==="echo123")continue;else f.push(i);f.sort(function(n,t){var i,r;return(i=n.name.toLowerCase(),r=t.name.toLowerCase(),i<r)?-1:i>r?1:0});r.contacts=f;t.printContacts(r)}function v(n){if(!n.Birthday)return!1;var t=new Date(n.Birthday.match(/\d+/)[0]*1),r=t.getUTCDate(),u=t.getUTCMonth()+1,i=new Date,f=i.getUTCDate(),e=i.getUTCMonth()+1;return r==f&&u==e}function y(t,i,r){var u={};u.withCredentials=!0;n.ajax({type:"GET",url:t,crossDomain:!0,xhrFields:u,success:function(n,t,r){typeof i=="function"&&i(n,t,r)},error:function(n,t,i){typeof r=="function"&&r(n,t,i)}})}var r=null,u=null,f={addressBook:"/api/addressbook/"};return{init:s,fetchContacts:h,searchContacts:c}});define("skypeRenderUtility",["jquery","meModule.Tokens","window"],function(n,t,i){function a(n,t){r=n;f=t}function v(){var n,t,i,u;if(!r.isContactError){for(u=f.$recentConversations.clone(!0),n=0;n<r.usersIndex.length;n++)for(t=0;t<r.contacts.length;t++)if(r.usersIndex[n].userId===r.contacts[t].userId){i=u.find("ul > :nth-child("+(r.usersIndex[n].index+1)+")");y(n,t,i);p(n,t,i);w(n,t,i);break}f.$recentConversations.replaceWith(u);f.$recentConversations=u}}function y(n,t,i){var e,u,o;r.contacts[t].photo&&(o=b(r.usersIndex[n].index+1),u='<div style="background:url('+r.contacts[t].photo+') no-repeat">',u+='<div class="'+f.userPhotoClass+" "+o+'">',u+="<\/div>",e=i.find("> :first-child"),e.replaceWith(u))}function p(n,t,i){var u;r.contacts[t].name&&(u=i.find("> :nth-child(2) h3"),u.html(r.contacts[t].name))}function w(n,t,i){var u;r.contacts[t].birthday&&(u=i.find("> :nth-child(3) > div:first-child"),u.addClass(f.birthdayClass))}function b(n){var t,i=u.offline;return t=f.$recentConversations.find("ul > :nth-child("+n+") > :first-child > div"),t.hasClass(u.available)?i=u.available:t.hasClass(u.idle)?i=u.idle:t.hasClass(u.busy)&&(i=u.busy),i}function k(){r.isOnlineStatusError||s(!0)}function d(){r.isOnlineStatusError||s(!1)}function s(t){var i,l,s,a,e,h,o,u,c;for(t?(u=r.usersIndex,c=".recentconversations"):(u=r.searchContactsUsersIndex,c=".searchresultcontacts"),a=n(c+" ul"),i=0;i<u.length;i++)l=g(u[i].userId),s=nt(l),e=a.find("> :nth-child("+(u[i].index+1)+") > :first-child"),h=e.find("div"),o=e.hasClass(f.defaultPhotoClass)?'<div class="'+f.defaultUserPhotoClass+" "+s+'">':'<div class="'+f.userPhotoClass+" "+s+'">',o+="<\/div>",h.length?h.replaceWith(o):e.append(o)}function g(n){for(var t=0;t<r.usersStatus.length;t++)if(r.usersStatus[t].userId==n)return r.usersStatus[t].status;return o.offline}function nt(n){return n==o.online||n==o.onThePhone?u.available:n==o.idle||n==o.away||n==o.outToLunch||n==o.beRightBack?u.idle:n==o.busy?u.busy:(n==o.offline,u.offline)}function tt(){require({js:(i.location.protocol==="https:"?"https://secure":"http://www")+".skypeassets.com/i/scom/js/skype-uri.js"},["window.Skype"],function(t){for(var i=0;i<r.skypeButtons.length;i++)h(r.skypeButtons[i]);n(".integratedskype > div > ul > li:first-child").html('<div id="SkypeButton_Launch"><\/div>');t.ui({element:"SkypeButton_Launch",imageSize:10});n("#SkypeButton_Launch > p > a").html(e.launchText)})}function it(){for(var n=0;n<r.searchContactsSkypeButtons.length;n++)h(r.searchContactsSkypeButtons[n])}function h(t){i.Skype&&(i.Skype.ui({name:"chat",element:t.messageIconId,participants:[t.userId],imageSize:10}),i.Skype.ui({name:"call",element:t.videoIconId,participants:[t.userId],imageSize:10,video:!0}),i.Skype.ui({name:"call",element:t.phoneIconId,participants:[t.userId],imageSize:10}));n("#"+t.messageIconId+" > p > a").html('<div class="skypeicon" title="'+e.chatButtonText+'"><span>SkypeMessage<\/span><\/div>');n("#"+t.videoIconId+" > p > a").html('<div class="skypeicon" title="'+e.videoButtonText+'"><span>SkypeVideo<\/span><\/div>');n("#"+t.phoneIconId+" > p > a").html('<div class="skypeicon" title="'+e.audioButtonText+'"><span>SkypeCall<\/span><\/div>')}function rt(){var n='<div class="skypecontacts">';return n+="<div><h3>"+e.contactsText+"<\/h3><\/div>",n+="<div>",n+='<input type="search">',n+='<button type="button"><span style="display:none">Skype Contact Search<\/span><\/button>',n+="<\/div>",n+='<div class="searchresultcontacts"><\/div>',n+"<\/div>"}function ut(){return'<p class="meloading"><\/p>'}function ft(){return"<p>"+e.emptySearchContactsText+"<\/p>"}function et(n){for(var u,f=n.length>4?!0:!1,i="<ul>",t=0;t<n.length;t++)i+=ot(n[t],f),u={userId:n[t].userId,index:t},r.searchContactsUsersIndex.push(u);return i+"<\/ul>"}function ot(n,t){var i;return i="<li>",i+=c(n.photo),i+=st(n,t),i+=ht(n),i+=ct(n),i+"<\/li>"}function st(n,t){var i;return i=t?'<div class="sb">':"<div>",i+="<h3>"+n.name+"<\/h3>",i+"<\/div>"}function ht(n){var t;return t="<div",n.birthday&&(t+=' class="'+f.birthdayClass+'"'),t+"><\/div>"}function ct(n){var t={},i;return i=l(n.userId,"contact_",t),r.searchContactsSkypeButtons.push(t),i}function lt(){var n,t,i;for(t='<div class="recentconversations">',t+="<h3>"+e.recentText+"<\/h3>",t+="<ul>",n=0;n<r.conversations.length;n++)t+=at(r.conversations[n]),i={userId:r.conversations[n].userId,index:n},r.usersIndex.push(i);return t+="<\/ul>",t+"<\/div>"}function at(n){var t;return t="<li>",t+=c(n.photo),t+=vt(n),t+=yt(n),t+=pt(n),t+"<\/li>"}function c(n){return n?'<div style="background:url('+n+') no-repeat"><\/div>':'<div class="defaultphoto"><\/div>'}function vt(n){var t;return t="<div>",t+="<h3>"+n.name+"<\/h3>",n.message&&(t+="<p>"+n.message+"<\/p>"),t+"<\/div>"}function yt(n){var t;return t="<div>",t+="<div><\/div>",t+="<div>",n.missed&&(t+="<div><\/div>"),t+="<\/div>",t+"<\/div>"}function pt(n){var t={},i;return i=l(n.userId,"",t),r.skypeButtons.push(t),i}function l(n,t,i){var r,u;return u=bt(n),i.userId=n,i.messageIconId="SkypeButton_Message_"+t+u,i.videoIconId="SkypeButton_Video_"+t+u,i.phoneIconId="SkypeButton_Phone_"+t+u,r="<div>",r+='<div id="'+i.messageIconId+'"><\/div>',r+='<div id="'+i.videoIconId+'"><\/div>',r+='<div id="'+i.phoneIconId+'"><\/div>',r+"<\/div>"}function wt(){var n='<div class="skypeerror">';return n+="<div><h3>"+e.contactsText+"<\/h3><\/div>",n+='<p class="meerror">'+e.errorMessage+"<\/p>",n+"<div>"}function bt(n){var r,t,u="",i;if(t=n.split(":"),t.length)r=t[t.length-1];else return n;for(t=r.split("."),i=0;i<t.length;i++)u+=t[i];return u}var e=t.tile.integratedskype[1],r=null,f=null,o={online:"Online",onThePhone:"OnThePhone",idle:"Idle",away:"Away",busy:"Busy",outToLunch:"OutToLunch",beRightBack:"BeRightBack",offline:"Offline"},u={available:"availablestatus",idle:"idlestatus",busy:"busystatus",offline:"offlinestatus"};return{init:a,getContactsMarkup:rt,getFetchingContactsMarkup:ut,getSearchContactsMarkup:et,getSearchContactsEmptyMarkup:ft,renderConversationSkypeIcons:tt,renderSearchContactsSkypeIcons:it,renderConversationOnlineStatus:k,renderSearchContactsOnlineStatus:d,getRecentConversationsMarkup:lt,getErrorMarkup:wt,renderConversationContacts:v}});define("skypeUtility",["logging","window"],function(n,t){function r(n){var r,u,f;u="wlssc_frame";r=t.document.createElement("IFRAME");r.id=u;r.style.width="1px";r.style.height="1px";r.style.position="absolute";r.style.visibility="hidden";r.style.left="0px";r.style.bottom="0px";r.src="https://login.live.com";i("Skype is refreshing login.live cookies");t.document.body.appendChild(r);f=function(){var i=t.document.getElementById(u);i&&t.document.body.removeChild(i);typeof n=="function"&&n()};r.addEventListener?r.addEventListener("load",f,!0):r.attachEvent("onload",f)}function u(){}function f(){}function e(){}function o(){}function s(t){n.error(t)}function i(){}return{updateLiveCookies:r,printSortedConversations:u,printRecentConversations:f,printOnlineStatus:e,printContacts:o,logError:s,logMessage:i}});define("meModule",["jquery","meModule.Tokens","headData","window","logging","perfPing","mediator","elementTrackingDecorator","location"],function(n,t,i,r,u,f,e,o,s){function y(n,t,i,r,u,f){var e=n.find(f.tasks[i]),o=e.find("span");r?(e.addClass(a),o.text((t.notifications||v).replace("{0}",u))):(e.removeClass(a),o.empty())}function w(n,t,i,r,u){n.find(u.notification).text(i?(t.notifications||v).replace("{0}",r):t.notificationEmpty||"")}function b(n,t,i,u){var f=(l.width-t)/2,e=(l.height-i-100)/2,o="status=0,toolbar=0,location=0,resizable=1,scrollbars=1,left="+f+",top="+e+",width="+t+",height="+i;u.preventDefault();r.open(n,"Login",o)}function k(t,i){if(i&&i.taskLinks&&i.taskLinks.trim()){var r=i.taskLinks.split(";");r.length&&(t.push("<ul>"),n.each(r,function(n,i){var r=i.split("|"),u;r[0]&&r[1]&&(u=r[0],t.push("<li><a target='_blank' data-piitxt='",u,"' href='",r[1],"'>",u,"<span><\/span><\/a><\/li>"))}),t.push("<\/ul>"))}}var l=r.screen,h="click",a="notifications",c=".popUpWindow",v="({0})",p="{0}+";return{info:{locale:n("html").attr("lang"),origin:s.protocol+"//"+s.host,httpsOrigin:"https://"+s.host},logAjaxError:function(n,t,i){n!="abort"&&(f.setMarker('[meModule] service error: "'+t+'" call failed with status of "'+n+'", '+i),f.getPayLoad(u.error))},updateFlyout:function(r,u,f,e,s,l){var v="",y=typeof e!="undefined"?e:i.signedin,tt=t.tile[u][y?1:0],a={},w,p,b,d;n.extend(!0,a,tt,f);v=["<section>"];a.headerUrl&&(w="<a href='"+a.headerUrl+"' target='_blank'><h3>"+a.header+"<\/h3><\/a>",p=o.setTrackingAttrs(n(w),r.find(this.selector.flyout),{defaults:{n:u+".flyout"},selector:"a"}),v.push(w));v.push("<div>");a.showProgress?v.push("<p class='meloading'>",a.content||"","<\/p>"):a.showError?v.push("<p class='meerror'>",a.errorMessage||"","<\/p>"):a.showNoContent?v.push("<p class='meerror'>",a.noContent||"","<\/p>"):y?v.push(a.content.length?a.content:"<p class='meerror'>"+a.noContent+"<\/p>"):(a.signedOutImageUrl&&v.push("<img src='",a.signedOutImageUrl,"' />"),v.push("<p>",a.content.length?a.content:a.ErrorMessage,"<\/p>"));v.push("<\/div>");!y&&a.footerText&&v.push("<a href='",a.footerUrl,"' class='mefoot'>",a.footerText,"<\/a>");v.push("<\/section>");k(v,a);var g=r.find(this.selector.flyout),it=o.setTrackingAttrs(n(v.join("")),g,{defaults:{n:u+".flyout"}}),nt=g.html(it);if(p&&p.length&&n("section > a",r).replaceWith(p),b=this.classNames.signout,d=this.classNames.signin,y){if(r.find(this.selector.flyoutFooter).off(c),typeof s=="string"&&(s=r.find(s)),s&&s.length&&l&&n.isFunction(l))s.off(h).on(h,l);n(nt).removeClass(b).addClass(d)}else n(nt).removeClass(d).addClass(b)},attachSignInPopupWindow:function(n,t,i,r){n.find(this.selector.flyoutFooter).off(c).on(h+c,b.bind(null,t,i,r))},selector:{flyout:".meflyout",flyouts:".meflyouts",notification:">a>h3>span",flyoutHeader:".meflyout>section>h3",flyoutFooter:".meflyout>section>.mefoot",contentDiv:".meflyout>section>div",contentItem:".meflyout>section>div p",contentList:".meflyout>section>div ul",taskLinks:".meflyout>ul>li>a",tasks:[".meflyout>ul>li>a:eq(0)",".meflyout>ul>li>a:eq(1)",".meflyout>ul>li>a:eq(2)",".meflyout>ul>li>a:eq(3)"]},classNames:{signout:"signout",signin:"signin"},updateNotifications:function(t,i,r,u,f){var s=t.closest(".stripeouter").find(".mestripe "+i),o=this.selector,e=f.count;f.maxNotifications&&e>f.maxNotifications&&(e=(u.notificationsTooMany||p).replace("{0}",f.maxNotifications));f.updateInTile&&w(s,u,f.displayNotification,e,o);f.updateInTask&&(n.isNumeric(r)?y(t,u,r,f.displayNotification,e,o):n(r).each(function(n,i){y(t,u,i.index,i.displayNotification,i.count,o)}))},ssoAutoRefresh:function(){var i=this,r=n(i.selector.flyouts);n.each(t.tile,function(n,u){var f,o,s,e;u[0].ssoAutoRefresh&&(f=r.children("."+n),o=f.find(i.selector.flyout).hasClass(i.classNames.signout),f.length&&o&&(s=t.tile[n][1],e=f.find("[data-module-id]"),e.html(s.content),i.updateFlyout(f,n,{content:e.length?e[0].outerHTML:" "},!0,null,null)))})},deferredFlyoutOnHover:function(n,t,i){var r=n.data("deferred");r?e.sub(t,i):i()},getMeModuleId:function(t){var i=n(".meflyouts .meflyoutcontainer").index(t);return n(".mestripe ul li").eq(i).attr("data-module-id")}}});define("outlookModel",["jquery","window","location","getCookie","setCookie","promise","headData","outlookInbox.tokens","logging","format"],function(n,t,i,r,u,f,e,o,s){function ht(){return r(h.canaryCookieName)}function it(){return e.dg&&e.dg.indexOf(h.pcDgIdent)!==-1}function ct(){y||(y=wt());var n=r(h.userMigratedCookieName);return n&&n===y}function lt(n){return b=!n,l||(l=setTimeout(at,h.timeoutInMs)),c||(c=new f(ut)),c}function at(){var n=c;p();n&&n.cancel();w("[outlookModel.js] outlook preview API request timeout")}function w(n){s.error(n)}function rt(){n.ajax({type:"GET",url:b?ot:st,crossDomain:!0,xhrFields:{withCredentials:!0},timeout:h.timeoutForOutlookExchangeCallInMs,cache:!1,success:function(n){var t=a;p();t(n)},error:function(n,t){var i=v;p();i({ajaxError:t});w("[outlookModel.js] outlook exchange rest API call error textStatus: "+t+"\r\n")}})}function ut(i,r){if(a&&v||(a=i,v=r),g&&ct())rt();else{var u=vt();t[k]=yt;n.ajax({type:"GET",url:u,jsonp:"cb",jsonpCallback:k,contentType:"application/json",dataType:"jsonp"})}}function vt(){var i=it()&&b?h.numOfMsgForPc:h.numOfMsgForMobile,r={num:i,nocache:+new Date,mac:t.decodeURIComponent(ht())};return ft+"?"+n.param(r)}function yt(n){if(!c){p();return}if(n&&n.err&&!d&&n.err.client&&n.err.client.invalidmac)d=!0,ut();else if(g&&n&&n.err&&n.err.user&&n.err.user.exchangemigrated)pt(),rt();else{var t;n&&n.err?(t=v,w("[outlookModel.js] error response from outlook preview mail API \r\n"+JSON.stringify(n.err))):t=a;p();t(n)}}function pt(){y&&u(h.userMigratedCookieName,y,730)}function wt(){var n=r("ANON"),t,i;return n&&(t=n.indexOf("="),i=n.indexOf("&"),t!==-1&&i!==-1)?n.substring(t+1,i):(w("[outlookModel.js] error getting ANID value, returning empty value"),"")}function p(){t[k]=null;a=null;v=null;c=null;l&&(clearTimeout(l),l=0)}var h={timeoutInMs:15e3,timeoutForOutlookExchangeCallInMs:1e4,canaryCookieName:"WLMMAC",numOfMsgForPc:3,numOfMsgForMobile:0,pcDgIdent:".pc",globalFnName:"setOutlookData",userMigratedCookieName:"UMH2E"},c,ft=o.outlookPreviewApiUrl,l,d=!1,a,v,y,b,g=e.exchangeenabled,k=h.globalFnName+Math.floor(Math.random()*1e4+1)+ +new Date,nt=e.clientSettings.vk,et=nt==="spartan"?"{0}/{2}/{1}":"{0}/{1}/{2}",tt="https://"+et.format(i.host,e.locale,nt)+"/OutlookMail/",ot=tt+"GetEmails",st=tt+"GetUnreadMessageCount";return{isPcDeviceGroup:it,getOutlookData:lt}});define("meModule.Tokens",{tile:{mail:[{header:"Outlook.com",content:" Microsoft OutlookHotmailMSN Live",footerText:"",footerUrl:"[[signin]]",taskLinks:""},{header:"",headerUrl:"https://mail.live.com/default.aspx",content:"...",noContent:"",tileTitle:"Outlook.com",refreshPageErrorMessage:" Outlook.com",viewInboxErrorMessage:"",taskLinks:"|https://mail.live.com/default.aspx?rru=compose;|https://calendar.live.com/calendar/calendar.aspx",piiText:"Read Outlook Email",piiUrl:"http://www.hotmail.msn.com/pii/ReadOutlookEmail/"}],office:[{header:"",content:" Office Online ",footerText:"",footerUrl:"[[signin]]",ssoAutoRefresh:!0,taskLinks:"Word Online|https://office.live.com/start/Word.aspx?WT.mc_id=MSN_site;Excel Online|https://office.live.com/start/Excel.aspx?WT.mc_id=MSN_site;Sway|https://www.sway.com/?WT.mc_id=MSN_site&utm_source=MSN&utm_medium=Topnav&utm_campaign=link;PowerPoint Online|https://office.live.com/start/PowerPoint.aspx?WT.mc_id=MSN_site"},{header:"",headerUrl:"https://onedrive.live.com/#qt=mru",content:"...",noContent:"",errorMessage:" Office Online",errorFooterText:" Office Online",taskLinks:"Word Online|https://office.live.com/start/Word.aspx?WT.mc_id=MSN_site;Excel Online|https://office.live.com/start/Excel.aspx?WT.mc_id=MSN_site;Sway|https://www.sway.com/?WT.mc_id=MSN_site&utm_source=MSN&utm_medium=Topnav&utm_campaign=link;PowerPoint Online|https://office.live.com/start/PowerPoint.aspx?WT.mc_id=MSN_site"}],onenote:[{header:"OneNote",content:" Microsoft ",footerText:"",footerUrl:"[[signin]]",ssoAutoRefresh:!0,taskLinks:"|https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_QuickNote&auth=1"},{header:"",headerUrl:"https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_Recent&auth=1",content:"...",noContent:"",errorMessage:" OneNote Online",errorFooterText:" OneNote Online",taskLinks:"|https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_QuickNote&auth=1"}],onedrive:[{header:"OneDrive",content:" Microsoft  OneDrive ",footerText:"",footerUrl:"[[signin]]",ssoAutoRefresh:!0,taskLinks:"|https://onedrive.live.com;|https://onedrive.live.com/?qt=allmyphotos;|https://onedrive.live.com/?qt=mru; OneDrive |https://onedrive.live.com/about/en/download/"},{header:"OneDrive",headerUrl:"https://onedrive.live.com?wt.mc_id=oo_msn_msnhomepage_header",content:"...",errorMessage:" OneDrive",errorFooterText:" OneDrive",taskLinks:"|https://onedrive.live.com;|https://onedrive.live.com/?qt=mru;|https://onedrive.live.com; OneDrive |https://onedrive.live.com/about/en/download/"}],finance:[{header:"",content:"",footerText:"",footerUrl:"",taskLinks:""},{header:"",headerUrl:"",content:"",errorMessage:"",taskLinks:""}],sports:[{header:" - ",content:"",footerText:"",footerUrl:"/en-us/sports",taskLinks:""},{header:" - ",headerUrl:"/en-us/sports",content:"",errorMessage:"",taskLinks:""}],maps:[{header:"",headerUrl:"",content:"",footerText:"",footerUrl:"",taskLinks:"me_maps_directions|http://cn.bing.com/ditu/default.aspx?v=2&rtp=~;me_maps_traffic|http://cn.bing.com/ditu/"},{header:"",headerUrl:"",content:"",errorMessage:"",taskLinks:"me_maps_directions|http://cn.bing.com/ditu/default.aspx?v=2&rtp=~;me_maps_traffic|http://cn.bing.com/ditu/"}],skype:[{header:"Skype ",headerUrl:"",content:" Skype ",footerText:" Skype.com",footerUrl:"http://www.skype.com/zh-Hans",taskLinks:"me_skype_download|http://www.skype.com/zh-Hans/download-skype"},{header:"",headerUrl:"",content:"",errorMessage:"",taskLinks:""}],integratedskype:[{},{searchContactsText:"",emptySearchContactsText:"",nameText:"",contactsText:"",recentText:"",launchText:" Skype",errorMessage:" Skype",chatButtonText:"",audioButtonText:"",videoButtonText:"",taskLinks:" Skype|skype:; Skype|http://www.skype.com/go/onedrivepromo.download?cm_mmc=MSFT_2390_MSN-com",chatServiceUrl:"https://client-s.gateway.messenger.live.com",linkSkypeIdUrl:"https://login.skype.com/login/oauth/microsoft?client_id=738133",headerText:" MSN  Skype",linkAccountContentList:"||",linkAccountText:"",linkAccountDisclaimerText:" MSN  Skype  Skype  Microsoft ",continueButtonText:"",learnMoreText:"",learnMoreUrl:"https://support.skype.com",callMessageText:"",fileMessageText:"",videoMessageText:"",contactMessageText:""}],facebookLite:[{},{likeUrl:"http://www.facebook.com/msn"}],twitter:[{header:"Twitter",content:" Twitter ",footerText:"",footerUrl:"https://twitter.com",requestTimeout:"10000",taskLinks:""},{header:"",headerUrl:"https://twitter.com",content:"",noContent:"",errorMessage:" Twitter",errorFooterText:" Twitter",taskLinks:"|https://twitter.com/i/notifications;|#;|#"}],xbox:[{header:"",content:"",footerText:"",footerUrl:"",taskLinks:"me_groove_taskLinks_store|https://www.microsoft.com/store/media/redirect/music?view=hub;me_groove_taskLinks_play|http://aka.ms/Ixhi8e;me_groove_taskLinks_try|http://aka.ms/msvmj1"},{header:"",headerUrl:"http://aka.ms/qeqf5y",content:"",errorMessage:"",taskLinks:"me_groove_taskLinks_store|https://www.microsoft.com/store/media/redirect/music?view=hub;me_groove_taskLinks_play|http://aka.ms/Ixhi8e;me_groove_taskLinks_try|http://aka.ms/msvmj1"}],bingrewards:[{header:"",content:" MSN ",footerText:"",footerUrl:"[[signin]]",signedOutImageUrl:"/homepage/images/me_bingrewards_signed_out.jpg",appendAddMoreTask:!0,showProgress:!0},{errorMessage:"",taskLinks:"|https://www.bing.com/rewards/redeem/all;|https://www.bing.com/rewards/faq;|https://account.microsoft.com/rewards/redeem/all;|https://go.microsoft.com/fwlink/p/?LinkID=823400",appendAddMoreTask:!0,signInText:"",joinNowText:"",joinNowUrl:"http://www.bing.com/explore/rewards-msn?FORM=MA12LM&PUBL=BINGCOMBEX&CREA=MA12LM&Programname=REWARDS-MSN",hdrText:"",hdrMsText:"Microsoft ",hdrDesc:" MSN",subhdrtext:"",rewardsApiUrl:"https://www.bing.com/msrewards/api/v1/getuserinfo",rewardsPartnerID:"79E3A169-6A98-49E1-ADB9-ED64666CC743",rewardsChannel:"Msn",offerLayoutType:"MissionTaskLayout",maxOfferCount:4,emptyOfferMsg:"",maxNotifications:"9999"}],store:[{header:"Microsoft Store",taskLinks:"me_store_taskLinks_surface|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MESurf&url=https://www.microsoftstore.com/store/msusa/en_US/cat/All-Surface/categoryID.69403400?icid=MSN_surface;me_store_taskLinks_windows|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MEWin10&url=https://www.microsoftstore.com/store/msusa/en_US/cat/Windows/categoryID.70036700?icid=MSN_Win10;me_store_taskLinks_support|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MEstoreSupport&url=https://www.microsoftstore.com/help"},{header:"Microsoft ",headerUrl:"http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MEstoreH&url=https://www.microsoftstore.com?icid=MSN_storeHL",taskLinks:"me_store_taskLinks_surface|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MESurf&url=https://www.microsoftstore.com/store/msusa/en_US/cat/All-Surface/categoryID.69403400?icid=MSN_surface;me_store_taskLinks_windows|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MEWin10&url=https://www.microsoftstore.com/store/msusa/en_US/cat/Windows/categoryID.70036700?icid=MSN_Win10;me_store_taskLinks_support|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MEstoreSupport&url=https://www.microsoftstore.com/help"}],amazon:[{header:""},{header:"",headerUrl:"http://redirect.viglink.com?key=29045bc04c786d46d362906f803b13a2&u=http://amazon.com"}],ebay:[{header:" eBay "},{header:" eBay ",headerUrl:"http://redirect.viglink.com/?key=29045bc04c786d46d362906f803b13a2&u=http://ebay.com"}],bookingdotcom:[{header:"Booking.com"},{header:"Booking.com",headerUrl:"//www.booking.com"}]}});define("outlookInbox.tokens",{outlookPreviewApiUrl:"https://hotmailproxy.msn.com/pm/v1.0/getheaders.aspx",outlookPreviewApiUrlBetaplace:"https://hotmailproxy.betaplace.com/pm/v1.0/getheaders.aspx"});define("pagingSection",["jquery","jqBehavior","modernizr","pagingAnimator","device","pointerEvents","touchGestures","touchDataManager","requestAnimationFrame","format","imgSrc","paging.tokens","dir.tokens","viewAware","mediator","window","perfMarker","navigator","document","c.deferred"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){function lt(t,i){function nr(){et=n("<button class='leftarrow'><\/button>");ot=n("<button class='rightarrow'><\/button>");vt.prepend(et).append(ot)}function tr(n){i.contentSelector=n||i.contentSelector;f=vt.find(i.contentSelector);at=r(f);g&&at.setup();rr();i.rememberLastKnownIndex&&(ti=vt.data("pagesection-name"))}function ir(){v>1&&ur();g&&at.teardown();y.unsub(ut,er)}function lr(){c.loadInViewport&&s(function(){f.attr(c.dataOffsetAttr,Math.round(-u*w*d)+";0");c.loadInViewport(vt[0])})}function ar(){ct.removeClass(di)}function vr(){ct.addClass(di)}function rr(){s(yr)}function yr(){var e,o,r,s,h,t,c;for(ar(),e=yi,o=f.length,r=0;r<o;r++)if(ct.children().length&&(br(),et.removeClass(pt),ot.removeClass(pt),gt(f,0)),b=bi=yt=ki=nt=v=u=0,i.rememberLastKnownIndex&&ti&&(u=n("head").data(gi+ti)||u),bt=kt=wt=!1,wi=ct.offset().left,s=e[0].clientWidth||e.outerWidth(!1),w=s+i.columnGap+i.scrollOffset,w){if(v=Math.ceil(f[r].scrollWidth/w),y.sub(ut,er),v>1){for(g&&at.initialize(v,w,i.columnGap,u),kr(),fi||pr(),lt=[],h=w/2,t=0;t<v;t++)lt[t]=w*t+h-1;ui=f[0].scrollWidth;si(0);g||u==0||(c=sr(-1,u)*d,gt(f,c));or()}else fi&&ur();v<=1&&vr()}}function pr(){wr(f);et.on("click",hi);ot.on("click",hi);y.sub(ft,fr);fi=!0}function ur(){vt.off("gesture");et.off("click",hi);ot.off("click",hi);y.unsub(ft,fr);fi=!1}function fr(n){f[0]===n.elem&&(g&&(u+=n.direction*-1,si()),ai())}function er(n){f[0]===n&&(ir(),tr())}function wr(n){if(e.settings.touchSupported&&!g&&n.data("gesture")!==!0){n.on("gesture",{direction:"horizontal"},gr);n.data("gesture",!0)}}function or(){v>1&&(kt?ot.addClass(pt):ot.removeClass(pt),bt?et.addClass(pt):et.removeClass(pt),i.extendedArrows&&(kt||bt)&&et.add(ot).text(h(l.pagingArrowText,u+1,v)))}function ii(t,r){ni||s(function(){ni=!0;r=r||1;var e=sr(t,r)*d;u+=t*r*-1;i.rememberLastKnownIndex&&ti&&n("head").data(gi+ti,u);g?(at.incrementViewPort(t,tt,rt,r),si()):(at.animationStarting(f),gt(f,e,tt,rt,r));p.setTimeout(ai,i.autoHideArrowMS)})}function ai(){s(function(){g||at.animationCompleted(f);wt=ni=!1;dr();or();lr();y.pub(ht,oi)})}function si(n){g?(bt=at.allowScrollLeft(),kt=at.allowScrollRight()):(bi=b,ki=yt,b=n*d,yt=ui+b,yt<0&&(yt=0),bt=b<0,kt=yt>w)}function br(){ct.each(function(){n(this).off("click",cr)});ct.empty()}function kr(){for(var t,i=0;i<v;i++){t=k.createElement("span");i==u&&(t.className="selected");n(t).on("click",cr);ct[0].appendChild(t)}ci=ct.children();ri=ci.eq(u)}function dr(){ri&&ri.removeClass("selected");ri=n(ci[u]).addClass("selected")}function sr(n,t){var r=t||1,u,f;return n==1?b<wi&&(nt=b,ei!=0&&(nt+=ei,ei=0,r--),r>0&&(nt+=(w+dt)*r),nt>0&&(nt=0)):n==-1&&b<yt&&(nt=b-(w+dt)*r,b==0&&(nt+=dt),nt>yt&&(nt=yt),u=ui+nt+i.columnGap,!i.alwaysScrollCompletePage&&u<yt&&u<w&&(f=r>1?b-(w+dt)*(r-1):b,nt=f-u,ei=u)),nt}function hr(t){t&&!i.autoHideArrow?n(t).removeClass(pt):(et.removeClass(pt),ot.removeClass(pt))}function cr(){var t=n(this).index(),i=u>t?1:-1,r=Math.abs(u-t);u!==t&&ii(i,r)}function hi(n){oi="click";typeof n.originalEvent!="undefined"&&n.originalEvent&&n.originalEvent.pointerType==="touch"&&(oi="tap");n.target==ot[0]?u+1<v?ii(-1):hr(n.target):u>0?ii(1):hr(n.target);n.preventDefault()}function gt(n,t,i){if(t==undefined){var r=n.css("transform").split(","),u=4;r.length>6&&(u=12);t=parseFloat(r[u]);t=isNaN(t)?0:t}else si(t),i||(i=0),at.animate(t,i,rt,it);return t}function vi(n){s(function(){var t=0,o=Math.abs(b),s,r,h;if(ni=!0,b>=0)t=0,u=0;else if(!i.alwaysScrollCompletePage&&lt[lt.length-1]<Math.abs(b))t=-lt[lt.length-1]*d,u=v-1;else if(o>w*(v-1))u=v-1,t=-w*u*d;else{if(n)s=!0,(a.ltr&&n==e.types.swipeRight||!a.ltr&&n==e.types.swipeLeft)&&(s=!1),s?u<v&&(u=u+1):u>0&&(u=u-1);else for(r=0;r<v;r++)if(o<=lt[r]){u=r;break}else if(o<w*(r+1)){u=r+1;break}t=-(w+dt)*u*d;u==1&&(t+=dt);i.alwaysScrollCompletePage||(h=ui-w+i.columnGap,Math.abs(t)>h&&(t=-h*d),v-1==u&&lt[lt.length-1]!=t&&(lt.pop(),lt.push(Math.abs(t))))}at.animationStarting(f);gt(f,t,tt);p.setTimeout(ai,i.autoHideArrowMS)})}function gr(t){if(t.direction){oi="swipe";switch(t.current.touchType){case e.types.move:st&&!ni&&s(function(){wt?li.input(t.current.coord.x):(li.reset(t.current.coord.x),pi=gt(f),wt=!0);gt(f,pi+li.getDelta()|0)});break;case e.types.swipeUp:case e.types.swipeDown:case e.types.throwUp:case e.types.throwDown:case e.types.cancel:case e.types.stop:vi();break;case e.types.swipeRight:case e.types.throwRight:wt?vi(e.types.swipeRight):bt&&ii(1);break;case e.types.swipeLeft:case e.types.throwLeft:wt?vi(e.types.swipeLeft):kt&&ii(-1);break;case e.types.tap:var i=t.originalEvent.originalEvent,r=i.target,u=k.createEvent("MouseEvent");u.initMouseEvent("click",!1,!1,p,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,null);r.tagName!=="A"&&(r=n(r).parentsUntil("LI","A")[0]);r&&r.dispatchEvent(u)}}}var vt=t,f,et,ot,yi=i.useViewPortForWidthContainer?vt:vt.find(i.widthContainerSelector),ct=vt.find("."+i.pagingClass);ct.length?(et=vt.find(".leftarrow"),ot=vt.find(".rightarrow"),et.length||nr()):(ct=n("<div class='"+i.pagingClass+"'><\/div>"),yi.append(ct),nr());var ci,ri,li=new o,wt=!1,ni=!1,pi,wi,b,ui,bi,yt,ki,lt,pt="show",di="collapse-margin",nt,v,u,bt,kt,w,fi=!1,ei=0,at,ti,gi="pagingsection",dt=1,oi="";return{setup:tr,teardown:ir,update:rr}}var d,ct,ot;d=a.ltr?1:-1;var tt="400ms",it,nt="left",rt="cubicBezierQuint",ut="PagingContentUpdated",st=u.isCapable("ShowMoveTouchGestures"),ft="snapCompleted",g=b.msManipulationViewsEnabled,et=!1,ht="ViewabilityUpdatedEvent";return i.csstransforms3d&&u.isCapable("AllowTransform3d")?(nt="translate3d",it=nt+"({0}px, 0px, 0px)",et=!0):i.csstransforms&&u.isCapable("AllowTransform2d")&&(nt="translateX",it=nt+"({0}px)",et=!0),ct=n(p),ot={autoHideArrow:!1,autoHideArrowMS:250,alwaysScrollCompletePage:!1,contentSelector:".sectioncontent",columnGap:23,extendedArrows:!0,pagingClass:"paging",rememberLastKnownIndex:!1,scrollOffset:0,useViewPortForWidthContainer:!1,widthContainerSelector:".full-width"},t(lt,ot)});define("renderSectionAd",["jquery","jqBehavior","adLoad","c.dom"],function(n,t,i){function r(n,t){return{setup:function(){i.loadSectionAd(n[0],t.adItemSelector)}}}return t(r,{adItemSelector:".showcasead"})});define("autoRefresh",["jquery","jqBehavior","window","headData","visibility"],function(n,t,i,r,u){function f(t,f){function a(){e&&(clearTimeout(c),c=i.setTimeout(w,f.timeout))}function p(){o&&(o=!1,e&&a(),setTimeout(function(){o=!0},6e4))}function w(){y?i.location=v(i.location.href,l):u.notifyWhenPageVisible().then(function(){i.location=v(i.location.href,l)})}function v(n,t){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),f=n.indexOf("?")!==-1?"&":"?",r,u;return n.match(i)?(r=n.match(i)[0].substring(4,5),u=parseInt(r)+1,n.replace(i,"$1"+t+"="+u+"$2")):n+f+t+"=1"}var s={},h=!1;r&&r.clientSettings&&r.clientSettings.autorefreshsettings&&(s={isEnabled:r.clientSettings.autorefreshsettings.is_market_enabled,timeout:r.clientSettings.autorefreshsettings.timeout,idle:r.clientSettings.autorefreshsettings.idle_enabled,idleTimeout:r.clientSettings.autorefreshsettings.idle_timeout},h=r.clientSettings.autorefresh);var c,o=!0,y=!0,e,l="AR";return{setup:function(){if(f=n.extend(!0,{},f,s),n.isNumeric(f.timeout)&&(e=n.isNumeric(f.timeout)),h&&f.isEnabled&&(e&&(f.timeout=f.timeout*6e4),a(),f.idle))n(document).on(f.monitorEvents,p)}}}return t(f,{isEnabled:!1,timeout:1,idle:!0,idleTimeout:1,monitorEvents:"mousemove keypress"})});define("modal",["jquery","modal.tokens"],function(n,t){function s(){var n=document.createElement("div");return n.setAttribute("id",r),n.setAttribute("title",t.closeButtonTitle),n}function h(n){var t=document.createElement("section");return t.setAttribute("class",o),t.setAttribute("role","dialog"),t.setAttribute("aria-labelledby","dialog-title"),t.setAttribute("aria-describedby","dialog-desc"),n&&t.setAttribute("id",n),t}function a(n){var i=document.createElement("button");return i.setAttribute("class","close"),i.setAttribute("title",t.closeButtonTitle),i.click(function(){f.close(n)}),i}var r="mask",o="modal",c="error",i,u,e=220,l="<h1>"+t.errorMessageTitle+"<\/h1><p>"+t.errorMessageLabel+"<\/p>",f={open:function(t,v,y,p){var w,b;i=i||n("body");u||(i.append(s()),u=n("#"+r),u.click(function(){f.close(y)}));w=n("#"+y);w.length==0&&(b=h(),i.append(b),n("."+o+":not([id])").attr("id",y),w.load(v,function(t,i,r){i==="error"?(w.append(l).addClass(c),n("p",this).append(r.status+" "+r.statusText)):typeof p=="function"&&p(y);w.append(a(y))}));i.addClass(r);n("#"+r+", #"+y).fadeIn(e);n(".webkit > #"+y).show()},close:function(t){i=i||n("body");n("#"+r+", #"+t).fadeOut(e).hide();i.removeClass(r)},openModalWithContent:function(t,o,c,l,a){var p,v,y;i=i||n("body");u||(i.append(s()),u=n("#"+r),u.click(function(){l&&typeof l=="function"?l():f.close(o)}));p=n("#"+o);p.length==0&&(v=h(o),c&&(y=n("#"+c),y&&y.appendTo(v)),i.append(v));i.addClass(r);n("#"+r+", #"+o).fadeIn(e,function(){a&&n(this).focus()});n(".webkit > #"+o).show()}};return f});define("stripeMenuManager",["jqBehavior","jquery","window","headData","stripeMenuData","stripeMenuModal","mediator"],function(n,t,i,r,u,f,e){function h(n,h){function it(){var n=t(this).closest(h.sectionsContainerElements),r=n.find(".stripenav").eq(0).find("li:first-child"),u=r.text(),i=a.getSectionInfo(n).sectionId,e=h.sectionRemovedText.replace("%s",u);n.append('<span data-undo-id="'+i+'">'+e+'<\/span><button class="undo" data-undo-id="'+i+'"> '+h.sectionUndoText+'<\/button><button class="close" data-undo-id="'+i+'"/> ');t('button.undo[data-undo-id="'+i+'"]').on("click",function(t){t.preventDefault();b(n,i)});t('button.close[data-undo-id="'+i+'"]').on("click",function(t){t.preventDefault();n.remove()});w();n.addClass("hide").removeClass("expanded");p(n);f.removeSection(i);a.removeSection(n,function(){},function(){b(n,i)})}function w(){t(h.hiddenStripes).remove()}function b(n,i){t('[data-undo-id="'+i+'"]').remove();n.removeClass("hide").addClass("expanded");d();p(n);f.addSection(i)}function rt(){k.call(this,!0)}function ut(){k.call(this,!1)}function k(n){var e,o;w();var s=!1,r=t(this).closest(h.sectionsContainerElements),f=t(h.sectionsContainerElements),u=r.prevAll(h.sectionsContainerElements).length;n&&u>0&&(e=f.eq(u-1),u===1&&(r.find(h.personalizationContextMenu).addClass(h.firstContextMenu),e.find(h.personalizationContextMenu).removeClass(h.firstContextMenu)),u===f.length-1&&(r.find(h.personalizationContextMenu).removeClass(h.lastContextMenu),e.find(h.personalizationContextMenu).addClass(h.lastContextMenu)),t(i).scrollTop(t(i).scrollTop()-r.offset().top+e.offset().top),e.before(r),s=!0);!n&&u<f.length-1&&(o=f.eq(u+1),u===0&&(r.find(h.personalizationContextMenu).removeClass(h.firstContextMenu),o.find(h.personalizationContextMenu).addClass(h.firstContextMenu)),u===f.length-2&&(r.find(h.personalizationContextMenu).addClass(h.lastContextMenu),o.find(h.personalizationContextMenu).removeClass(h.lastContextMenu)),t(i).scrollTop(t(i).scrollTop()+o.offset().top-r.offset().top),o.after(r),s=!0);s&&d();l=!1}function d(){clearTimeout(c);c=setTimeout(g,h.reorderTimeout)}function g(){clearTimeout(c);c=null;var n=t(h.sectionsContainerElements);a.showSectionsInOrder(n)}function ft(){var n=t(this).closest(h.sectionsContainerElements);f.open(n)}function y(){t(h.expandedPersonalizationContextMenu).data(h.contextMenuExpanded,!1).removeClass(h.expandedMenuClass);v=!1}function et(n){y();n.data(h.contextMenuExpanded,!0).addClass(h.expandedMenuClass);v=!0}function ot(){o=t(this);r.clientSettings.lazyload.enabled&&!s?e.pub("startLazyLoad",""):nt()}function nt(){var n=o.closest(h.personalizationContextMenu);n.data(h.contextMenuExpanded)?y():et(n);l=!1;o=null}function st(){v&&l&&y();l=!0}function p(){var i=t(h.sectionsElements),n;t(h.personalizationContextMenu).removeClass(h.firstContextMenu+" "+h.lastContextMenu+" "+h.onlyContextMenu);i.first().find(h.personalizationContextMenu).addClass(h.firstContextMenu);i.last().find(h.personalizationContextMenu).addClass(h.lastContextMenu);n=t(h.sectionsContainerElements).not(".hide");n.length===1&&n.find(h.personalizationContextMenu).addClass(h.onlyContextMenu)}function tt(){var n="click";p();t(h.personalizationContextMenuExpander).off(n);t(h.removeSectionButtonClass).off(n);t(h.moveSectionUpButtonClass).off(n);t(h.moveSectionDownButtonClass).off(n);t(h.addBelowButtonClass).off(n);t(h.personalizationContextMenuExpander).on(n,ot);t(h.removeSectionButtonClass).on(n,it);t(h.moveSectionUpButtonClass).on(n,rt);t(h.moveSectionDownButtonClass).on(n,ut);t(h.addBelowButtonClass).on(n,ft);t(i).unload(function(){typeof c=="number"&&(clearTimeout(c),g())})}var a=new u,l=!0,v=!1,c=null;t(h.headerPersonalizationButton).on("click",function(){f.open()});return r.clientSettings.lazyload.enabled&&!s&&require([h.lazyLoadCanary],function(){s=!0;tt();o&&(nt(),l=!0)}),{setup:function(){t("body").on("click.hideContextMenu",st);tt()},teardown:function(){}}}var o,s=!1;return n(h,{addBelowButtonClass:".stripemenu .add",contextMenuExpanded:"menuExpanded",expandedMenuClass:"expanded",expandedPersonalizationContextMenu:".stripemenu.expanded",firstContextMenu:"first",lastContextMenu:"last",onlyContextMenu:"only",moveSectionDownButtonClass:".stripemenu .down",moveSectionUpButtonClass:".stripemenu .up",personalizationContextMenu:".stripemenu",personalizationContextMenuExpander:".stripemenu .edit",removeSectionButtonClass:".stripemenu .remove",sectionRemovedText:"%s ",sectionRemoveTimeout:2500,sectionsContainerElements:"#main > .stripecontainer",sectionsElements:".stripeouter:not(.mestripeouter)",sectionUndoText:"",reorderTimeout:2e3,headerPersonalizationButton:"header ul li button.personalization",hiddenStripes:".stripecontainer.hide",lazyLoadCanary:"c.lazyLoaded"})});define("stripeMenuModal",["jquery","modal","stripeMenuData","imgSrc","track","headData","mediator"],function(n,t,i,r,u,f,e){function tt(){d=new i;s=n("#"+o.modalId);it();s.on("click",o.tileSelector,st);s.on("click",ut,pt);w=s.find(ft).one("click",y).one("click",y);b=s.find(et)}function it(){var i=n(o.sectionSelector),t=s.find(o.tileSelector);ot=t.length;l=0;c=[];t.each(function(t,r){var u=n(r),f,e;g&&!v?u.hasClass(h)||(l++,c.push(u.data(o.dialogSectionIdAttr))):(f=u.data(o.dialogSectionIdAttr),e=i.filter("[data-"+o.pageSectionIdAttr+"='"+f+"']"),!e.length||e.eq(0).hasClass(o.removedSectionClass)?u.addClass(h):(u.removeClass(h),l++,c.push(f)))})}function st(t){var i,r,f;t.preventDefault();i=n(this);i.hasClass(h)?(i.removeClass(h),l++):l>1&&(i.addClass(h),l--);r=!i.hasClass(h);f=i.attr("data-stripe-id");u.trackEvent({type:"click_nonnav",target:this},"","",f+"|add="+r);t.stopPropagation()}function ht(n){rt(n,!1);var t=c.indexOf(n);t>=0&&c.splice(t,1)}function ct(n){rt(n,!0);c.push(n)}function rt(n,t){if(s&&s.length){var i=s.find("button[data-"+o.dialogSectionIdAttr+"='"+n+"']");t?(i.removeClass(h),l++):(i.addClass(h),l--)}}function lt(){n("img",s).each(function(){r.reset(this)})}function at(n){if(p=n,g&&!v)try{define.get(o.lazyLoadCanary);v=!0;k()}catch(t){e.pub("startLazyLoad","");require([o.lazyLoadCanary],function(){v=!0;k()})}else k()}function k(){nt||(nt=!0,tt());lt();t.openModalWithContent(null,o.modalContainerId,o.modalId,!1,!0);s.show();w.off("click",y).one("click",y).removeClass("disabled");b.hide()}function vt(){var u;a=[];var r={},t=[],i=n(o.sectionSelector).map(function(t,i){var u=n(i),f=u.data(o.pageSectionIdAttr);return r[f]=t,{id:f,path:o.pdpPath,shown:!u.hasClass(o.removedSectionClass)}});return s.find(o.tileSelector).each(function(u,f){var c=n(f),e=c.data(o.dialogSectionIdAttr),l=!c.hasClass(h),s=i[r[e]];s?(s.shown=l,s.shown&&a.push(e)):l&&(t.push({id:e,path:o.pdpPath,shown:!0}),a.push(e))}),t.length&&(u=i.length,p&&(u=r[p.data(o.pageSectionIdAttr)]+1),t.unshift(u,0),[].splice.apply(i,t)),i}function yt(){var t,n;if(a.length!==c.length)return!0;for(c.sort(),a.sort(),t=a.length,n=0;n<t;n++)if(a[n]!==c[n])return!0;return!1}function pt(){it();t.close(o.modalContainerId)}function y(n){w.addClass("disabled");var r=vt(),i=yt();i?(b.show(),d.updateSectionInfosInOrder(r,function(){location.reload(!0)})):t.close(o.modalContainerId);u.trackEvent({type:"click_nonnav",target:this},"","","done|dirty="+i);n.stopPropagation()}var o={pageSectionIdAttr:"section-id",dialogSectionIdAttr:"stripe-id",pdpPath:"MSNHomePage/Stripes",modalId:"stripemenuoptions",modalContainerId:"stripemenumodal",removedSectionClass:"hide",sectionSelector:".stripecontainer",tileSelector:"button[data-stripe-id]",lazyLoadCanary:"c.lazyLoaded"},h="pending",ut=".close",ft=".done",et=".loading",ot,l,d,p,w,b,s,c=[],a=[],g=f.clientSettings.lazyload.enabled||f.clientSettings.lazyload.enabled==="true",v=!1,nt=!1;return{initStripeMenuModal:tt,removeSection:ht,addSection:ct,open:at,setConfig:function(t){n.extend(!0,o,t)}}});define("stripeMenuData",["jquery","headData"],function(n,t){function e(n,t){return t.pdpPathTemplate.replace("%sectionId",n)}function f(n,t){var i=n.attr(t.sectionIdAttributeName),r;return u[i]||(r=e(i,t),u[i]={sectionId:i,pdpPath:r}),u[i]}function o(n,t){return f(n,t).sectionId}function s(n,t){return f(n,t).pdpPath}function w(n,t){return{Id:n,State:t?"expanded":"hidden"}}function h(n,t,i){return{operation:"Add",path:t,payload:JSON.stringify(w(n,i))}}function c(n,t,i){var r=[];return r.push(h(n,t,i)),JSON.stringify(r)}function b(t){var i=n.map(t,function(n){return h(n.id,n.path,n.shown)});return JSON.stringify(i)}function l(n,t,i){return c(o(n,i),s(n,i),t)}function a(n,t,i){return c(n,e(n,i),t)}function k(t,i){return n.map(t,function(t){var r=n(t);return{id:o(r,i),path:s(r,i),shown:!0}})}function r(t,i,r){i=i||n.noop;r?t.then(function(n){i(n)},function(n){r(n)}):t.always(function(n){i(n)})}function v(i,r,u,f,e){if(r>=u)f&&f();else{var o=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:b(i[r])}),s=v.bind(null,i,r+1,u,f,e);o.then(s,function(n){e?e(n):f&&f(n)})}}function d(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:l(i,!1,this._config)});r(e,u,f)}function g(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:l(i,!0,this._config)});r(e,u,f)}function nt(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:a(i,!1,this._config)});r(e,u,f)}function tt(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:a(i,!0,this._config)});r(e,u,f)}function it(n,t,i){var r=k(n,this._config);y(r,t,i)}function y(n,t,i){for(var u=[],r=0,f=n.length;r<f;r+=10)u.push(n.slice(r,r+10));v(u,0,u.length,t,i)}function i(t){var i={};n.extend(!0,i,p,t);this._config=i}var p={sectionIdAttributeName:"data-section-id",pdpPathTemplate:"MSNHomePage/Stripes"},u={};return i.prototype.removeSection=d,i.prototype.addSection=g,i.prototype.removeSectionById=nt,i.prototype.addSectionById=tt,i.prototype.showSectionsInOrder=it,i.prototype.updateSectionInfosInOrder=y,i.prototype.getSectionInfo=function(n){return f(n,this._config)},i});define("modal.tokens",{closeButtonTitle:"",errorMessageTitle:"",errorMessageLabel:""});define("paging.tokens",{seeAllLink:"",pagingArrowText:"{0}/{1}"});require(["setCookie","c.deferred"],function(n){var t="timeZoneOffsetInMins";(function(){var i=new Date;n(t,i.getTimezoneOffset(),365,null,"/",null)})()});require(["jquery","headData","perfMarker","requestAnimationFrame","c.deferred"],function(n,t,i,r){function f(){var n=document.createElement("IFRAME");n.id="greenid_frame";n.style.color="rgb(0,0,0)";n.style.float="left";n.style.position="absolute";n.style.top="-100px";n.style.left="-200px";n.style.border="0px";n.style.display="none";n.src="https://fpt.msn.com/tags?session_id="+u;document.body.appendChild(n)}function e(){return(/\ba\:([^;]*)/.exec(document.getElementsByTagName("head")[0].getAttribute("data-info"))||{})[1]||""}if(t.greenidcallenabled){var u=e();u&&r(f)}});define("pageBindings",["binding","c.dom"],function(n){return function(t){n("truncate",".stripecontent h3, .stripecontent h4,.stripecontent p,.meflyout>section p,.smalla h3, .smalla h4,.todaymodule .title,.todaystripe .title,.todayprimemobile h3, .todayprimemobile h4,.popularnowimagewithlinks p,.popularnowimagewithlinks .first .title,.eventsection .title",t).all();n("pagingSection",".oscars > .eventcontent").all({columnGap:0,scrollOffset:10,contentSelector:".scrollcontent",extendedArrows:!1,widthContainerSelector:".scrollcontent",alwaysScrollCompletePage:!0});var i=n.views.SIZE23COLUMN;n("pagingSection",".stripeouter:not(.mestripeouter)",t).view(i,{contentSelector:".stripe .paging-container",scrollOffset:0,alwaysScrollCompletePage:!1,columnGap:15,extendedArrows:!0,useViewPortForWidthContainer:!1,widthContainerSelector:".paging-container"});require(["c.deferred"],function(){var i=20;n("arrowScroll",".stripeouter.mestripeouter",t).all({scrollRegion:".mestripe",reduceScrollAmount:i});n("arrowScroll",".todaynavigation .full-width",t).all({scrollRegion:".sectioncontent",reduceScrollAmount:i});n("stripeMenuManager","body",t).all();n("autoRefresh","#main",t).all();n("outlookInbox",".meflyouts .mail",t).all();n("meTwitter",".meflyouts .twitter",t).all();n("loadMeImages",".mestripe li.maps",t).all({imagesToLoad:".meflyouts .maps img"});n("loadMeImages",".mestripe li.xbox",t).all({imagesToLoad:".meflyouts .xbox section li img"});n("loadMeImages",".mestripe li.bingrewards",t).all({imagesToLoad:".meflyouts .bingrewards .signin section li img",flyout:".meflyouts .bingrewards .signin",selectOnHover:!0});n("loadMeImages",".mestripe li.store",t).all({imagesToLoad:".meflyouts .store section li img"});n("loadMeImages",".mestripe li.amazon",t).all({imagesToLoad:".meflyouts .amazon section li img"});n("loadMeImages",".mestripe li.ebay",t).all({imagesToLoad:".meflyouts .ebay section li img"});n("meIntegratedSkype",".meflyouts .integratedskype",t).all();n("meOffice",".meflyouts .office",t).all({eventName:"OfficeFlyoutVisible"});n("meOffice",".meflyouts .onenote",t).all({eventName:"OneNoteFlyoutVisible"})})}});require(["refreshPdpModules","c.sso"],function(n){n()});require(["meModule","c.sso"],function(n){n.ssoAutoRefresh()});require(["refreshPdpModules","c.pdp"],function(n){n()});define("pagingAnimator",["jquery","modernizr","jqueryPlus"],function(n,t){var i=t.translateXCss;return function(t){function r(n,r,u){var f={};f[i]=n+"px";t.animate(f,{queue:!1,duration:r,easing:u})}return{initialize:n.noop,animationStarting:n.noop,animate:r,animationCompleted:n.noop}}});define("meStripe",["jquery","jqBehavior","dom","document","dir.tokens","imgSrc","touchGestures","scrollStop","track","mediator","viewport","truncate","scrollLeft","requestAnimationFrame","window","perfMarker","setCookie","getCookie","navigation","navigator","location"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){function nt(t){function er(){ui=n(r);st=n("body");lt=n(y);nt=t.find(".mestripe");p=nt.find("> ul > li");at=t.find(".meflyouts .meflyout");kt=a(nt[0]);vt=nt.outerWidth();ct="touchstart MSPointerDown pointerdown";oi=yr()}function or(){er();p.each(br);ri();h.sub(c.sizeChangeEventName,ri);dr()?sr():wi()}function sr(){vr();lt.on(fi,bi);st.click(si);gr()}function wi(){if(!ei)ui.on(bt,di);o(nt,null).setup();nt.on("scroll",ii);nt.on("scrollStop",gi);t.on(bt+" "+ct,ci);lt.on(pi,nr);if(ii(),e.settings.touchSupported)p.children("a").on(oi,lr);p.children("a").on("click touchend",function(){(n(this).attr("href")=="#"?hr:cr).apply(this,arguments)});h.subChannel("closeFlyout","meStripeBehavior",it)}function si(t){if(rt[0]!=t.target&&!n.contains(rt[0],t.target))return t.preventDefault(),t.stopPropagation(),st.off(ni,si),hi(),!1}function bi(t){rt[0]==t.target||n.contains(rt[0],t.target)||hi(t)}function hi(n){n&&n.isPropagationStopped()||(st.off(fi,hi),rt.removeClass(ut),et.removeClass(ut),wi())}function hr(i){if(i.type===ni&&!ei&&!ai(i.originalEvent)){var r=n(this).parent();t.addClass(gt);li(p.index(r))}i.preventDefault();i.stopPropagation();n(this).blur()}function cr(t){if(t.type==="touchend"||ei||ai(t.originalEvent))return t.preventDefault(),t.stopPropagation(),!1;n(this).blur()}function ci(){v(function(){t.find(".signout img").each(function(){f.go(this)})});t.off(bt+" "+ct,ci)}function ki(n){p.find(n.target).length||at.find(n.target).length||(it(),st.off(ct,ki))}function lr(){var i=n(this).parent();if(i.hasClass(ut))it();else{if(wt)return;t.addClass(gt);li(p.index(i));st.on(ct,ki)}}function di(n){if(!wt&&!ai(n.originalEvent)){var i,r;i=u.ltr?n.originalEvent.pageX:y.innerWidth-n.originalEvent.pageX;r=n.originalEvent.pageY;r>=tt.top&&r<=tt.bottom&&i>=tt.left&&i<=yi?ar(n.originalEvent,i):ht?i<ht.x1||i>ht.x2||r<ht.y1||r>ht.y2?it():ft!==!1&&(clearTimeout(ft),ft=!1,it()):ti&&(t.removeClass(gt),ft&&(clearTimeout(ft),ft=!1),ti=!1)}}function ii(n){var t=a(nt[0]);n?t!==kt&&(wt=!0,it()):it();kt=t}function gi(){wt=!1}function nr(n){it(n)}function ar(t,i){var f,u,s=yt.length,e,o;for(ti||(ft||(ft=setTimeout(wr,700)),ti=!0),f=i+kt-tt.left,u=0;u<s;u++)if(f<yt[u]){pt!==u&&(e=p[u],o=r.elementFromPoint(t.clientX,t.clientY),n.contains(e,o)?li(u):it());break}}function vr(){rt=at.eq(p.index(et));v(function(){rt.find("img").each(function(){f.go(this)})});et.addClass(ut);rr(et,rt);rt.addClass(ut)}function li(n){var r,i,f,e,t,o;wt||pt===n||(r=p.eq(n),i=at.eq(n),f=r.data(),e=f&&f.name?f.name:"meTile",it(),ot=i.addClass(ut),r.addClass(ut),dt=setTimeout(function(){h.pub(e.split(" ")[0]+"FlyoutVisible");s.trackEvent({type:"mouseenter"},r,"",e)},250),i.attr("data-truncated")!=="true"&&i.find("> section ul > li").length&&(l(" > section p",i,null).setup(),i.attr("data-truncated","true")),pt=n,rr(r,ot),t=ot.offset(),o=ot.outerWidth(),ht={x1:u.ltr?t.left:y.innerWidth-t.left-o,y1:t.top,x2:u.ltr?t.left+o:y.innerWidth-t.left,y2:t.top+ot.outerHeight()})}function it(t){if(ot&&(!t||t.type!="blur"||!n("iframe").is(":focus"))){var r=p.eq(pt),i=r.data(),u=i&&i.name?i.name:"meTile";ot.removeClass(ut);r.removeClass(ut);ot=pt=ht=!1;dt&&(clearTimeout(dt),dt=!1);h.pub(u.split(" ")[0]+"FlyoutClosed")}}function tr(){var n;return n=nt.offset(),n.right=n.left+nt.outerWidth(),n.bottom=n.top+t.outerHeight(),n}function yr(){return"touchend MSPointerUp pointerup"}function ri(){if(!tt){ir();return}var n=tr();(tt.left!=n.left||tt.top!=n.top||tt.right!=n.right||tt.bottom!=n.bottom)&&ir(n)}function ir(n){it();vt=nt.outerWidth();tt=n?n:tr();pr()}function pr(){yt=[];for(var t=0,i=p.length,n=0;n<i;n++)yt.push(t+=p[n].offsetWidth);yi=yt[n-1]+tt.left}function wr(){ft=!1;t.addClass(gt)}function br(){var t=n(this),r=i.text(this),u="app",f="mixed";t.hasClass(u)?r+="_"+u:t.hasClass(f)&&(r+="_"+f);t.data({name:r})}function dr(){return et===undefined&&(et=p.filter(ur)),et.length}function ai(n){return n.pointerType&&n.pointerType!=="mouse"&&n.pointerType!==4}function rr(n,t){var r=t.outerWidth(),i=u.ltr?n.position().left:vt-n.position().left-n[0].offsetWidth,f=i+r;f>vt&&(i=u.ltr?n.position().left+n.outerWidth()-r:vt-n.position().left-r);u.ltr?t.css({left:i}):t.css({right:i})}function gr(){var i="skypefre",r="ocid",n=k.getParamsFromUrl(g.href),t=n&&n[r]?n[r].toLowerCase():"",u=t=="sky2dhp"||t.indexOf("sk2")==0,f=b(i);u&&!f&&w(i,t,365,w.topDomain,"/")}var ui,st,lt,nt,p,at,tt,kt,vt,dt,et,rt,ut="hover",gt="noflyoutdelay",vi="mestripefre",fi="keydown",ur="[data-firstrun]:first",ni="click",fr=180,yt=[],yi,ot=!1,pt=!1,ht=!1,ti=!1,ft=!1,wt=!1,pi="blur MSOrientationChange orientationchange",ei=/(iPad|iPhone|iPod|Android)/g.test(d.userAgent),bt=d.pointerEnabled||d.msPointerEnabled?"pointermove MSPointerMove":"mousemove",ct,oi;return{setup:function(){or()},update:function(){p=nt.find("> ul > li");at=t.find(".meflyouts .meflyout");ii();ri()},teardown:function(){h.unsub(c.sizeChangeEventName,ri);ui.off(bt,di);nt.off("scroll",ii);nt.off("scrollStop",gi);t.off(bt+" "+ct,ci);p.children("a").off(oi).off("mouseup").off(ni);lt.off(pi,nr);lt.off(fi,bi);st.off(ni,si)}}}return t(nt)});define("outlookLogout",["jquery","jqBehavior","track","window"],function(n,t,i,r){function u(n){var t=n.data("outlook-url");n.click(function(){return r.open(t),i.trackEvent({type:"click",target:this}),!1})}return t(u)});define("keypressCapture",["jquery","jqBehavior","mediator","perfMarker","window","document"],function(n,t,i,r,u,f){function s(t,u){function a(){h=!0}function v(){h||n(this).focus()}function c(t){t.charCode>32&&t.charCode<=126&&n(t.target).is(l)&&s.focus()}var s=n(u.focusSelector),l=":not(input,textarea,select,{selector})".replace("{selector}",u.focusSelector),h=!1,f;o.one("focusin mousedown touchstart",a);s.one("keypress",v);return f={setup:function(){t.on("keypress",c);e||(e=!0,r("TimeToFirstSearchInteractive",!0))},teardown:function(){t.off("keypress",c)}},i.sub("feedback.open",f.teardown),i.sub("feedback.close",f.setup),f}var o=n(f),e;return t(s,{focusSelector:""})});define("nativeadPartnerData",["trackInfo","pageInstance","headData"],function(n,t,i){function r(){return{cid:n.client.clientId(),rid:t.getActivityId()||i.clientSettings.aid}}return{getData:r}});define("nativeAdTrackingHelper",["jquery","document","elementTrackingDecorator","classList","trackInfo","format","trackingHelper"],function(n,t,i,r,u,f,e){function v(t,r){if(t&&r){var u=n(t);r.elementOverride=o;i.setTrackingAttrs(u,u,r,!0)}}function o(t,i){var f=-1,r;t&&i.Items&&n.each(i.Items,function(n,i){if(i.trackingId&&t[0].href.indexOf(i.trackingId)>-1)return f=i.slot,!1});f>-1?(r=i.Items[f],r&&(i.l=r.trackingId,i.n=c.format(r.type),i.y=r.trackingType,r.trackingType===u.telemetryModuleTypes.appStore&&t[0].logger_url&&(t[0].logger_url=t[0].logger_url.replace(/&redir=(.*?)&/,"&redir="+r.url+"&")))):i.n=h;i.Items=undefined}function s(n){var t,i,r;n.url&&(n.url.indexOf("://")>-1&&!(n.url.indexOf("ms-windows-store")>-1)?(t=n.url.split("/")[2],t.indexOf("msn.com")>-1?(n.trackingType=u.telemetryModuleTypes.Headline,n.trackingId=n.url.split("?")[0].split("-").pop()):n.trackingType=u.telemetryModuleTypes.Module):(t=n.url.split("/")[0],t.indexOf("ms-windows-store")>-1&&(i=decodeURIComponent(n.url).match(l),r=i&&i.length>1&&i[1],r||(n.url=y(n.url),n.trackingType=u.telemetryModuleTypes.appStore,n.trackingId=n.url.split("&")[0].split("=").pop(),n.url=encodeURIComponent(e.addCcidToStoreUrl(n.url))))))}function y(n){var o=n.match(a),h=o&&o[1],e=n.indexOf("#"),s="",u={startpage:"apptabinfo",viewsPage:"apptabeoab",verticalLandingPage:"apptabvert",defaultOcid:"apptabinfo"},f,i;return h?n:(e>=0&&(s=n.substring(e,n.length),n=n.substring(0,e)),f=n,i=t.body,f+="&ocid=",f+=r.contains(i,"startpage")?u.startpage:r.contains(i,"ap")||r.contains(i,"gp")?u.viewsPage:r.contains(i,"homepage")?u.verticalLandingPage:u.defaultOcid,f+s)}function p(n){var i={selector:"a[title]"},u=i.defaults||{},f={},e=0,t,r;if(n.detail.items&&(e=n.detail.items.length),e){for(t=0;t<n.detail.items.length;t++)r=n.detail.items[t],s(r),f[t]=r;u.Items=f;i.defaults=u;v(n.detail.container,i)}}var h="TaboolaAttributionLink",c="Taboola{0}Item",l=/[&?]ccid=([^&]+)/i,a=/[&?]ocid=([^&]+)/i;return{taboolaCallback:o,setTaboolaTrackingAttributes:s,onTaboolaElementsRender:p}});define("externalNativeAdsLoader",["jquery","jqBehavior","nativeAdTrackingHelper","slideShowNavigation","mediator","c.deferred"],function(n,t,i,r,u){function f(n){function g(){u.unsubChannel(r.event.update,v,c);o!=null&&(clearTimeout(o),o=null)}function nt(){require({js:s});for(var n=0;n<s.length;n++)window._taboola=[],_taboola.push({listenTo:"render",handler:i.onTaboolaElementsRender}),_taboola.push({flush:!0})}function tt(){g();nt()}var a,c="0",v="1",f,e,t,o;a={"10":"//a.postrelease.com/serve/load.js","20":"//cdn.3lift.com/msn_infopane.js","21":"//ib.3lift.com/ttj?inv_code=msn_main_river","30":"//widgets.outbrain.com/external/publishers/msn/MSNOBCore.min.js","40":"//cdn.taboola.com/libtrc/msn-home-network/loader.js","50":"//static.grvcdn.com/personalization/js-src/msn-14f1a20a34a9356b91dd8b860925478c/hostedSnippet-pl-401-sp-6804.js","60":"//cdn.taboola.com/libtrc/msn-section-network/loader.js"};var l=[],s=[],w=n.attr("data-nativead"),b="data-ad-tag",y=w.split(";");for(f=0;f<y.length;f++)if(e=y[f].split("_"),e.length>2){var h=e[0],k=e[1],d=e[2],p=n.find(d).first();p.length&&(t=a[h],t&&(p.attr(b,h+":"+k+":"+f),h==40||h==60?s.indexOf(t)<0&&s.push(t):l.indexOf(t)<0&&l.push(t)))}setTimeout(function(){require({js:l})},"0");o=null;o=setTimeout(tt,c);u.subChannel(r.event.update,v,c)}return t(f)});require(["binding","perfMarker","c.dom"],function(n){n("externalNativeAdsLoader","#main [data-nativead]").all()});define("meFacebookLite",["jquery","jqBehavior","escape","meModule.Tokens","socialPlugins.tokens","mediator"],function(n,t,i,r,u,f){function e(n,t){function e(){f.unsub(t.flyoutVisibleEvent,e);var o=r.tile.facebookLite[1].likeUrl,s="//www.facebook.com/plugins/like.php?locale="+u.facebookLang+"&href="+i.urlPart(o)+"&width&layout=button_count&action=like&show_faces=false&share=false&height=20";n.find("iframe").attr("src",s)}return{setup:function(){f.sub(t.flyoutVisibleEvent,e)}}}return t(e,{flyoutVisibleEvent:"FacebookFlyoutVisible"})});require(["jquery","isWindowsOsVersionRs1OrLater","trackInfo","c.deferred"],function(n,t,i){var r=t.validate(),u=n("body[class*=edgewdushpmsg]").length>0?!0:!1;r&&u&&i.updateTemplValue("eubtmpl")});define("isWindowsOsVersionRs1OrLater",["document"],function(n){function t(){var t=n.createElement("canvas").getContext("2d"),i;return t.font="64px Segoe UI Emoji",i=t.measureText("").width,i<=90?!0:!1}return{validate:t}});require(["jquery","navigation","location","getCookie","setCookie","mediator","c.deferred"],function(n,t,i,r,u,f){(function(){function w(){s=h.inst?parseInt(h.inst):0;isNaN(s)&&(s=0)}function b(n){var i="",t,u,r;n||(h.inst=[o.i]);for(t in h)if(h.hasOwnProperty(t)&&(!n||t!=="inst"))for(u=h[t],r=0;r<u.length;r++)i=(i.length?i+"&":"?")+(t+"="+u[r]);return i}function k(n){o={i:n,n:1}}function d(){var n=r(v);try{e=JSON.parse(n)}catch(t){e={ni:1,insts:[]}}}function g(){var i,n,t;if(d(),s)for(i=e.insts.length,n=0;n<i;n++)e.insts[n].i===s&&(o=e.insts[n]);typeof o===ut?(t=s?s:e.ni,k(t),e.ni=t+1,e.insts.push(o)):o.i===p&&(o.i=e.ni,e.ni=e.ni+1,e.insts.push(o))}function ot(n){var t,i;return n.currentTarget?(t=!1,n.currentTarget.href&&(i=n.currentTarget.href.substr(n.currentTarget.href.length-1),t=i==="#"),n.currentTarget.target!=="_blank"&&(n.currentTarget.protocol===""||n.currentTarget.protocol===":"||n.currentTarget.protocol==="http:"||n.currentTarget.protocol==="https:")&&!t)?!0:!1:!1}function c(n,t){o&&(o[n]=t)}function l(){var t=new Date,n;c(ft,t.getTime());n=JSON.stringify(e);u(v,n,null,u.topDomain,"/",null)}function nt(n){if(ot(n)){if(s===0){g();var t=b();window.history.replaceState(null,null,t)}else c(y,1);l()}}function st(){if(!s){k(p);return}g();c(y,0);l()}function ht(){var t=-1,n,i;for(d(),n=0;n<e.insts.length;n++)i=e.insts[n],i.i===s&&(t=n);t>-1&&(e.insts.splice(t,1),l())}function tt(n){if(n.persisted){rt(!0);w();var t=b(!0);window.history.replaceState(null,null,t);ht()}}function it(n){c(et,n)}function rt(t){var i="click",r="#main a, #foot a",u="infopane_slide_change";if(t)window.removeEventListener(a,tt,!1),n(r).off(i,nt),f.unsub(u,it);else{window.addEventListener(a,tt,!1);n(r).on(i,nt);f.sub(u,it)}}var e,o,a="pageshow",ut="undefined",v="hpinst",ft="m",y="n",et="s",h=t.getParamsFromUrl(i.href,!0),s,p=999;window.history&&window.history.replaceState&&(w(),st(),rt())})()});define("pageBindings.pc",["binding","perfMarker","headData","document","c.dom"],function(n,t,i,r){n("keypressCapture","body").all({focusSelector:"#q"});var u=r.getElementById("q");return u!=null&&u.focus(),t("TimeToFirstSearchInteractive",!0),function(t){i&&i.clientSettings&&i.clientSettings.static_page||(n("meStripe",".mestripeouter",t).all(),n("outlookLogout","#outlooklogout",t).all(),i&&i.clientSettings&&i.clientSettings.functionalonly_cookie_experience)||require(["c.deferred"],function(){i&&i.clientSettings&&!i.clientSettings.functionalonly_cookie_experience;n("meFacebookLite",".meflyouts .facebooklite",t).all()})}});define("feedbackHelper",["jquery","trackInfo","screen","document","headData","guidGen","navigator"],function(n,t,i,r,u,f,e){function o(n){if(!t.sitePage)return n;n=n||{};var o=t.sitePage,s=t.telemetryTracking.setupParameters();return n["feedback.id"]=f(),n.pageType=o.pageName,n.subcvs=o.vertical,n.cvs=o.canvas,n.contentid=o.entityId,n.cu=o.pageUrl,n.evt="feedback",n.mkt=o.localeCode,n["client.deviceOS"]=o.os,n.flightid=o.flightid,n.referrer=r.referrer,n.signedin=t.userStatic?t.userStatic.isSignedIn:"",n["client.deviceModel"]=u?u.dg:"",n.userAgent=e.userAgent,n.scr=i.width&&i.height?i.width.toString()+" X "+i.height.toString():"",s!==null&&s!==undefined&&(n.rid=s.rid,n.clid=s.clid),n}return{createFeedbackData:o,flyoutEventOrigin:"#footer_feedback, #usermenu-feedback, #feedback-bottomentry, .floatingfeedback"}});define("feedback.tokens",{inputBoxError:"",categoryNotSelectedError:""});define("feedback",["jquery","trackInfo","feedback.tokens","flyout","logging","jqBehavior","mediator","document","headData","feedbackHelper","guidGen","window","keyCode"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function nt(f){function ii(){ni?o.body.appendChild(ot):(ot=o.createElement("div"),ot.setAttribute("class","layoutoverlay"),o.body.appendChild(ot),ut=f.find(".feedbackheader .selected"),ft=n("#feedback-reportproblem"),pt=n("#feedback-submit"),vt=n("#feedback-ok"),yt=n("#feedback-close"),st=n("#feedback-feedbackarea"),nt=n("#feedback-inputbox"),wt=n("#feedback-useralias"),ht=f.find(".stars > ul > li"),ni=!0);it=!1;tt=null;rt.text(b);rt.removeClass("uploading uploaded");ti=c();bt=!1;!p&&t.sitePage&&(p=(t.sitePage||{}).otfURL,p||u.error("[telemetryTracking.Feedback] BaseUrl was empty or undefined in sitePage."))}function hi(){nt.length&&(s.submitValue=nt.val());wt.length&&(s[y+".source"]=wt.val())}function ci(){if(s[y+".area"])return et&&lt(),!0;if(!et&&nt.length){if(nt.val().length)return!0;nt.val(it?i.categoryNotSelectedError:i.inputBoxError);nt.addClass("error").on("focus",lt);et=!0}return!1}function lt(){et&&(nt.removeClass("error").off("focus",lt),et=!1);nt.val("")}function ri(n){n.preventDefault();ct.click()}function ui(){var t,r,i;if(!p){u.error("[feedback] Error submitting user feedback as telemetry baseUrl is empty");return}t=ct[0];r=t.value?t.value.replace(/^.*(\\|\/|\:)/,""):"";rt.text(r||b);t.value&&t.files&&t.files.length&&(rt.addClass("uploading"),i=new l.FormData,i.append("file",t.files[0]),n.ajax({url:p+"?"+n.param({"feedback.id":ti}),data:i,processData:!1,contentType:!1,type:"POST"}).done(function(){rt.removeClass("uploading").addClass("uploaded")}))}function li(){if(!p){u.error("[feedback] Error submitting user feedback as telemetry baseUrl is empty");return}s=h.createFeedbackData(s);hi();n.ajax({type:"POST",url:p,data:JSON.stringify([s]),contentType:"application/json; charset=utf-8",dataType:"json"}).fail(function(n,t,i){u.error("[feedback] Error submitting user feedback. ErrorType: {0}. Error: {1}".format(t,i.message))})}function ai(){ut.focus()}function vi(n,t){ii();pt.on(v,oi);yt.on(v,at);ft.on(v,si);ut.on(v,gt);ht.on(v,dt);ht.on("keyup",yi);ct.on("change",ui);rt.on(v,ri);e.pub(y+".open");t(n,ai)}function fi(n){var t=st.find(".feedbackarea>ul>li");t.length&&(n?t.on(v,ei):t.off(v,ei))}function ei(t){var i=n(t.currentTarget);s[y+".area"]=i.text();s[y+".type"]="bug";tt&&tt.removeClass("selectedcategory");tt=i;i.addClass("selectedcategory")}function dt(t){var i,e;if(t&&t.currentTarget){var r=n(t.currentTarget),u=r.index()+1,f=o.getElementsByClassName("sensoryStars");for(i=0;i<f.length;i++)e=f[i],e.setAttribute("aria-checked",!1);r.parent().attr("data-selected",u);r.attr("aria-checked",!0)}s[y+".rating"]=u}function yi(n){(n.which==a.Enter||n.keyCode==a.Enter)&&dt(n)}function pi(){s[y+".rating"]=0;ht.parent().attr("data-selected",0).off(v,dt)}function at(){e.pub(y+".close");bt&&(vt.off(v,at),li());f.removeClass("show finalpage");o.body.removeChild(ot);pt.off(v,oi);yt.off(v,at);ft.off(v,si);ut.off(v,gt);ct.off("change",ui);rt.off(v,ri);lt();pi();it&&gt()}function oi(){if(ci()){f.addClass("finalpage");bt=!0;vt.on(v,at)}}function si(){it||(it=!0,st.addClass("showproblemarea"),ut.removeClass(w),ft.addClass(w),fi(!0))}function gt(){it&&(fi(!1),s[y+".type"]="General",s[y+".area"]=undefined,ut.addClass(w),ft.removeClass(w),st.removeClass("showproblemarea"),it=!1,tt&&tt.removeClass("selectedcategory"),tt=null)}var vt,yt,st,nt,ut,ft,tt,ht,pt,wt,et,bt,ot,it,ct=f.find(k),rt=f.find(g),ni=!1,ti=c(),s={},kt;return s[y+".rating"]=0,s[y+".type"]="General",kt=r(d,o,{eventOrigin:h.flyoutEventOrigin,outsideEvent:"",openFlyoutDelegate:vi,allowToggleOff:!1}),{setup:kt.setup,teardown:kt.teardown,feedback:{initialize:ii}}}var p="",v="click",y="feedback",k="#feedback-file",d="#feedback-flyout",b="",w="selected",g="#feedback-upload";return f(nt)});deferredCanary="c.deferred";deferredCanary="c.postdeferred";require(["binding",deferredCanary],function(n){n("feedback","#feedback-flyout").all()});define("appPromoFooter",["jquery","setCookie","track","c.dom"],function(n,t,i){return function(){function f(){i.trackEvent({type:"click_nonnav"},this);r.remove();t("pf-"+u,e(),365,!1,"/")}function e(){var n=new Date;return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}var r=n("#promoappfooter"),u;r.length&&(u=r.attr("data-vkey"),r.find(".closebutton,.msnpromo li a,.appexploretext").click(f))}});require(["appPromoFooter"],function(n){n()});define("floatingFeedbackLink",["jquery","jqBehavior","mediator","window","modernizr"],function(n,t,i,r,u){function o(n){function r(i){i.top===0?(n.removeClass(f),t=!1):t||(n.addClass(f),t=!0)}var t=n.hasClass(f);return{setup:function(){var t=document.getElementById("conditionalbanner");n.length!==1||t||i.sub(e,r);!u.csstransform3d&&t&&n.hide()},teardown:function(){i.unsub(e,r)}}}var f="show",e="viewport_scroll_change";return t(o)});require(["binding","c.deferred"],function(n){n("floatingFeedbackLink",".floatingfeedback").view(n.views.SIZE4COLUMN)});define("appHelper",["document","colorHelper","format","errorCategory","webStorage"],function(n,t,i,r,u){function c(n,t){for(var r,u,f={},o=n instanceof Array&&n.length||0,i=0;i<o;i++)r=e(n[i]),u=r.aumId||t&&r.pfn,u&&(f[u]=!0);return Object.keys(f)}function e(n){var t={bigCatId:null,aumId:null,pfn:null},i;return n&&(i=n.indexOf("!"),i>0?(t.aumId=n,t.pfn=n.substring(0,i)):n.indexOf(".")>0||n.indexOf("_")>0?t.pfn=n:t.bigCatId=n),t}function h(n){var t=e(n);return l(t)}function l(n){return n.pfn&&o?i(o,n.pfn):n.bigCatId&&s?i(s,n.bigCatId):null}function a(n,t,f,e){var o,s,h,c;return t!=null&&f!=null&&(o=r.appInstallError,s="NA",n.trackAppErrorEvent({errId:o.errId,errMsg:i(o.errMsg,f||s),errSource:i(o.errSource,t||s,e||s)}),h="install_error_"+t,c=u.getItem(h,!0),!c)?(u.setItem(h,"1",!0),!0):!1}function v(t,i,r,u){if(!r||a(t,i,r,u)){var e=h(i);if(e)return f||(f=n.createElement("a")),f.setAttribute("href",e),f.click(),!0}return!1}function y(n,i){var r={color:"",background:"",border:"",action:"",remove:"",isLightBackground:null},u=n,v=i||"#fff",h=t.parseColor(v),c,s;if(h&&(r.background=t.formatColor(h),c=t.grayScale(h)>128,u=u||(c?"#000":"#fff"),r.isLightBackground=c),u){if(s=t.parseColor(u),s){var f=s.r,e=s.g,o=s.b,l,a;t.grayScale(s)>128?(u=t.formatColor(f,e,o,.85),l=t.formatColor(f,e,o,.15),a=t.formatColor(f,e,o,.7)):(u=t.formatColor(f,e,o,.95),l=t.formatColor(f,e,o,.1),a=t.formatColor(f,e,o,.55));r.border=l;r.action=a;r.remove=t.formatColor(f,e,o)}r.color=u}return r}var o="ms-windows-store://pdp/?PFN={0}",s="ms-windows-store://pdp/?productId={0}",f;return{filterAppIdsForAppInstallStateCheck:c,getAppCalculatedColors:y,getApplicationStoreLink:h,tryLaunchStoreProductPage:v,tryParseAppId:e}});define("colorHelper",["document","measure"],function(n,t){function h(n){return n&&(o(n)||c(n))}function o(n){var r=n&&n.replace("#",""),t=parseInt(r,16),i;return isNaN(t)?null:(i=r.length,i==3)?{r:(t>>8)*17,g:(t>>4&15)*17,b:(t&15)*17,a:1}:i==6||i==8?{r:t>>16&255,g:t>>8&255,b:t&255,a:i==6?1:(t>>24&255)/255}:null}function c(i){var s,f,h;return i?(r||(r=n.createElement("div"),n.querySelector("body").appendChild(r)),r.style.color=i,s=t(r,"color"),f=s.replace(e,"").match(/^(?:rgba?)\(((?:\d+\.)?\d+%?),((?:\d+\.)?\d+%?),((?:\d+\.)?\d+%?)(?:,((:?\d*\.)?\d+))?\)$/),f)?(h=f[4],{r:u(f[1],255,!0),g:u(f[2],255,!0),b:u(f[3],255,!0),a:h?u(h,1):1}):o(s):null}function u(n,t,i){var r=parseFloat(n);return isNaN(r)?0:(r=n.indexOf("%")>=0?Math.max(0,Math.min(100,r))*t/100:Math.max(0,Math.min(t,r)),i?Math.round(r):+(Math.round(r+"e+2")+"e-2"))}function l(n,t,r){if(isNaN(n)&&typeof n=="object"&&n!=null){var u=n;n=u.r;t=u.g;r=u.b}return i(n)&&i(t)&&i(r)?Math.min(255,Math.round(n*.299+t*.587+r*.114)):255}function a(n,t,r,u){var f,e;if(arguments.length==1&&typeof n=="object"&&n!=null&&(f=n,n=f.r,t=f.g,r=f.b,u=f.a),i(n)&&i(t)&&i(r)){if(n=Math.round(n),t=Math.round(t),r=Math.round(r),u===undefined||u==1)return s(n<<16|t<<8|r);if(e=parseFloat(u)||parseInt(u),!isNaN(e)&&u>=0&&u<1)return"rgba("+[n,t,r,u].join(",")+")"}return null}function i(n){return!isNaN(n)&&n!=null&&(typeof n!="string"||n.replace(e,"").length)&&n>=0&&n<=255}function v(n){var t=null;return typeof n=="number"&&n>=0&&n<f&&(t=s(n)),t}function s(n){return"#"+(f|n).toString(16).slice(1)}var r,f=16777216,e=/\s+/g;return{parseColor:h,formatColor:a,grayScale:l,rgbNumberToCssHexColor:v}});define("simpleTopSitesModule",["jquery","appHelper","document"],function(n,t){function i(){for(var o,l,s=n("#simpletopsites"),h=n(".topsite",s),c=JSON.parse(s.attr("data-topsites"))||[],a=Math.min(c.length,h.length),r=0;r<a;r++){var u=c[r],f=n(h[r]),v=f.find("a:first-child div h4"),e=f.find("a.js-appAction"),i=t.getAppCalculatedColors(u.color,u.background);v.css("color",i.color);f.css("background",i.background);f.addClass(i.isLightBackground?"light":"dark");o=u.appIds&&u.appIds[0];o&&e.length>0&&(l=t.getApplicationStoreLink(o),e.attr("href",l),e.css("color",i.action),e.css("borderTopColor",i.border))}}return{render:i}});require(["simpleTopSitesModule"],function(n){n.render()});require(["document"],function(n){define("c.riverReady",1);var t=n.getElementById("spfooter");t&&t.classList.add("river")});window._perfMarker&&window._perfMarker("TimeToJsBundleExecutionEnd");window._perfMeasure&&window._perfMeasure("TimeForJsBundleExecution","TimeToJsBundleExecutionStart","TimeToJsBundleExecutionEnd",!0)